<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>

<HEAD>
<TITLE>Linux ELF specifics</TITLE>
<LINK REV="made" HREF="mailto:datpete@daimi.aau.dk">
</HEAD>

<BODY>
<H1>Linux ELF specifics</H1>

<H2><A NAME="intro">Introduction</A></H2>

The object files for target <CODE>linux</CODE>
is in <EM>Executable and Linkable Format (ELF)</EM>.
A general description of this can be found in 
<A HREF="#ELF">[ELF]</A>.

<H2><A NAME="files">File organization</A></H2>

The files constituting the Linux ELF specifics are 
(paths relative to directory GENERATOR):

<P>
<TABLE BORDER CELLPADDING=5 CELLSPACING=0>
<TR>
<TD><CODE>ELF/elf_intel.bet</CODE></TD>
<TD>Definitions of data types and constants corresponding to the
linux specific definitions in <CODE>linux/elf.h</CODE>.
Should probably be renamed to <CODE>ELF/elf_linux.bet</CODE>.
</TD>
</TR>

<TR>
<TD><CODE>LINUX/LINUXelf.bet</CODE></TD>
<TD>
File binding ELF specific SLOTs in <CODE>INTEL/INTELmstate.bet</CODE>
and <CODE>INTEL/INTELBmachine.bet</CODE>. For instance the emission of
the image as an ELF file is in here.
</TD>
</TR>

</TABLE>

<H2>Special Codegeneration Issues</H2>

<H3><A NAME="relocation"></A>Relocation types</H3>
The following relocation types are used:
<P>
<TABLE BORDER CELLPADDING=5 CELLSPACING=0>
<TR>
<TH ALIGN=CENTER VALIGN=CENTER>BETA abstraction</TH>
<TH ALIGN=CENTER VALIGN=CENTER>Linux ELF relocation type</TH>
</TR>
<TR><TD><TT>entryDefMark</TT></TD><TD><TT>R_386_NONE</TT></TD></TR>
<TR><TD><TT>wordMark</TT></TD><TD><TT>R_386_32</TT></TD></TR>
<TR><TD><TT>jmpMark</TT></TD><TD><TT>R_386_PC32</TT></TD></TR>
<TR><TD><TT>dataMark</TT></TD><TD><TT>R_386_32</TT></TD></TR>
<TR><TD><TT>codeMark</TT></TD><TD><TT>R_386_32</TT></TD></TR>
<CAPTION ALIGN=BOTTOM><EM>Linux ELF relocation types</EM></CAPTION>
</TABLE>
<P>
The <CODE>dataMark</CODE> and <CODE>codeMark</CODE> types are treated
especially: They cause relocation relative to sections
<CODE>.data</CODE> and <CODE>.text</CODE>, respectively.

<H2><A NAME="bibliography">Bibliography</A></H2>

<DL>

<DT><A NAME="LJ12">[LJ12]</A>
<DD>
<EM>
<A HREF="http://www.ssc.com/lj/issue12/kernel_korner_12.html">
Linux Journal #13, may 1995. Kernel Korner<BR>
The ELF Object File Format: Introduction
</A>
</EM>
<P>

<DT><A NAME="LJ13">[LJ13]</A>
<DD>
<EM>
<A HREF="http://www.ssc.com/lj/issue13/kkelf.html">
Linux Journal #13, may 1995. Kernel Korner<BR>
The ELF Object File Format by Dissection
</A>
</EM>
<P>

<DT><A NAME="howto">[HOWTO]</A>
<DD>
<EM><A HREF="http://www.cc.gatech.edu/linux/LDP/HOWTO/ELF-HOWTO.html">
The Linux ELF HOWTO
</A></EM>
<P>

<DT><A NAME="ELF">[ELF]</A>
<DD>
<EM><A HREF="ftp://ftp.intel.com/pub/tis/elf11g.zip">
Execuable and Linkable Format<BR>
Tool Interface Standards - Portable Formats Specification, version 1.1
</A></EM><BR>
<A HREF="http://www.daimi.aau.dk/~devise/Internal/beta/PDF/elf.pdf">Local PDF version of ELF specification</A>.
<P>


<DT><A NAME="ELFPPC">[ELFPPC]</A>
<DD>
<EM>
<A HREF="http://www.mot.com/SPS/MCORE/EVScdrom/diab/data/html/linkppc/link4.htm#1002313">
Executable and Linking Format (ELF) (PowerPC Linker)
</A>
</EM>
<P>

</BODY>
</HTML>
