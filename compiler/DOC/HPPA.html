<HTML>

<HEAD>
<TITLE>BETA compiler HPPA specifics</TITLE>
</HEAD>

<BODY>
<H1>BETA compiler HPPA specifics</H1>

<H2>Contents</H2>

<UL>
<LI><A HREF="#introduction">Introduction</A>
<LI><A HREF="#registers">Register model</A>
<LI><A HREF="#bibliography">Bibliography</A>
</UL>

<H2><A NAME="introduction">Introduction</A></H2>

The BETA compiler currently supports PA-RISC 1.1 or higher
architectures.  It does NOT support PA-RISC 1.0. A main difference is
that PA-RISC 1.0 does only have 16 floating-point registers whereas 1.1
and higher have 32 floating point registers.

<H2><A NAME="registers">Register model</A></H2>

<PRE>
r0 = 0
r1 = scratch
r2 = return pointer
r3 = th
r4 = ca
r5 = or   (or is now primReg1 / OLM:Jan.94.)
r5 - r8 = address registers 
	     The logical address registers a2-a4 are mapped to r5-r7.
	     r8=a5 is used as a temporary address register, but does NOT
	     hold addresses of objects, i.e. it shall NOT be garbage collected.
	     The registers r3-r7 can refer to objects and MUST be garbage collected.

r9 - r13 = dataregisters
r14 = NOT USED, was: Reference Stack Pointer, RefSP
r15 - r16 = temp. dataregisters

r17 = IOAbot IN MEMORY CELL IOA
r18 = IOAsize IN MEMORY AS: IOATop-IOA

r22 = PrimReg5
r23 - r26 = parameters to external C routines, %r26 = arg0, %r25 = arg1,...
      Also PrimReg1=r26, PrimReg2=r25, PrimReg3=r24, PrimReg4=r23.
r27 = start of global data, not used ??
r28 = return value from C calls
r29 = return value from millicode calls
r30 = stackpointer (the stack grows upwards)
r31 = scratch

fr0-fr3 = status registers, quite unusable
fr4-11  = general caller-saves registers, parameters to C
fr12-21 = callee-saves registers, >15 only on PA-RISC1.1

</PRE>


<H2><A NAME="bibliography">Bibliography</A></H2>


<DL>

<DT><A NAME="hppa1.1">[HPPA1.1]</A>
<DD>
<EM><A 
HREF="http://www.hp.com:80/nsa/pa1.1/html/acd-1.html">
Online version of the PA-RISC 1.1 manual</A></EM><br>
<DD>
<EM><A
HREF="http://www.hp.com/nsa/pa1.1/html/appendices-2.html">PA-Risc 1.1
Instruction Set Index</A></EM><br>
Part of <A HREF="http://www.hp.com/nsa/pa1.1/html/acd-1.html">PA-RISC
1.1 Architecture and Instruction Set Reference Manual, Third Edition</A><BR>
<DT>[HPPA2.0]
<DD>
The manual for PA-RISC 2.0 is published by Prentice Hall and
has the ISBN of 0-13-182734-0. (The BETA compiler currently does NOT use any
specific 2.0 features.)
</DL>


</BODY>
</HTML>