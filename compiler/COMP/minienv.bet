BODY 'minienvbody'; 
---------------betaenv:attributes--------------------
(************************************************ 
 *          Component BETA environment          *
 ************************************************)
minienv: @
  (# <<SLOT minienv_lib:attributes>>;
     charValue: (# value: @char do INNER exit value #);
     BOOLEAN: (#  #);  
     FALSE: BOOLEAN(# #);   
     TRUE: BOOLEAN(# #);  
     int8: (# #); 
     CHAR: (# #); int8u: (# #);
     int16: (# #); 
     int16u: (# #); shortInt: (# #);  
     int32: (# #); INTEGER: (# #);   
     int32u: (# #);
     int64: (# #); 
     int64u: (# #);    
     real: (# x,y: @integer enter(x,y) exit(x,y) (* realdesc *) #);
     real32: (* single precision real for bytecode only *) (# #);   
     External:  
       (# CallC,CallStd,CallPascal,Pascal,PascalTrap, 
  	  cExternalEntry,PascalExternalEntry: @text   
       #);           
     Com: (# #); 
     Holder: (# adr: @ integer #);    
     state: (# #);
     IntegerValue: (# value: @integer do INNER exit value #);
     IntegerObject: IntegerValue(# enter value do INNER #);
         
     proc: (# procname,susanne: @text #);  
     static_proc: (# procname: @text #); 
     cons: (# procname: @text #); 
     static_cons: (# procname: @text #);   
     class: (# #);
     externalClass: (# classname,location: @text #);
     Structure: (# #);   
     Data: (# #);       
     ErrorName: (# #);        
     Object:  
       (# _Struc:  
            (# (* Changed 12/8/97 by datpete: 
                * eliminates need for runtime routine ThisS
                *)    
               (* R: ##Object do TOS'ThisS'->R## exit R## *)
            exit THIS(Object)##   
            #);     
       do INNER 
       #);
     repetition:      
       (* pattern describing repetitions.
        * Do NOT use as superpattern!!! 
        *)   
       (# range: (* exit the range of THIS(rep) *)
            (# n: @ integer exit N #); 
          new:  
            (* allocate a new repetition of N elements
             * the current elements in THIS(rep) becomes inaccessible
             *)  
            (# n: @integer enter n #);
          extend: (* extend THIS(rep) by N elements *)
            (# N: @integer enter N #);  
       #);
     stream:
       (# put:< (# ch: @ char enter ch do inner #);
          newline: (# <<SLOT stream_newline:dopart>> #);
          puttext:
            (# T: ^text
            enter T[]      
            <<SLOT stream_puttext:dopart>>
            #);   
          putLine:     
            (# T: ^Text    
            enter T[]  
            <<SLOT stream_putline:dopart>> 
            #);  
          get:< (# ch: @char do inner exit ch #); 
          putInt: 
            (# n,i: @integer; W: [12]@char    
            enter n  
            <<SLOT stream_putint:dopart>>
            #);    
       #);     
     text: stream   
       (# T: [100] @char; lgth,pos: @integer ;
          clear: (# <<SLOT text_clear:dopart>> #);
          put::< (# <<SLOT text_put:dopart>> #);  
          setT: (# enter T <<SLOT text_setT:doPart>> #);
       enter setT    
       exit T        
       #);  
     cycle: (# do L: (#do INNER cycle; restart L #)#);
           
     main:
       (# <<SLOT LIB:attributes>>; 
          in,out: ^stream;
          args: ^text  
       enter(in[],out[],args[])  
       do INNER
       #);  
     run:      
       (# theMain: ^main 
       enter theMain[]   
       <<SLOT run:doPart>>
       #)     
  #)













 
 
