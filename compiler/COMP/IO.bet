ORIGIN 'minienv';
---lib:attributes---
(* does not really work, since we cannot have
 * dara-items at the outer level of components.
 * Some pre-vm limitation.
 * 
 * This one will require that we can define a constructor 
 * for components - to be executed when the component is
 * loaded or cloned
 * 
 * IO is perhaps a good example of why a component should
 * be an object and not a class. We wnat to be able to refer 
 * to the component trough some reference - if a class the
 * component must be instantiated and we need a reference to 
 * it somewhere. If an object we can use the component name.
 *)
IO: @
  (# 
     out: @ stream
       (# put::<
            (# write: External  
                 (# ch: @char
                 enter ch  
                 do '%primitive:put' -> callC  
                 #);
            do ch -> write
            #) 
          
       #);
     in: @ stream 
       (# get::<
            (# read: external 
                 (# ch: @char
                 do '%primitive:get' -> callC 
                 exit ch
                 #); 
            do read -> ch
            #)
       #);
  #)



