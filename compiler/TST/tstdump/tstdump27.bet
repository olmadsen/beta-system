origin '../tstenv';
INCLUDE 'tstdumplib';
-- PROGRAM: descriptor --
(# 
<<SLOT ProgramDo: dopart>>
#)
   
--ProgramDo:dopart--
do (for i:1 repeat
        (* Causes dopart object *)
        (# x:^object 
        do x; (* RefNoneErr: Reference is none *)
           (* The origin of this anonymous object is a DoPart object.
            * This used to give a "Surrounding Object Damaged" in dump.
            *)
        #);
   for);
   
   (* Correct dump:
 
     item <*> in ~beta/betarun/sun4s/TST/tstdump/tstdump27
       -- PROGRAM-~ in ~beta/betarun/sun4s/TST/tstdump/tstdump27
     item <PROGRAM-~> in ~beta/betarun/sun4s/TST/tstdump/tstdump27
       -- BETAENV-~ in ~beta/betarun/sun4s/TST/tstenv
     basic component in ~beta/betarun/sun4s/TST/tstenv

 
    *)
