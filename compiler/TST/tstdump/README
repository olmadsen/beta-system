These files test beta.dump in various situations.
They are also useful for testing valhalla.

See current srtatus for the different platforms in the
section named "STATUS:" below.

NOTICE: The script run-all.sh allows automatic testing
	of all situations on UNIX and nti_gnu, provided that this TST
	is checked out in ~beta/betarun/<machine_type>/TST.
	If re-written to perl, it could be used on nti_ms and
	ppcmac too. Should however then take care of that
	error message does not go to stderr, but to a dialog.

OVERVIEW:
=========

tstdump01: RefNoneErr
tstdump02: RefNoneErr
tstdump03: RefNoneErr
tstdump04: RefNoneErr
tstdump05: RefNoneErr
tstdump06: RefNoneErr
tstdump07: StopCalledErr - uses betaenv
tstdump08: RepRangeErr
tstdump09: RepHighRangeErr
	   NOTE09: It is a RepHighRangeErr since the runtime check is:
		     if (low<LowBorder) then RepLowRangeErr
		     if (high>Highorder) then RepHighRangeErr
		   And low (2) is not less than LowBorder (1).
		   This semantics has been requested since people want to
		   be able to express an empty slice using low>high.
tstdump10: RefNoneErr with external activation record on stack.
tstdump11: RecursiveAttachErr
tstdump12: RecursiveAttachErr
tstdump13: RefNoneErr allocating a
tstdump14: RefNoneErr allocating b
tstdump15: RefNoneErr allocating y
tstdump16: CompTerminatedErr
tstdump17: StopCalledErr - uses betaenv
tstdump18: ZeroDivErr or ArithExceptErr
tstdump19: QuaErr - try both with and without BETART=QuaCont.
tstdump20: SegmentationErr - with callback frame on stack
tstdump21: RefNoneErr in --program--
tstdump22: StopCalledErr in dopartobject - uses betaenv
tstdump23: CTextPoolErr (uses betaenv)
tstdump24: InterruptErr (UNIX betarun.debug only)
tstdump25: FpZeroDivErr
tstdump26: StackErr
tstdump27: RefNoneErr, ORIGIN is dopart object
tstdump28: LeaveBasicCompErr
	   NOTE28: Top of stack is not correct, since it
		   has been unwinded. 
		   SGI: Not even caught: ExO causes a bus error!
		        Check is missing in NEWRUN/ExitObjects.c!!!!!
tstdump29: RefNoneErr, INNER P chain
tstdump30: RepHighRangeErr for C parameter
tstdump31: RefNoneErr in inlined exit part
tstdump32: ArithExceptErr (integer overflow)

COVERAGE:
=========

Here is summarized how the programs cover the possible errors:

RefNoneErr:		several
CompTerminatedErr:	tstdump16
RepRangeErr:		tstdump08
ArithExceptErr:     	tstdump18, tstdump32
RepSubRangeErr:   	(obsolete)  	
RepLowRangeErr:     	
RepHighRangeErr:	tstdump09, tstdump30
StopCalledErr:      	tstdump07, tstdump17
LVRAfullErr:            (obsolete)
ZeroDivErr:         	tstdump18
CBFAfullErr:        	(obsolete)
PascalCallBackErr:  
CompCallBackErr:    
LeaveBasicCompErr:  	tstdump28
QuaErr:             	tstdump19
QuaOrigErr:         	(currently not implemented)
RecursiveAttErr:    	tstdump11, tstdump12
IOAFullErr:         
InterruptErr:       	tstdump24 (UNIX betarun_debug only)
		   
EmulatorTrapErr:    
IllegalInstErr:     
BusErr:             
SegmentationErr:    	tstdump20
AOAtoIOAfullErr:    
AOAtoLVRAfullErr:	(obsolete)
CTextPoolErr:       	tstdump23  - uses betaenv
AOAtoIOAallocErr:   
UnorderedFval      	(intel only)
UnknownSigErr:

REFERENCES:
===========

The file output/tstdumpXX.out shows correct output for tstdumpXX.

The file dumps/tstdumpXX.dump shows correct dump for tstdumpXX
with actual machine type replaced by "MACHINE_TYPE".

These files are used by run-all.sh

STATUS:
=======

Status for all dump programs except tstdump24 and
tstdump26, which are not tested by run-all.sh.

all:   tstdump28 fails since ExO does not test for illegal leave!
       tstdump31 gives wrong dump (code gen error). Fatal error on sgi.
       
hppa:  Status not known 28/10/99
       Previously reported wrong dumps:
       tstdump15
       tstdump20

sgi:   Errors as of 5/1/2000:
       tstdump19: Minor difference: <T6PROGRAM> displayed as <tstdump19:T6>
		  due to shared libraries.
       tstdump20 fails: Bus error during dump
       tstdump28 fails (as noted above)       
       tstdump31 fails (as noted above)       

sparc: Errors as of 5/1/2000:
       tstdump28 fails (as noted above)       
       tstdump31 fails (as noted above)       
       tstdump32 fails: no dump created    


intel: Errors as of 10/01/2000:
       tstdump10: missing line for <PROGRAM-~>
       tstdump13,14,15: Problems when G-parts on stack
       tstdump20: shows wrong caller (b) of external part
		  If component has not been suspended, the correct
		  caller is shown, but too many times.
       tstdump28 fails (as noted above)       
       tstdump29: pp#<r#> is shown instead of <*>z# (INNER P)       
       tstdump31 fails (as noted above)       
       tstdump32 fails: no dump created    

