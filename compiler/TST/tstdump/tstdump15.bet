origin '../tstenv';
-- program: descriptor --
(# 
   a:  (# t: (# z: (# do 1 -> put #) #);
       do INNER
       #);
   
   b: a(# x: (# q: ^t; #);
          y: @x(# qq: @q.z; (* RefNoneErr: Reference is none (allocating y) *) #);
       #);
   c: (# do b #);
do c
#)

(* Correct dump:
 
  allocating item <y#>x# in ~beta/betarun/sun4s/TST/tstdump/tstdump15
    -- b#a# in ~beta/betarun/sun4s/TST/tstdump/tstdump15
  allocating item <b#>a# in ~beta/betarun/sun4s/TST/tstdump/tstdump15
    -- PROGRAM-~ in ~beta/betarun/sun4s/TST/tstdump/tstdump15
  item <c#> in ~beta/betarun/sun4s/TST/tstdump/tstdump15
    -- PROGRAM-~ in ~beta/betarun/sun4s/TST/tstdump/tstdump15
  item <PROGRAM-~> in ~beta/betarun/sun4s/TST/tstdump/tstdump15
    -- BETAENV-~ in ~beta/betarun/sun4s/TST/tstenv
  basic component in ~beta/betarun/sun4s/TST/tstenv
 
 *)
