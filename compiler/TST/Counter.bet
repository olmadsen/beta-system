origin 'tstenv' 
---lib:attributes---
Counter:    
  (# val: @integer;
        
     init: proc (# do 3 -> val; #);
     
     up: proc
       (# n: @integer 
       enter n
       do val + n -> val
       #);
     
     down: proc
       (# n: @integer   
       enter n
       do val - n -> val
       #);
         
     value: proc(# n: @integer do val -> n exit n #);
  #);
Scounter: Counter
  (# clear: proc(#do 0 -> val #)
  #);
UseCounter:
  (# C: @Counter; N: @integer
  do (for i: 10 repeat
          i -> C.up;
          (if C.value > 8 then
              4 -> C.down; 
          if); 
          C.value -> putint; newline 
     for)
  #)
---program:descriptor---
(# 
do 'Counter: ' -> putline;
   UseCounter
#)


   
