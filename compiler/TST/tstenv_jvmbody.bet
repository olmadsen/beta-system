ORIGIN 'tstenv';
LIB_ITEM 'tstenv'; 
(*BUILD jvm 'jvm/beta/Component.class' 'Component.java' 'javac -classpath jvm -d jvm Component.java';*)

--LIB:attributes--
String: externalclass
  (# 
  do 'java/lang/String' -> classname;
  #);
SetArgValues: 
  (# program_name: ^String;
     args: [0]^String;
  enter (program_name[],args)
  do args.range+1 -> ArgVector.new (* +1 to add program name *);
     program_name[] -> ArgVector[1][] (* Automatic conversion String->Text *);
     (for i:args.range repeat
          args[i][] -> ArgVector[i+1][]; (* Automatic conversion String->Text *)
     for)
  #);


---put:doPart--
do
   (# write: External   
        (# ch: @char
        enter ch
        do 'java/io/PrintStream/print(C)V' -> callC 
        #);

   do ch -> write 

   #)   
---newline:doPart---
do '\n' -> put
   
---isPlatform:descriptor---
(# 
do (*'\nMissing: machine_type -> MT; ' -> putline*)
   'jvm' -> MT
#)
