origin 'tstenv';

BUILD   clr
        'clr/Coroutine.dll' 
        '$(BETALIB)/basiclib/private/external/Coroutine.cs' 
        'csc -nologo -t:library -out:clr/Coroutine.dll -r:clr/tstenv.dll $1';

--LIB: attributes--
String: ExternalClass
  (# 
  do '[mscorlib]System.String' -> className;
  #);
Console: ExternalClass
  (# Write_char: static_proc (* Write *)
       (# 
          arg1: @char;
       enter (arg1)
       do 'Write' -> procname;
       #);
  do '[mscorlib]System.Console' -> className;
  INNER;
  #);

SetArgValues:
  (# program_name: ^String;
     args: [0]^String;
  enter (program_name[],args)
  do args.range+1 -> ArgVector.new (* +1 to add program name *);
     program_name[] -> ArgVector[1][] (* Automatic conversion String->Text *);
     (for i:args.range repeat
          args[i][] -> ArgVector[i+1][]; (* Automatic conversion String->Text *)
     for)
  #);

---put:doPart--
do ch -> Console.Write_char 
---newline:doPart---
do '\n' -> put
   
---isPlatform:descriptor---
(# 
do 'clr' -> MT
#)
  

