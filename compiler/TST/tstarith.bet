ORIGIN 'tstenv';
INCLUDE 'tstlib'
----lib:attributes---
TstArith:
   (#  XX: @ (# V: @integer do 999->V exit V #);
       a,b,c: @integer; ch: @char
   do 5->a;       12->b;      2->c; 
      
      (111+222,333,'a')->chk;
      (111+a  ,116,'b')->chk;
      (a+b    , 17,'c')->chk;
      ((a+b)+c, 19,'d')->chk;
      (b+222  ,234,'e')->chk;
      (a+(b+c), 19,'f')->chk;
      (XX+1   ,1000,'g')->chk;
      (2+XX   ,1001,'h')->chk;
      (XX+a,   1004,'i')->chk;
      (b+XX,   1011,'j')->chk;
      'k'->fill; newl;

      (111-222,-111,'a')->chk;
      (111-a  , 106,'b')->chk;
      (a-b    ,  -7,'c')->chk;
      ((a-b)-c,  -9,'d')->chk;
      (b-222  ,-210,'e')->chk;
      (a-(b-c),  -5,'f')->chk;
      'g'->fill; newl;

      (3*a,15,'a')->chk;
      (a*b,60,'b')->chk;
      (a*b*c,120,'c')->chk; 
      (12*6,72,'d')->chk;
      (a*3,15,'e')->chk;
      (3*(a*b),180,'f')->chk;
      ((a*b)*3,180,'g')->chk;
      (a*(b*c),120,'h')->chk;
      ((a*b)*c,120,'i')->chk;
      ((a*b)*(c*4),480,'j')->chk;
      'k'->fill; newl;   

      (a div 3,1,'a')->chk;
      (b div a,2,'b')->chk;  
      (b div (a div 2),6,'c')->chk ;
      (XX div 3,333,'d')->chk;
      (1000 div XX,1,'e')->chk;
      (XX mod 888,111,'f')->chk;
      (1002 mod XX, 3,'g')->chk;
      (XX div a,199,'h')->chk;
      (XX mod a,4,'i')->chk;
      ((a+b) div 3, 5, 'j')->chk;
      ((a+b) mod 3, 2, 'k')->chk;
      ((a+b) div a, 3, 'l')->chk;  
      ((a+b) mod a, 2, 'm')->chk;
      ((a+b) div (a-2), 5, 'n')->chk;
      ((a+b) mod (a-2), 2, 'o')->chk;
      'p'->fill; newl;

      (-3,-3,'a')->chk;
      (-a,-5,'b')->chk;
      (-(a+b),-17,'c')->chk;
      (if -(a+b)// -17 then 'd'->put else '!'-> put if);
      
      900->a; 90->b; 57->ch; 
      ((a+b)+ch,1047,'e')->chk;
      ((a+b)-ch,933 ,'f')->chk;
      (ch+(a+b),1047,'g')->chk;
      (ch-(a+b),-933,'h')->chk;
      10->ch;
      ((a+b)*ch,9900,'i')->chk;
      (ch*(a+b),9900,'j')->chk;
      (1000-ch,990,'k')->chk;
      200->ch;  
      (ch+ch,400,'l')->chk;
      ('a'-a,-803,'m')->chk;
      'n'->fill
   #)

