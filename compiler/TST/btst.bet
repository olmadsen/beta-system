ORIGIN 'tstenv';         
INCLUDE 
'tstcomp'
'tstref'
'tstrep'
'tstrefrep'
'tstrelop'
'tstbool'
'tstarith'
'tstcontrol'
(*'tstbreak'*)
(* 'tstblock'*) 
'tstoldprim'
'tstnewprim'
'tstnx'
'tstnx2'
'tstnx3'  
'tstnxoff'
'tstnxoff2'
'tstnxoff3'
'tstvirt'
'tstvirt2'
'tstvarptn'  
'tstthis'
'tstcproc'
'tstreal'
'tstdopart'      
'tstmainp'
'tstcompref'
'tstcomprem2'
'tstlvra'
'tstbigobject'
'tstgeneralrep'
'tstint8'
'tstlist2rep';

INCLUDE 'tstcom';
INCLUDE 'tstholder'

-- program: Descriptor --
(# 
do 'Hello world!' -> putline;    
   'ForImp'->newl;
   TstFor;
   'IfImp'->newl;
   TstIf;
   'Case'->newl;
   TstCase;
   'NX'->newl;
   TstNX;
   'NX2'->newl;
   TstNX2;
   'NX3'->newl;
   TstNX3;
   'Repetition'->newl;
   TstRep;     
   'Reference'->newl;
   TstRef;
   
   'Virtual' -> newl;
   TstVirt;
   'DoPart'->newl;
   TstDoPart;

   'MainPart'->newl;
   TstMainPart;
   'CompRef'->newl;
   TstCompRef;
   'CompRem2'->newl;
   TstCompRem2;
   'VarPtn'->newl; 
   TstVarPtn;
   'This'->newl;
   TstThis;
   'TstInt8' -> newL;
   tstint8;
   
   
   'Virtual2'->   newl;
   tstvirt2;

   (***** don't work from here *)
   (* 
    'Ref. rep'->newl;
    TstRefRep;
    * *)
   'RelOp'->newl;
   TstRelOp;
   'BoolOp'->newl;
   TstBool;

   'ArithOp'->newl;
   TstArith;
   (*
    'Break'->newl;
    TstBreak;
    'Block'->newl;
    TstBlock;
    *)
   'Comp'->newl;
   TstComp;

   'OldPrim'->newl;
   TstOldPrim;
   'NewPrim'->newl;
   TstNewPrim;

   'NXoff'->newL; TstNXOff;
   'NXoff2'->newL; TstNXOff2;
   'NXoff3'->newL; TstNXOff3;    
   'Real'->newl;
   TstReal;
   'LVRA'->newl;
   TstLVRA;

   'CProc'->newl;   TstCProc;
   'BigObject'-> exe(#do TstBigObject #);
   'GeneralRep'->newl; 
   tstgeneralrep;
   'List2Rep'-> newL; tstList2rep;

   (# T: @ text
        (# isHpux9pa:
             (# b: @boolean
             do (T.range = 7) and (T[1] = 'h') -> b
             exit b
             #);
           isSun4s:
             (# b: @boolean
             do (T.range = 5) and (T[1] = 's') -> b
             exit b
             #);
           isSgi:
             (# b: @boolean
             do (T.range = 3) and (T[1] = 's') -> b
             exit b
             #);
           isPpcmac:
             (# b: @boolean
             do (T.range = 6) and (T[1] = 'p') -> b
             exit b
             #);
           
           isLinux:
             (# b: @boolean
             do  (T.range = 5) and (T[1] = 'l') -> b
             exit b
             #)
        #)
      
   do machine_type -> T; 
      (if true
       // T.isHpux9pa then
          '\n****** tstcom/holder does NOT work for hpux9pa' -> puttext;
       // T.isSun4s then
          '\n****** tstcom does not work completely for sun4s' -> puttext;
          'Tstcom' -> newL; tstcom;
          '   Error in "...qr!tu..."' -> puttext;
          'Tstholder' -> newl; tstholder
       // T.isSgi then
          '\n****** tstcom does not work for sgi' -> puttext;
       // T.isPpcmac then
          '\n****** tstcom/holder does NOT work for ppc' -> puttext;
       else 
          'Tstcom' -> newL; tstcom;
          'Tstholder' -> newl; tstholder          
      if);
   #);

   'Done' -> newL;

#)  

