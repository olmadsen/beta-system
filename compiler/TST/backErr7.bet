origin '~beta/basiclib/file' 
---program:descriptor---
(# astFileExtension: (# T: ^text do '.ast' ->T[] exit T[] #);
   asmLink: @
     (# rootFragment: ^text
     #);
   expandToFullPath: 
     (# T: ^text 
     enter T[] do 
     exit
        (T[],currentDirectory)->thePathHandler.convertFilePath
     #);
   thePathHandler: @
     (# convertFilePath:
          (# n,T: ^text
          enter(n[],T[])
          do n[] -> T.append
          exit T[]
          #)
     #);
   currentdirectory: (# T: ^text do '/users/olm/beta/compiler/TST/'->T[] exit T[] #);
   kuk:
     (# f: @file;
        name: ^text 
     do astFileExtension 
          -> (asmLink.rootFragment.copy
          -> expandToFullPath).append  
          -> f.name; 
        f.name -> putline;
        (*********************************** MUST print:
         *     /users/olm/beta/compiler/TST/tst.ast
         ***********************************************
         *)
     #)
do 'tst' -> asmLink.rootFragment[];  
   kuk
#)

