ORIGIN 'tstenv';
(*LIBRARY 'tstnx'*)
---LIB:attributes---
TstNX2:
  (# T1: (# q1,q2: @char
         enter(q1,q2)
         do q1->put; q2->put
         exit(q1+2,q2+2)
         #);
     T2: (# q1,q2: @char
         enter(q1,q2)
         do q1->put; q2->put
         exit(q2+1,q2+2)
         #);
     T3:  (# a1,a2,a3: @char
          enter(a1,a2)
          do a1->put; a2->put; a2+1->a3; a2+2->a2; a2+1->a1;
          exit(a3,a2,a1)
          #);
     X1: @T1;
     X2: @T2;
     X3: @T3;
     Q1: (# Q2: (# Q3: (# enter ch do ch+1->ch #)
                enter Q3
                do ch+2->ch
                #);
            ch: @char
         enter Q2
         do ch+3->ch; ch->put
         #);
     W1: (# W2:(# W3: (# do ch-1->ch exit ch #)
               do ch-1->ch
               exit W3
               #);
            ch: @char
         do 't'+2->ch
         exit W2
         #);
     a,b,c: @char
  do ('a','b')->X1->X2->X3->(a,b,c); a->put; b->put; c->put; (*i*)
     ('j','k')->T1->&T2->T3->(a,b,c); a->put; b->put; c->put; (*r*)
     's'-6->Q1;
     W1->put;
     'uvwxyz0123456789'->putText
  #)
