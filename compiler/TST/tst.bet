ORIGIN 'tstenv';         
INCLUDE
'tstcomp'
'tstref'
'tstrep'
'tstrefrep'
'tstrelop'
'tstbool'
'tstarith'
'tstcontrol'  
'tstbreak'
'tstblock'
'tstoldprim'
'tstnewprim'
'tstnx'
'tstnx2'
'tstnx3'
'tstnxoff'
'tstnxoff2'
'tstnxoff3'
'tstvirt'
'tstvirt2'
'tstvarptn'  
'tstthis'
'tstcproc'
'tstreal'
'tstdopart'
'tstmainp'
'tstcompref'
'tstcomprem2'
'tstlvra'
'tstbigobject'
'tstgeneralrep'
'tstint8'
'tstlist2rep'
'tstcom';
-- program: Descriptor --
(#  T: [3] ^text; i: @integer
do (if safeMode then
       'SAFE MODE : all tests MUST SUCCEED!' -> puttext
    else
       'WEAK MODE : some tests may FAIL!' -> puttext
   if);
   'Repetition'->newl;
   TstRep;  
   'Reference'->newl;
   TstRef;
   'Ref. rep'->newl;
   TstRefRep;
   'RelOp'->newl;
   TstRelOp;
   'BoolOp'->newl;
   TstBool;
   'ArithOp'->newl;
   TstArith;
   'Control'->newl;
   TstFor;
   newl;
   TstIf;
   'Case'->newl;
   TstCase;
   'Break'->newl;
   TstBreak;
   'Block'->newl;
   TstBlock;  
   'Comp'->newl;
   TstComp;
   'OldPrim'->newl;
   TstOldPrim;
   'NewPrim'->newl;
   TstNewPrim;
   'NX'->newl;
   TstNX;
   'NX2'->newl;
   TstNX2;
   'NX3'->newl;
   TstNX3;
   'NXoff'->newL;  TstNXOff;
   'NXoff2'->newL; TstNXOff2;
   'NXoff3'->newL; TstNXOff3;
   'Virtual' -> newl;
   TstVirt;
   'Virtual2'->   newl;
   tstvirt2;
   'VarPtn'->newl; 
   TstVarPtn;
   'This'->newl;
   TstThis;
   'Real'->newl;
   TstReal;
   'DoPart'->newl;
   TstDoPart;
   'MainPart'->newl;
   TstMainPart;
   'CompRef'->newl;
   TstCompRef;
   'CompRem2'->newl;
   TstCompRem2;
   'LVRA'->newl;
   TstLVRA;
   'BigObject'-> exe(#do TstBigObject #);
   'CProc'->newl;   TstCProc;
   'TstInt8' -> newL;
   tstint8;
   'List2Rep'-> T[3][]; 
   3 -> i;
   T[i][] ->T[i-1][];
   T[i-1] -> newL;
   tstList2rep;
   (if true
    // isHpux9pa AND NOT SafeMode then
       '\n****** tstcom/holder does NOT work for hpux9pa' -> puttext;
    // isSun4s  then
       (if not SafeMode then
           '\n****** tstcom does not work completely for sun4s' -> puttext;
           'Tstcom' -> newL;(* tstcom;*)
           '   Error in "...qr!tu..."' -> puttext;
       if);
       (if not safeMode then
           (* fails with unconditional GC *)
           'Tstholder' -> newl; tstholder
       if);
    // isSgi AND NOT SafeMode then
       '\n****** tstcom does not work for sgi' -> puttext;
    // isPpcmac AND NOT SafeMode then
       '\n****** tstcom/holder does NOT work for ppc' -> puttext;
    // isLinux then
       'Tstcom' -> newL; (*tstcom;*)
       (if safeMode then
           (* tstholder gives segmentation fault with
            * unconditional GC 
            *)
        else
           'Tstholder' -> newl; tstholder          
       if);
    // isNTI then
       'Tstcom' -> newL; (*tstcom;*)
       'Tstholder' -> newl; tstholder          
   if);
   (* Generalrep moved to last point, since it is very time comsuming to
    * run with unconditional GC
    *)
   'GeneralRep'->newl; 
   tstgeneralrep;
   (if safeMode then
       'SAFE MODE!' -> newl
    else
       'WEAK MODE!'->newl;
   if);
#)  

