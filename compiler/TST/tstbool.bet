ORIGIN 'tstenv';
INCLUDE 'tstlib';
---LIB:attributes---
TstBool:      
  (# xxxchk:
	 (# v,r: @boolean; ch: @char
	  enter(v,r,ch)
	  do (if v//r then ch->put else error if)
          #);
     B1,B2,B3: @boolean;
     a,b: @integer;
     XT: (# B: @boolean do true->B exit B #);
     XF: (# B: @boolean do false->B exit B #); 
     Q: (# exit a=b #);
     F: (# b1,b2,R1,bo1,bo2: @boolean; ch: @char;
           FF: (# b: @boolean enter b do exit b #)
        enter(b1,b2,ch) 
        do (b1->FF) and (b2->FF) ->R1;
           (b1->FF)->bo1; 
           (b2->FF)->bo2;
           (R1,(bo1 and bo2),ch)->xxxchk
        #);
  do false->B1; true->B2; 
     (if B1//true then error else 'a'->put if);
     (if B2//true then 'b'->put else error if);
     B1 or B2->B3;  (B3,true,'c')->xxxchk;
     B1 and B2->B3; (B3,false,'d')->xxxchk;
     NOT B2 ->B3;   (B3,false,'e')->xxxchk;
     (false or XT, true,'f')->xxxchk;
     (true and XT, true,'g')->xxxchk;
     (XT or false, true,'h')->xxxchk;
     (XT and true, true,'i')->xxxchk;
     (B1 or XT, true,'j')->xxxchk; 
     (XT or B1, true,'k')->xxxchk;
     (B2 and XT, true,'l')->xxxchk;
     (B1 and XT, false,'m')->xxxchk;
     111->a; 222->b;
     (not (a=b),true,'n')->xxxchk;
     (not Q,true,'o')->xxxchk;
     (not XT,false,'p')->xxxchk;   
     (true,true,'q')->F;
     (true,false,'r')->F;
     (false,true,'s')->F;
     (false,false,'t')->F;
     (false xor false,false,'u')->xxxchk; 
     (false xor true,true,'v')->xxxchk;
     false->B1;
     (B1 xor true,true,'w')->xxxchk;
     (B1 xor false,false,'x')->xxxchk;
     true->B1;
     (false xor B1, true,'y')->xxxchk;
     (XF xor XT,true,'z')->xxxchk;
     true->B1; false->B2;
     (false or B1,true,'0')->xxxchk;
     (false or B2,false,'1')->xxxchk;
     (false or false, false,'2')->xxxchk;
     (false or true, true,'3')->xxxchk;
     (true or B1,true,'4')->xxxchk;
     (false and B1, false,'5')->xxxchk;
     (true and B1,true,'6')->xxxchk;
     (true and B2,false,'7')->xxxchk;
     (true and false,false,'8')->xxxchk;
     (true and true,true,'9')->xxxchk;
  #)
