ORIGIN '../SPARCmachine';
INCLUDE 'genstart';

(* Fragment group WITHOUT the support for switch[65].
 * Using this will generate a smaller compiler for normal usage.
 *)
-- SaveReturn: Descriptor --
(* I0: thisObject (callee)
 * I1: calledObject
 *)
(# 
do (if common.switch[68] then
       (if not isGpart then (I1,O0)->MOV->mstate.b.emit if);
    else
       (I1,O0)->MOV->mstate.b.emit           
   if);
   (SP,- 64,SP)->SAVE_I->mstate.b.emit;
   (if not common.switch[68] then ClearAdrTmpRegs if)
#) 
--SaveReg65:descriptor--
(# #)
--RestoreReg65:descriptor--
(# #)
--EmitCk:descriptor--
(# #)
--AssertRegisterNotZero:dopart--
do 
-- machineAtt: attributes --
GenMain:
  (# 
  do 'main'->ExtLabel;
     (SP,- 64,SP)->SAVE_I->emit;
     ClearAdrTmpRegs;
     doCall
       (# 
       do ('SetArgValues',callMark)->mstate.b.mark; 0->CALL->emit
       #);
  #);
   
-- GenBetaRun: Descriptor --
(# 
do (if common.switch[65] then
       '\nWarning: Linked with NoBetaRun: No support for switch[65]'
         -> putline;
   if);
   GenStart;
   GenMain;
#)  

-- CallCprocSaveStack: Descriptor --
(# #)  

-- CallCprocRestoreStack: Descriptor --
(# #) 

-- externalEntrySaveStack:Descriptor ---
(# #)  

-- externalEntryRestoreStack: Descriptor --
(# #)  

-- AllocObj: DoPart --
do 
   
