ORIGIN 'image';
LIB_DEF 'imageread' '../../lib';
(* datpete: 13-01-2000: Cannot be betacodegen, since imageread is
 * NOT included by standalone compiler. This means that the sequence
 *   mbs_compiletools compiler
 *   mbs_compiletools mjolner
 * on SGI leads to a libcodegen.so wihtout imageread, causing strange
 * linker errors when linking mjolner.
 * And you cannot compile mjolner before compiling the compiler!
 *)
BODY 'imagereadbody';
--LIB: attributes--
readDataAndTextImages:
  (* Assuming the file named fname to to be an object file
   * produced by the BETA compiler, read the two images 
   * corresponding to the data- and text-segments from the file.
   * For both images, the following attributes are set up:
   *   buffer 
   *   marks  
   *   types  
   *   markTop 
   *   noOfRel 
   *   epElm
   *)
  (# fname: ^text;
     data_image, text_image: ^image;
  enter fname[]
  do <<SLOT readDataAndTextImagesBody: descriptor>>
  exit (data_image[],text_image[])
  #);
