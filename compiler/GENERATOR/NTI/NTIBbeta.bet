ORIGIN '../../compiler';
BODY '../../SYNTHESIZER/synthesizer';
BODY '../INTEL/INTELBmachine';
BODY 'WIN32coff';
BODY 'NTIBasmlink';
---initBetaTarget:doPart---
do (# sdk,asmver: ^text
   do 'WinNT/Win95 (i386/i486/Pentium) (PE coff)' -> comp.targetMachineText;
      '$(SDK)'->expandenvvar(# defaultValue::< (# do 'ms'->envvarvalue[] #)#)
        -> sdk[];
      (if true
       // 'gnu'->sdk.equalNCS then
          3 -> comp.trans.common.sdk; 
          'gnu' -> comp.trans.common.sdk.name[]
       // 'bor' ->sdk.equalNCS then
          1 -> arguments -> comp.bugstream.puttext;
          ': binary code generation is not yet supported for SDK=bor.' 
            -> comp.bugstream.putline;
          2-> comp.trans.common.sdk; 'bor' -> comp.trans.common.sdk.name[]
       else (* Default to microsoft *)
          '$(ASM_VERSION)'
            -> expandenvvar(# defaultValue::< (# do '386'->envvarvalue[] #)#)
            -> asmver[];
          ('6'->asmver.equal) -> comp.trans.common.sdk.masm6;
          1 -> comp.trans.common.sdk; 'ms'-> comp.trans.common.sdk.name[]
      if);
      true -> comp.nti;
      'Mj›lner' -> mjolner[];
   #)
   
