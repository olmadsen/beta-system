ORIGIN 'coffreadbody';
INCLUDE 'coff_ppc';

--CoffFileCheckFilehdrMagic: descriptor--
(# 
do (hdr.f_magic=IMAGE_FILE_MACHINE_POWERPC_BIG)->ok
#)

--CoffRelocTypeAsText: dopart--
do (if type
    // xIMAGE_REL_PPC_TOCREL16 then 'xIMAGE_REL_PPC_TOCREL16'->desc[]
    // xIMAGE_REL_PPC_REFHI then 'xIMAGE_REL_PPC_REFHI'->desc[]
    // xIMAGE_REL_PPC_REFLO then 'xIMAGE_REL_PPC_REFLO'->desc[]
    // xIMAGE_REL_PPC_ADDR32 then 'xIMAGE_REL_PPC_ADDR32'->desc[]
    // xIMAGE_REL_PPC_ABSOLUTE then 'xIMAGE_REL_PPC_ABSOLUTE'->desc[]
    // R_BR_S26 then 'R_BR_S26'->desc[]
    else
       'unknown reloc type: ' -> desc[];
       type -> desc.putint;
   if);
