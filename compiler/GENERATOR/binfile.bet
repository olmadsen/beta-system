ORIGIN '~beta/basiclib/v1.5/file';
BODY 'binfilebody';

---- Lib: attributes ----

binfile: file
  (# binary :: trueobject;
     putlong: 
       (# i: @integer;
       enter i
       <<SLOT BinFileputlong: dopart>>
       #);
     putshort: 
       (# i: @shortint;
       enter i
       <<SLOT BinFileputshort: dopart>>
       #);
     putbyte: 
       (# i: @char;
       enter i
       <<SLOT binFileputbyte: dopart>>
       #);

     putBytes:
       (* Put num bytes from taken from memory
        * address addr to file
        *)
       (# addr, num: @integer;
       enter (addr, num)
       <<SLOT BinfilePutBytes: dopart>>
       #);

     getLong:
       (# i: @integer;
       <<SLOT BinFileGetLong: dopart>>
       Exit i
       #);
  #);
