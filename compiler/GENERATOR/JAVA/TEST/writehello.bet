ORIGIN '../classfile';

(* Writes file HelloWorld.class corresponding to 
 * the file written by compiling helloworld.java.
 * 
 * Examine the generated file using (Sun)
 *   javap -c  -private -s -verbose HelloWorld (must be complete file)
 * or (GNU gcc3.1)
 *   jcf-dump -c HelloWorld (forgiving)
 *)

--program: descriptor--
(# bc: @classfile;
   putb: @bc.putbytes;
   
do 'Writing HelloWorld.class ... ' -> puttext;

   'HelloWorld.class' -> bc.name;
   bc.openWrite;
   
   (* Header *)
   (JAVA_MAGIC, JAVA_MINOR, JAVA_MAJOR) -> bc.putHeader;
   
   bc.close;

   'done' -> putline;
#)

