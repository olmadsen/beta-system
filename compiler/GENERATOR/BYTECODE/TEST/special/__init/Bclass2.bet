ORIGIN '~beta/basiclib/betaenv'
---LIB:attributes---

Bclass2: class
  (# V: @integer;
     
     _init: (* regular constructor: OK (alene), skal udkommenteres for at få __init til at virke, men så kan den ikke instantieres fra BETA med &Bclass2[]->... *)
       (# 
       do 400 -> V;
       #);
     
     __init: (* parameterless constructor: OK uden andre _init eller cons *)
       (# 
       do %setup 'betaenv';
          405 -> V;
       #);
     
     set: proc
       (# n: @integer
       enter n
       do 'BETA: set called' -> putline;
          n   -> V; 
          n+V -> V
       #);
     get: proc
       (# 
       do 'BETA: get called' -> putline;
       exit V 
       #);
     compute: proc
       (# n: @integer
       enter n
       do 'BETA: compute called' -> putline;
          (if (n < V) and (n >= 0) then
              'BETA: compute: addding' -> putline;
              V+n -> V
           else
              (if (n < V) or ( n < 0) then
                  'BETA: compute: subtracting' -> putline;
                  V-n -> V
               else
                  'BETA: compute: negating' -> putline;
                  -V -> V
              if)
          if)
       #);
  #);
