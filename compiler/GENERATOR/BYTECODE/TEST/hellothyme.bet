ORIGIN 'tstenv';
---LIB:attributes---
  
Form: ExternalClass
  (# set_Text: proc
       (# t: [0]@char
       enter t
       do '[System.Windows.Form]System.Windows.Control.set_Text' -> procname;
       #);
     onPaint:< proc
       (# e: ^PaintEventArgs;
       enter e[]
       do '[System.Windows.Form]System.Windows.Form.onPaint' -> procname;
       #);
  do '[System.Windows.Form]System.Windows.Form' -> classname;
  #);
PaintEventArgs: ExternalClass
  (# get_Graphics: proc
       (# g: ^Graphics
       exit g[]
       #);
  do '[System.Windows.Form]System.Windows.Form.PaintEventArgs' -> classname;
  #);
Graphics: ExternalClass
  (# DrawString: proc
       (# str: [0]@char;
          f: ^Font;
          b: ^Brush;
          x: @real;
          y: @real;
       enter (str, f[], b[], x, y)
       #);
  do '[System.Drawing]System.Drawing.Graphics' -> classname;
  #);
Font: ExternalClass
  (# init::<
       (# (* Constructor *)
          name: [0]@char;
          size: @real (* float32 *)
       enter (name, size)
       #);
  do '[System.Drawing]System.Drawing.Font' -> classname;
  #);
Brush: ExternalClass
  (# 
  do '[System.Drawing]System.Drawing.Brush' -> classname;
  #);
SolidBrush: ExternalClass (* Really a sub of Brush *)
  (# 
  do '[System.Drawing]System.Drawing.SolidBrush' -> classname;
  #);
Run: External
  (# f: ^Form
  enter F[]
  do '[System.Windows.Forms]System.Windows.Forms.Application::Run' -> procname;
  #);

HelloWorld: Form
  (# init::<
       (* Constructor *)
       (# 
       do 'Hello Århus' -> set_Text;
       #);
     onPaint: (* ::< *) proc
       (# g: ^Graphics;
          f: ^Font;
          b: ^SolidBrush;
       do e.get_Graphics -> g[];
          ('Times New Roman', 26) -> (&Font).init; (* constructor with args!!*)
          &SolidBrush[] -> b[]; 
       #);
  #);

---PROGRAM:descriptor---
(#  
do &HelloWorld[] -> Run;
#)
   





