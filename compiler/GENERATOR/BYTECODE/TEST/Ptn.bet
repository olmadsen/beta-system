origin 'tstenv'             
---lib:attributes---
Ptn:
  (# foo1:
       (# a,b,V: @integer;
          bar: (# x: @integer enter x do 'Here is bar'->putline #)
       enter(a,b)
       do a+b -> V;          
       exit V 
       #);     
     foo2:    
       (# a,b: @integer    
       enter (# x,y,Fisk: @integer enter(x,y) do x -> a; y -> b #)
       do a+2-> a; b+4 -> b; 
       exit a+b    
       #);
     foo3:  
       (# X,Y: @T; V: @integer
       enter(X,Y)  
       do X.q + Y.w -> V
       exit V 
       #);
     T: (# q,w: @integer enter(q,w) do #)
  #)      
---program:descriptor---
(# P: ^Ptn;    
   V: @integer; 
   S: ^P.foo1
do &Ptn[] -> P[];    
   (11,22) -> P.foo1 -> V;   
   V -> putint;     
   newline;   
   &P.foo1[] -> S[];        
   4->S.bar;    
   ((5,6),(7,8)) -> P.foo3 -> V;
   V -> putint;  
   newline;  
   (33,44) -> P.foo2 -> V;   
   V -> putint;     
   newline 
#) 
 





  


 
   
 
 
