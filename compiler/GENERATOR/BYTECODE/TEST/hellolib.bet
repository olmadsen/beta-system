ORIGIN '~beta/basiclib/betaenv'; 
--LIB:attributes--
print_hello:
  (# trace: (# exit false #);
     use_argument_interface: 
       (# exit true (* fails with NULL reference (betaenvRef?) *) #);
  do 'hello'->puttext;
     (* If arguments beyond the program name exists, print them *)
     (if trace then
         newline;
         'Trace(hellolib): Number of arguments including program name: ' -> puttext;
         noOfArguments -> putint;
         newline;
         'Trace(hellolib): Program name: ' -> puttext;
         (if use_argument_interface then
             1 -> arguments -> puttext;
          else
             ArgVector[1][] -> puttext;
         if);
         newline;
     if);
     (if noOfArguments>1 then
         (for k: 2 repeat
              newline;
              (for i:noOfArguments-1 repeat
                   (if trace then
                       'Trace(hellolib): Argument number ' -> puttext;
                       i -> putint;
                       ':' -> puttext;
                   if);
                   ' '->put;
                   (if k = 1 then
                       i+1->arguments -> puttext;
                    else
                       ArgVector[i+1][] -> puttext;
                   if);
              for);
         for);
     if);
     newline;
  #);
