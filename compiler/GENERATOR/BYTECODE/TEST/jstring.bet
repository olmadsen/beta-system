(* Requires jstringuser.java with class file in javabc;
 * OBS! job file must be fixed and rerurn after
 * compilation: remove String from jar-directive
 *)
BUILD javabc 'javabc/jstringuser.class' 'jstringuser.java' 'javac jstringuser.java; mv jstringuser.class javabc';

origin 'tstenv';
INCLUDE 'javastring'
---lib:attributes---
jstringuser: externalclass
  (# display: proc
       (# S: ^String
       enter S[]
       #);
     get: proc
       (# S: ^String
       exit S[]
       #);
  #);
---program:descriptor---  
(# X: ^jstringuser;
   T: ^ text; 
do &jstringuser[] -> X[];
  'Greatings from BETA' -> X.display;
   'More greatings from BETA' -> T[];
   T[] -> X.display;
   X.get -> T[];
   T[] -> putline;   
#) 






