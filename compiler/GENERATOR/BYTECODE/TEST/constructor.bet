origin '~beta/basiclib/betaenv' 
---lib:attributes---
constructor:
  (# _init:
       (# a: @integer
       enter a
       do a -> V 
       #);
     V: @integer;
     add:
       (# x: @integer
       enter x 
       do V + x -> V 
       #);   
     get:
       (#  
       do  
       exit V 
       #);
  #);
ycons:
  (# _init:
       (# a,b: @integer
       enter(a,b)
       do a + b -> W
       #);
     W: @integer;
     get:
       (# 
       do  
       exit W
       #);
  #);
zcons:
  (# _init:
       (# S: ^constructor
       enter S[] 
       do S[] -> R[];
       #);
     R: ^constructor;
     get: 
       (# V: @integer
       do 10 -> R.add;
          R.get -> V 
       exit V
       #);  
  #);
  
---program:descriptor--- 
(# Q: ^constructor;
   S: ^ycons;
   R: ^zcons
do 17 -> &constructor[] -> Q[];
   12 -> Q.add;
   Q.get -> putint;
   newline; 
   (19,11) -> &ycons[] -> S[];
   S.get -> putint;
   newline;
   Q[] -> &zcons[] -> R[];
   R.get -> putint;
   newline
#)

 


 
 


