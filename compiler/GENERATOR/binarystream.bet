ORIGIN '~beta/basiclib/v1.5/betaenv';
BODY 'binarystreambody'
---LIB:attributes---
BinaryStream:
  (# put: (# ch: @char enter ch <<SLOT BinaryStreamPut:doPart>> #);
     putShort:
       (# V: @integer enter V <<SLOT BinaryStreamPutShort:doPart>> #);
     putLong:
       (# V: @integer enter V <<SLOT BinaryStreamPutLong:doPart>> #);
     putText:
       (# T: ^text enter T[] <<SLOT BinaryStreamPutText:doPart>> #);
     get: (# ch: @char <<SLOT BinaryStreamGet:doPart>> exit ch #);
     getShort: 
       (# V: @integer <<SLOT BinaryStreamGetShort:doPart>> exit V #);
     getLong:
       (# V: @integer <<SLOT BinaryStreamGetLong:doPart>> exit V #);
     getText:
       (# T: ^text <<SLOT BinaryStreamGetText:doPart>> exit T[] #);
     save:
       (# FN: ^text enter FN[] do <<SLOT BinaryStreamSave:descriptor>>#);
     restore:
       (# FN: ^text enter FN[] do <<SLOT BinaryStreamRestore:descriptor>>#);
     
     (* The folowing exceptions may not be sufficient *)
     AccessError:< Exception(# FN: ^text enter FN[] do INNER #);
     NoSpaceError:< Exception(# FN: ^text enter FN[] do INNER #);;
     WriteError:< Exception(# FN: ^text enter FN[] do INNER #);;
     
     rep: @ <<SLOT BinaryStreamRep:descriptor>>             
  #)
