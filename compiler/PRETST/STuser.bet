ORIGIN 'minienv';
BUILD pre
      'pre/STclass.prc'
      'STclass.som'
      'pre-st -o $0 $1';
BUILD pre 
      'pre/STsuper.prc' 
      'STsuper.som'     
      'pre-st -o $0 $1';

---lib:attributes---
SMTclass: externalclass
  (#
     helloFrom: proc(# B: ^Bclass enter B[] #) 
  do 'STclass' -> location
  #);
SMTsuper: externalclass
  (# hello: (##); 
     world: (##)   
  do 'STsuper' -> location
  #); 
Bclass: 
  (#
     hello: (# do 'BETA here!\n' -> out.puttext #)
  #);
Bsub: SMTsuper
  (#  
     greet: (# do hello; ' ' -> out.put; world; out.newline #);
     thanks: (# do '\nThanks a lot!' -> out.putline #) 
  #)

---program:descriptor--- 
(# X: ^SMTclass; 
   B: @Bclass; 
   S: ^Bsub
do 'Starting BETA'-> out.putline;
   &SMTclass[] -> X[];  
   'Calling Smalltalk: ' -> out.puttext; 
   B[] -> X.helloFrom;
   &Bsub[] -> S[];
   S.greet    
#)  







 
 



