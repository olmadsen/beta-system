ORIGIN '~beta/basiclib/betaenv';
INCLUDE '~beta/betaast/betacfl';
INCLUDE '~beta/betaast/gram';

BODY 'betapatternbody';

-- lib: attributes --

patternKind: (# exit 1 #);
itemKind: (# exit 2 #);
singularItemKind: (# exit 3 #);
illegalKind: (# exit 4 #);


betaPattern:
  (# <<SLOT betaPatternLib: attributes>>;
     gram: @grammar;
     node: ^astInterface.beta.attributeDecl;
     kind:
       (# theKind: @integer;
       <<SLOT betaPatternGetKind: doPart>>
       exit theKind
       #);
     name:
       (# theName: ^text;
       enter (# enter theName[] <<SLOT betaPatternSetName: doPart>> #)
       exit (# <<SLOT betaPatternGetName: doPart>> exit theName[] #)
       #);
     prefix:
       (# thePrefix: ^text;
       enter (# enter thePrefix[] <<SLOT betaPatternSetPrefix: doPart>> #)
       exit (# <<SLOT betaPatternGetPrefix: doPart>> exit thePrefix[] #)
       #);
     prefixNode:
       (# thePrefixNode: ^astInterface.beta.attributeDecl;
       enter (# enter thePrefixNode[] <<SLOT betaPatternSetPrefixNode: doPart>> #)
       exit (# <<SLOT betaPatternGetPrefixNode: doPart>> exit thePrefixNode[] #)
       #);
     scan:
       (# current: ^astInterface.beta.attributeDecl;
       <<SLOT betaPatternScan: doPart>>
       #);
     getAttributes:
       (# theAttributes: ^astInterface.beta.attributes;
       <<SLOT betaPatternGetAttributes: doPart>>
       exit theAttributes[]
       #);
     append:
       (# child: ^astInterface.beta.attributeDecl;
       enter child[]
       <<SLOT betaPatternAppend: doPart>>
       #);
     find:
       (# name: ^text;
          found: ^astInterface.beta.attributeDecl;
       enter name[]
       <<SLOT betaPatternFind: doPart>>
       exit found[]
       #);
     getComment:
       (# comment: ^text;
       <<SLOT betaPatternGetComment: doPart>>
       exit comment[]
       #);
  #);

