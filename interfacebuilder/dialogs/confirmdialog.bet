ORIGIN '~beta/guienv/guienv';
INCLUDE '~beta/guienv/controls';
INCLUDE 'center';

-- guienvlib: Attributes --
confirm:
  (#
     theDialog: @confirmDialog
       (#
          type:: windowTypes.dialog;
          open::  (#  do hide #);
          onCancel::  (#  do close; THIS(confirm).onCancel #);
          onConfirm::  (#  do close; THIS(confirm).onConfirm #)
       #);
     question: ^text;
     action: ^text;
     odd: @boolean;
     onCancel:< (#  do INNER #);
     onConfirm:< (#  do INNER #)
  enter (question[],action[],odd)
  do (question[],action[],odd)->theDialog.open; theDialog.showModal
  #);
confirmdialog: window
  (#
     onCancel:< (#  do INNER #);
     onConfirm:< (#  do INNER #);
     open::< 
       (# question: ^text; action: ^text; odd: @boolean
       enter (question[],action[],odd)
       do
          (354,96)->size;
          ''->title;
          msgLab.open;
          confirmBtn.open;
          cancelBtn.open;
          question[]->msgLab.label;
          action[]->confirmBtn.label;
          (if odd then
              cancelBtn[]->defaultButton
           else
              confirmBtn[]->defaultButton
          if);
          center;
          INNER
       #);
     msgLab: @statictext
       (#
          open::< 
            (#  do 'Message'->label; (264,22)->size; (20,14)->position;  #)
       #);
     confirmBtn: @pushbutton
       (#
          open::< 
            (#  do 'Confirm'->label; (82,20)->size; (254,62)->position;  #);
          eventHandler::<  (# onMouseUp::<  (#  do onConfirm #) #)
       #);
     cancelBtn: @pushbutton
       (#
          open::< 
            (#  do 'Cancel'->label; (87,20)->size; (148,62)->position;  #);
          eventHandler::<  (# onMouseUp::<  (#  do onCancel #) #)
       #)
  #)  

