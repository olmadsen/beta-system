ORIGIN '~beta/guienv/guienv';
INCLUDE '~beta/guienv/controls'
        'center'
        '../support/auxcontrols';

LIB_DEF 'frigg_createwin' '../../lib';
-- guienvLib: Attributes --
createWindowDialog: window
  (#
     type:: windowTypes.dialog;
     onCreate:< (# name: ^text;  enter name[] do INNER #);
     onCancel:< (#  do INNER #);
     open::< 
       (# 
       do
          'Create Window'->title;
          (300,80)->size;
          createBtn.open;
          nameFld.open;
          cancelBtn.open;
          lab.open;
          caption1.open;
          separator1.open;
          INNER
       #);
     createBtn: @pushbutton
       (#
          open::< 
            (# 
            do
               false->bindLeft;
               true->bindRight;
               'Create'->label;
               (60,20)->size;
               (230,15)->position;
               THIS(pushButton)[]->defaultButton;
               
            #);
          eventHandler::< 
            (# onMouseUp::<  (#  do nameFld.contents->onCreate #) #)
       #);
     nameFld: @edittext
       (#
          open::< 
            (# 
            do
               true->bindRight;
               (155,21)->size;
               (55,40)->position;
               nameFld[]->target;
               
            #)
       #);
     cancelBtn: @pushbutton
       (#
          eventHandler::<  (# onMouseUp::<  (#  do onCancel #) #);
          open::< 
            (# 
            do
               false->bindLeft;
               true->bindRight;
               'Cancel'->label;
               (60,20)->size;
               (230,45)->position;
               
            #)
       #);
     lab: @caption
       (#
          open::< 
            (# 
            do
               'Name:'->label;
               borderStyles.shadowOut->border.style;
               (36,13)->size;
               (15,44)->position;
               
            #)
       #);
     caption1: @caption
       (#
          open::<
            (# 
            do
               'Create Window'->label; (87,13)->size; (15,10)->position; INNER
            #)
       #);
     separator1: @separator
       (#
          open::<
            (# 
            do
               true->bindRight;
               2->style;
               (200,4)->size;
               (15,22)->position;
               INNER
            #)
       #)
  #)  

