ORIGIN '~beta/guienv/guienv';
INCLUDE '~beta/guienv/controls'
        'center'
'~beta/guienv/utils/auxcontrols';

LIB_DEF 'frigg_createwin' '../../lib';
-- guienvLib: Attributes --
createWindowDialog: window
  (#
     type:: windowTypes.dialog;
     onCreate:< (# name: ^text;  enter name[] do INNER #);
     onCancel:< (#  do INNER #);
     open::< 
       (# 
       do
          'Create Window 1'->title;
          (300,80)->size;
          createBtn.open;
          nameFld.open;
          cancelBtn.open;
          lab.open;
          caption1.open;
          separator1.open;
          INNER
       #);
     createBtn: @pushbutton
       (#
          open::< 
            (# 
            do
               false->bindLeft;
               true->bindRight;
               'Create'->label;
               (60,20)->size;
               (230,15)->position;
               THIS(pushButton)[]->defaultButton;
               
            #);
          eventHandler::< 
            (# onMouseUp::<  (#  do nameFld.contents->onCreate #) #)
       #);
     nameFld: @edittext
       (#
          open::< 
            (# 
            do
               true->bindRight;
               (155,21)->size;
               (55,40)->position;
               nameFld[]->target;
               createEditorDialog
            #)
       #);
     cancelBtn: @pushbutton
       (#
          eventHandler::<  (# onMouseUp::<  (#  do onCancel #) #);
          open::< 
            (# 
            do
               false->bindLeft;
               true->bindRight;
               'Cancel'->label;
               (60,20)->size;
               (230,45)->position;
               
            #)
       #);
     lab: @caption
       (#
          open::< 
            (# 
            do
               
               borderStyles.shadowOut->border.style;
               (36,13)->size;
               (15,44)->position;
               'Name:'->label;
            #)
       #);
     caption1: @caption
       (#
          open::< 
            (# 
            do
                (87,13)->size; (15,10)->position; 'Create Window'->label; INNER
            #)
       #);
     separator1: @separator
       (#
          open::< 
            (# 
            do
               true->bindRight;
               2->style;
               (200,4)->size;
               (15,22)->position;
               INNER
            #)
       #)
  #);
createEditorDialog: window
  (#
     type:: windowTypes.dialog;
     onCreate:< (# name: ^text;  enter name[] do INNER #);
     onCancel:< (#  do INNER #);
     onOther:< (#  do INNER #);
     open::< 
       (# 
       do
          'Create Window'->title;
          (300,110)->size;
          createBtn.open;
          nameFld.open;
          cancelBtn.open;
          lab.open;
          caption1.open;
          separator1.open;
          caption2.open;
          fileLabel.open;
          otherBtn.open;
          INNER
       #);
     createBtn: @pushbutton
       (#
          open::< 
            (# 
            do
               false->bindLeft;
               true->bindRight;
               'Create'->label;
               (60,20)->size;
               (230,15)->position;
               THIS(pushButton)[]->defaultButton;
               
            #);
          eventHandler::< 
            (# onMouseUp::<  (#  do nameFld.contents->onCreate #) #)
       #);
     nameFld: @edittext
       (#
          open::< 
            (# 
            do
               true->bindRight;
               (155,21)->size;
               (55,40)->position;
               nameFld[]->target;
               
            #)
       #);
     cancelBtn: @pushbutton
       (#
          eventHandler::<  (# onMouseUp::<  (#  do onCancel #) #);
          open::< 
            (# 
            do
               false->bindLeft;
               true->bindRight;
               'Cancel'->label;
               (60,20)->size;
               (230,45)->position;
               
            #)
       #);
     lab: @caption
       (#
          open::< 
            (# 
            do
              
               borderStyles.shadowOut->border.style;
               (36,13)->size;
               (15,44)->position;
               'Name:'->label;
               
            #)
       #);
     caption1: @caption
       (#
          open::< 
            (# 
            do (53,13)->size; (15,10)->position; 'Create Window'->label; INNER
            #)
       #);
     separator1: @separator
       (#
          open::< 
            (# 
            do
               true->bindRight;
               2->style;
               (200,4)->size;
               (15,22)->position;
               INNER
            #)
       #);
     caption2: @caption
       (#
          open::< 
            (# 
            do  (19,13)->size; (15,84)->position; 'File:'->label; INNER
            #)
       #);
     fileLabel: @caption
       (#
          open::< 
            (# 
            do  (46,13)->size; (40,84)->position; '<<FILE>>'->label; INNER
            #)
       #);
     otherBtn: @pushbutton
       (#
          eventHandler::<  (# onMouseUp::<  (#  do onOther #) #);
          open::< 
            (# 
            do
               false->bindLeft;
               true->bindRight;
               'New...'->label;
               (60,20)->size;
               (230,80)->position;
               
            #)
       #)
  #)  

