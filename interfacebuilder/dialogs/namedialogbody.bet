ORIGIN 'namedialog';
INCLUDE 'integerfield';

-- nameDialogPrivate: Descriptor --
(#
   staticText3: @staticText
     (#
        open::<
          (# 
          do
             (34,17)->size;
             (9,22)->position;
             'Name:'->label;
             false->border.visible;
             5->border.style
          #)
     #);
   nameFld: @editText
     (#
        open::<
          (# 
          do
             (245,30)->size;
             (47,15)->position;
          #)
     #);
   okBtn: @pushButton
     (#
        open::<
          (# 
          do
             (60,20)->size;
             (222,72)->position;
             'OK'->label;
             false->border.visible;
             5->border.style
          #);
        eventHandler::< (# onMouseUp::< (# do onOk  #) #)
     #);
   cancelBtn: @pushButton
     (#
        open::<
          (# 
          do
             (60,20)->size;
             (151,72)->position;
             'Cancel'->label;
             false->border.visible;
             5->border.style
          #);
        eventHandler::< (# onMouseUp::< (# do onCancel #) #)
     #)
#)  

-- nameDialogOpen: DoPart --
do
   (305,101)->size;
   (4,4)->position;
   private.staticText3.open;
   private.nameFld.open;
   private.okBtn.open;
   private.cancelBtn.open;
   INNER;
   private.nameFld[] -> target;
   private.okBtn[] -> defaultButton;
   centerOnScreen;
   
-- nameDialogEnterName: doPart --
do value[] -> private.nameFld.contents;

-- nameDialogExitName: doPart --
do private.nameFld.contents -> value[]



-- scriptDialogPrivate: Descriptor --
(#
   virtualsFld: @textScrollList
     (#
        open::<
          (# 
          do
             true->bindBottom;
             true->bindRight;
             (279,145)->size;
             (20,45)->position;
             true->border.visible;
             4->border.style
          #)
     #);
   editBtn: @pushButton
     (#
        open::<
          (# 
          do
             true->bindBottom;
             false->bindTop;
             true->bindRight;
             false->bindLeft;
             (60,20)->size;
             (234,202)->position;
             'Edit'->label;
             false->border.visible;
             5->border.style
          #);
        eventHandler::
          (# onMouseUp::
               (# 
               do onEdit;
               #);
          #);
     #);
   cancelBtn: @pushButton
     (#
        open::<
          (# 
          do
             true->bindBottom;
             false->bindTop;
             true->bindRight;
             false->bindLeft;
             (60,20)->size;
             (167,202)->position;
             'Cancel'->label;
             false->border.visible;
             5->border.style
          #);
        eventHandler::
          (# onMouseUp::
               (# 
               do onCancel;
               #);
          #);
     #);
   staticText19: @staticText
     (#
        open::<
          (# 
          do
             (60,16)->size;
             (6,18)->position;
             'Virtuals:'->label;
             false->border.visible;
             5->border.style
          #)
     #)
#)  

-- scriptDialogOpen: DoPart --
do
   (327,242)->size;
   private.virtualsFld.open;
   private.editBtn.open;
   private.cancelBtn.open;
   private.staticText19.open;
   INNER open;
   private.editBtn[] -> defaultButton;
   centerOnScreen;

-- scriptDialogEnterNames: doPart --
do (# inx: @integer;
   do theNames.size -> private.virtualsFld.append;
      theNames.scan
      (# 
      do inx + 1 -> inx;
         (inx, current[]) -> private.virtualsFld.setText;
      #);
      (if theNames.size > 0 then
          (1, false) -> private.virtualsFld.selection.select;
      if);
   #);

-- scriptDialogExitCurrentName: doPart --
do (if private.virtualsFld.selection.first <> 0 then
       private.virtualsFld.selection.first -> private.virtualsFld.getText -> name[];
   if);

