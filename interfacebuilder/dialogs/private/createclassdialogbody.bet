ORIGIN '../createclassdialog'
-- createClassDialogPrivate: Descriptor --
(# names: ^textList;
   
   staticText2: @staticText
     (#
        open::<
          (# 
          do
             (4,12)-> (*$ 0*) position;
             (34,16)-> (*$ 0*) size;
             true-> (*$ 0*) bindLeft;
             false-> (*$ 0*) bindRight;
             true-> (*$ 0*) bindTop;
             false-> (*$ 0*) bindBottom;
             'Name:'-> (*$ 0*) label
          #)
     #);
   nameFld: @editText
     (#
        open::<
          (# 
          do
             (43,6)-> (*$ 0*) position;
             (250,29)-> (*$ 0*) size;
             true-> (*$ 0*) bindLeft;
             true-> (*$ 0*) bindRight;
             true-> (*$ 0*) bindTop;
             false-> (*$ 0*) bindBottom
          #)
     #);
   superOptBtn: @optionButton
     (#
        open::<
          (# 
          do
             (4,47)-> (*$ 0*) position;
             true-> (*$ 0*) bindLeft;
             false-> (*$ 0*) bindRight;
             true-> (*$ 0*) bindTop;
             false-> (*$ 0*) bindBottom;
             'Super pattern:'-> (*$ 0*) label;
             (200,35)-> (*$ 0*) size;
          #)
     #);
   separator5: @separator
     (#
        open::<
          (# 
          do
             (3,100)-> (*$ 0*) position;
             (293,7)-> (*$ 0*) size;
             true-> (*$ 0*) bindLeft;
             false-> (*$ 0*) bindRight;
             true-> (*$ 0*) bindTop;
             false-> (*$ 0*) bindBottom
          #)
     #);
   pushButton6: @pushButton
     (# eventHandler::
          (# onMouseUp::
               (#
               do onOk;
               #);
          #);
        open::<
          (# 
          do
             (227,113)-> (*$ 0*) position;
             (60,20)-> (*$ 0*) size;
             true-> (*$ 0*) bindLeft;
             false-> (*$ 0*) bindRight;
             true-> (*$ 0*) bindTop;
             false-> (*$ 0*) bindBottom;
             'OK'-> (*$ 0*) label
          #)
     #);
   pushButton7: @pushButton
     (# eventHandler::
          (# onMouseUp::
               (#
               do onCancel;
               #);
          #);
        open::<
          (# 
          do
             (157,113)-> (*$ 0*) position;
             (60,20)-> (*$ 0*) size;
             true-> (*$ 0*) bindLeft;
             false-> (*$ 0*) bindRight;
             true-> (*$ 0*) bindTop;
             false-> (*$ 0*) bindBottom;
             'Cancel'-> (*$ 0*) label
          #)
     #)
#)  

-- createClassDialogOpen: DoPart --
do (299,136)-> (*$ 0*) size; 
   private.staticText2. (*$ 1*) open;
   private.nameFld.open;
   private.superOptBtn.open;
   private.separator5.open;
   private.pushButton6.open;
   private.pushButton7.open;
   INNER;
   
-- createClassDialogClassNames: doPart --
do (# theMenu: ^menu;
   do names[] -> private.names[];
      &menu[] -> theMenu[];
      theMenu.open;
      names.scan
      (# theItem: ^menu.menuItem;
      do &theMenu.menuItem[] -> theItem[];
         theItem.open;
         theItem[] -> theMenu.append;
         current[] -> theItem.name;
      #);
      theMenu[] -> private.superOptBtn.popupMenu;
   #);

-- createClassDialogSetClassName: doPart --
do exception
   (# 
   do 'createClassDialogSetClassName is not implemented' -> msg;
   #);

-- createClassDialogGetClassName: doPart --
do private.superOptBtn.currentItem -> private.names.get -> value[];

-- createClassDialogSetName: doPart --
do value[] -> private.nameFld.contents;

-- createClassDialogGetName: doPart --
do private.nameFld.contents -> value[];
   
-- userCreateClassDoPart: doPart --
do (# theCreateClassDialog: @createClassDialog
        (# onOk::
             (# theName: ^text;
                theClassName: ^text;
             do name -> theName[];
                className -> theClassName[];
                theCreateClassDialog.close;
                (theName[], theClassName[]) -> createClass;
             #);
           onCancel::
             (# 
             do theCreateClassDialog.close;
             #);
           open::
             (# 
             do defaultName[] -> name;
                this(userCreateClass).classNames[] -> classNames;
                hide;
             #);
        #);
   do theCreateClassDialog.open;
      theCreateClassDialog.showModal;
   #);
