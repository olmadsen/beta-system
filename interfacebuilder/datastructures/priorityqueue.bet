ORIGIN '~beta/basiclib/v1.6/betaenv';
BODY 'private/priorityqueuebody';

-- lib: attributes --

priorityQueue:
  (# <<SLOT priorityQueueLib: attributes>>;
     element:< object;
     
     less:<
       (# left, right: ^element;
          value: @boolean;
       enter (left[], right[])
       do inner;
       exit value
       #);
     
     insert:
       (# elm: ^element;
          doInsert: @<<SLOT priorityQueueInsert: descriptor>>;
       enter elm[]
       do doInsert
       #);
     deleteMin:
       (# elm: ^element;
          doDeleteMin: @<<SLOT priorityQueueDeleteMin: descriptor>>;
       do doDeleteMin;
       exit elm[]
       #);
     min:
       (# elm: ^element;
       <<SLOT priorityQueueMin: doPart>>
       exit elm[]
       #);
     
     (*
      * Scanning
      *)
     
     scan:
       (# current: ^element;
       <<SLOT priorityQueueScan: doPart>> 
       #);

     init:<
       (# <<SLOT priorityQueueInit: doPart>> #);
     clear:<
       (# <<SLOT priorityQueueClear: doPart>> #);
     
     empty: booleanValue
       (# <<SLOT priorityQueueEmpty: doPart>> #);
     size: integerValue
       (# <<SLOT priorityQueueSize: doPart>> #);
     has: booleanValue
       (# elm: ^element;
       enter elm[]
       <<SLOT priorityQueueHas: doPart>> 
       #);
     
     emptyContainer:< exception;
     storage: @<<SLOT priorityQueueStorage: descriptor>>;
  #);
