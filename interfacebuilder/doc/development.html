<HTML>
<HEAD>

<TITLE>Development in Frigg</TITLE>

</HEAD>

<BODY> 

<h1>Development in Frigg</h1>

<hr>
<h3>Friday October 24 1997</h3>

<p> Startet an experiment for the dynamic programming environment
project (DPE): Added three files:

<ul>
<li> groupbox.bet: Implements a standard groupbox as a specilisation
of canvas.

<li> additional.bet: Implements an editor for groupbox to allow it to
be incorporated into frigg.

<li> A specialisation of frigg that includes the groupbox.
</ul>

<p> When this example works well enough, the next step is to do it
using dynamic linking instead.

<p> Groubox looks like this:

<pre>
   groupBox: canvas
     (# caption: ...;
        open::<  ...;
        theBorder: @windowItem ...;
        theCaption: @staticText ...;
    #);
</pre>

<p> The groupbox editor looks like this:

<pre>
   groupBoxEditor: canvasEditor 
     (# windowitemType:: groupBox;  #)
</pre>

<p> Userfrigg looks like this:

<pre>
   frigg: @friggApplication
       (# 
       do ('groupbox',&theGraphicalEditorEnv.instantiator
             (# type:: theGraphicalEditor.groupBoxEditor #)[])
            ->theGraphicalEditorEnv.private.theFactory.insts.insert;
       #)
</pre>

<p> Basicly the factory is just a dictionary that maps names of guienv
objects to editor classes.

<p> Open points:

<ul>
<li> Is it possible and desirable to get rid of the extra level
introduced by the editor classes?

<li> The interface to adding custom objects should be simplified. I
should get rid of the instantiator class and the insert operation
should be lifted to toplevel.
</ul>

<hr>

<p> The above experiment did not work. Problems:

<ul>
<li> There is two dictionaries in Frigg: The above mentioned "factory"
that is used to instantiate an appropriate editor based on the name,
and another dictionary that are used to recognize patterns in the code
that corresponds to userinterface objects. Solution: merge the two
dictionaries into one.

<li> The groupboxEditor does not show up on the palette. The palette
needs to be build based on the content of the factory. There is a
practical problem here: The palette is a vertical palette with
icons. There is a limit on how big this palette can be before it
bumps against the bottom of the screen. I should make a "tabbed"
horizontal palette instead like the one used in other interface
builders (ie. Delphi).
</ul>

<hr>

<h2>Monday October 27</h2>

<h3>BUG</h3>

<p> When a vertical separator/ scrollbar is copy pasted, it turns horizontal!

<hr>

<h2> Experiment so far </h2>

The experiment (userfrigg) mentioned under Friday October 24 is now
semi working. This means that the groupbox is displayed in Frigg as a
groupbox. There is however still some missing things:

<ul>
<li> The groupbox does not show up in the palette.

<li> The properties of the groupbox can not be edited - the groupbox
has a caption property - the label text displayed on the top. This
text can not be changed in the graphicaleditor, since Frigg does not
know that the groupbox has this attribute. As far as Frigg knows, the
groupbox is a canvas.

</ul>

<h3> Agenda </h3>

<p> Future development will be:

<ul>
<li> Do the groupbox experiment using dynamic compilation.

<li> Clean up the Factory datastructure. Currently Frigg uses two
different datastructures to recognise interfaceobjects - these should
be merged into one.

<li> Make an expandable palette like the palette in Delphi or
something similar to make the user defined objects show up in the
palette.

<li> Invent a general approach to edit the properties, so that the
properties of user defined objects can be edited as well.
</ul>

<hr>

<h2> Idea: Row and Col</h2>

<p>

A row and col object is needed in GUIenv. This will make certain
windows much easier to create.

<h2>BUG: Doubleclick on window.</h2>

<p>

The object info view does not pop up when doubleclicking the window.
 
<h2>Palette: local patterns</h2>

<p> 

Often local patterns are declared in GUIenv (for instance) a
<tt>radio</tt> pattern in a <tt>radioGroup</tt> pattern:

<pre>
radioGroup: canvas
   (* Group of radiobuttons that are handled automatically.
    * by THIS(radioGroup).
    *)
   (# radio: radioButton
        (* THIS(radio) knows about its radioGroup. *)
        (# 
        #);
   #);
</pre>

<p>

Should these local patterns be at the Frigg palette? They can only be
used in specifik contexts...

<h2> Simplification </h2>

Get rid of the "change hierarichy" tool to simplify userinteraction.

</body>
</html>
