ORIGIN '../graphicaleditor';
BODY 'graphicaleditorbody';
INCLUDE '~beta/guienv/v1.3.1/utils/walkingants';

-- graphicalEditorEnvLib: attributes --

editorWalkingAnts: walkingAnts
  (# editor: ^graphicalEditor;
     fullStop:
       (# 
       do stop;
          clear;
       #);
     attach:
       (# item: ^window.windowItem;
          area: ^rectangle;
          width, height: @integer;
       enter item[]
       do &rectangle[] -> area[];
          item.size -> (width, height);
          ((0, 0), (width - 1, height - 1)) -> area;
          (item[], area[]) -> add;
          start;
       #);
  #);

scrap: doubleLinkedList
  (# element::
       (# tree: ^shadowTree;
          node: ^astInterface.AST;
       #);
  #);
shadowTree:
  (# name: ^text;
     data: ^parameters;
     children: @doubleLinkedList
       (# element:: shadowTree;
       #);
  #);

-- graphicalEditorEnvPrivate: descriptor --
(# theWalkingAnts: ^editorWalkingAnts;
   theScrap: @scrap;
   editors: @doubleLinkedList
     (# element:: graphicalEditor;
     #);
   documents: @doubleLinkedList
     (# element:: document;
     #);
          
#)
