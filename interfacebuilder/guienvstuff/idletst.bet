ORIGIN '~beta/guienv/v1.2/guienv';
INCLUDE 'idle';
INCLUDE '~beta/guienv/v1.2/controls';

-- program: descriptor --
GUIenv
(# 
   theIdle: @idle
     (# n: @integer;
        action::
          (# 
          do n + 1 -> n;
             (n, n) -> theWindow.theButton.position;
          #);
     #);
   theWindow: @window
     (# active: @boolean;
        theButton: @pushButton
          (# open::
               (# 
               do 'OK' -> label;
               #);
             eventHandler::
               (# onMouseUp::
                    (# 
                    do (if active then
                           theIdle.pause;
                        else
                           100 -> theIdle.activate;
                       if);
                       not active -> active;
                    #);
               #);
          #);
        open::
          (# 
          do theButton.open;
          #);
     #);
do 
   theWindow.open;
#)
