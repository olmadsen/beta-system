ORIGIN '~beta/guienv/v1.6/guienv';

BODY 'private/getfilebody';


-- guienvLib: attributes --

getFile:
  (# ext: ^text;
     name: ^text;
  enter ext[]
  <<SLOT GUIENVgetFile: doPart>>
  exit name[]
  #);

fileBrowserWindow: window
  (# fileBrowserType:< fileBrowser;
     theFileBrowser: @fileBrowserType;
     open::<
       (# 
       <<SLOT fileBrowserWindowOpen: doPart>>
       #);
  #);


-- windowLib: attributes --

fileBrowser: canvas
  (# <<SLOT fileBrowserLib: attributes>>;
     theDirectory:
       (# path: ^text;
       enter (# enter path[] <<SLOT fileBrowserEnterTheDirectory: doPart>> #)
       exit (# <<SLOT fileBrowserExitTheDirectory: doPart>> exit path[] #)
       #);
     filter:< booleanValue
       (# name: ^text;
       enter name[]
       do true -> value;
          inner;
       #);
     open::<
       (# <<SLOT fileBrowserOpen: doPart>> #);
     
     fileSelected:<
       (# name: ^text;
       enter name[]
       do inner;
       #);
     userCancel:<
       object;
     
     private: @<<SLOT fileBrowserPrivate: descriptor>>;
  #);

