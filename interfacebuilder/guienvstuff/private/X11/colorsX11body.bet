ORIGIN '../colorsbody';
INCLUDE '~beta/guienv/v1.3/private/X11/guienv_unixprivate';

-- GUIENVwindowItemEnterForegroundColor: doPart --
do

-- GUIENVwindowItemExitForegroundColor: doPart --
do

-- GUIENVwindowItemEnterBackgroundColor: doPart --
do

-- GUIENVwindowItemExitBackgroundColor: doPart --
do (# pixel: @integer;
      theXColor: @XColor;
      dpy: @integer;
      colorMap: @integer;
   do (if widgetID = 0 then
          XtNbackground -> father.getIntegerResource -> pixel;
          XtNcolorMap -> father.getIntegerResource -> colorMap;
       else
          XtNbackground -> getIntegerResource -> pixel;
          XtNcolorMap -> getIntegerResource -> colorMap;
      if);
      pixel -> theXColor.pixel;
      displayID -> dpy;
      (dpy, colorMap, theXColor[]) -> XQueryColor;
      &color[] -> value[];
      theXColor.red -> value.red;
      theXColor.green -> value.green;
      theXColor.blue -> value.blue;
   #);

