ORIGIN '~beta/guienv/v1.2/guienv';

INCLUDE 'walkingants';

-- program: descriptor --
GUIenv
(# 
   theWalkingAnts: @walkingAnts
     (# init::
          (# 
          do 50 -> interval;
          #);
     #);
   theWindow: @window
     (# eventHandler::
          (# onMouseUp::
               (# theRectangle: ^rectangle;
                  p: @point;
               do &rectangle[] -> theRectangle[];
                  localPosition -> p;
                  ((p.h - 100, p.v - 100), (p.h + 100, p.v + 100)) -> theRectangle;
                  theWalkingAnts.stop;
                  (if theWalkingAnts.style 
                   //oneWay then 
                      twoWay -> theWalkingAnts.style;
                      50 -> theWalkingAnts.interval;
                   //twoWay then 
                      oneWay -> theWalkingAnts.style;
                      50 -> theWalkingAnts.interval;
                  if);
                  theRectangle[] -> theWalkingAnts.start;
               #);
          #);
        open::
          (# 
          do contents -> theWalkingAnts.theCanvas[];
          #);
     #);
do theWalkingAnts.init;
   theWindow.open;
#)
