ORIGIN '~beta/guienv/v1.3/guienv';
BODY 'private/tableviewbody';

-- windowLib: attributes --

tableView: canvas
  (* Replacement for list. Each item has an icon at the left. *)
  (# <<SLOT tableViewLib: attributes>>;
     element:< tableItem;
     
     tableItem:
       (# <<SLOT tableItemLib: attributes>>;
          name:
            (# value: ^text;
            enter (# enter value[] <<SLOT GUIENVtableViewTableItemEnterName: doPart>> #)
            exit (# <<SLOT GUIENVtableViewTableItemExitName: doPart>> exit value[] #)
            #);
          icon:
            (# value: ^raster;
            enter (# enter value[] <<SLOT GUIENVtableViewTableItemEnterIcon: doPart>> #)
            exit  (# enter value[] <<SLOT GUIENVtableViewTableItemExitIcon: doPart>> exit value[] #)
            #);
          position: integerValue
            (# <<SLOT GUIENVTableViewTableItemPosition: doPart>> #);
          selected:
            (# value: @boolean
            enter (# enter value <<SLOT GUIENVtableViewTableItemEnterSelected: doPart>> #)
            exit (# <<SLOT GUIENVtableViewTableItemExitSelected: doPart>> exit value #)
            #);
          select:
            (# <<SLOT GUIENVtableViewTableItemSelect: doPart>> #);
          deSelect:
            (# <<SLOT GUIENVtableViewTableItemDeSelect: doPart>> #);
          
          activateEdit:
            (# <<SLOT GUIENVtableViewTableItemActivateEdit: doPart>> #);
          
          init:<
            (# beforeItem: ^tableItem;
            enter beforeItem[]
            <<SLOT GUIENVtableViewTableItemInit: doPart>> 
            #);
          delete:<
            (# <<SLOT GUIENVtableViewTableItemDelete: doPart>> #);
          
          onSelect:<
            (# theEvent: ^theEventHandler.mouseDown;
            enter theEvent[]
            do inner;
            #);
          onMouseDown:<
            (# theEvent: ^theEventHandler.mouseDown;
            enter theEvent[]
            do inner;
            #);
          onMouseUp:<
            (# theEvent: ^theEventHandler.mouseUp;
            enter theEvent[]
            do inner;
            #);
          verify:<
            (# okToChange: @boolean;
               str: ^text;
            enter str[]
            do true -> okToChange;
               inner;
            exit okToChange
            #);
          private: @<<SLOT GUIENVtableViewTableItemPrivate: descriptor>>;
       #);
     style:
       (# value: ^textStyle;
       enter (# enter value[] <<SLOT GUIENVtableViewEnterStyle: doPart>> #)
       exit (# <<SLOT GUIENVtableViewExitStyle: doPart>> exit value[] #)
       #);
     itemHeight: integerValue
       (# <<SLOT GUIENVtableViewItemHeight: doPart>> #);
     fitToContents:
       (# <<SLOT GUIENVtableViewFitToContents: doPart>> #);
     disableUpdate:
       (# <<SLOT GUIENVtableViewDisableUpdate: doPart>> #);
     enableUpdate:
       (# <<SLOT GUIENVtableViewEnableUpdate: doPart>> #);
     scan:
       (# current: ^element;
       <<SLOT GUIENVtableViewScan: doPart>>
       #);
     deactivateEdit:
       (# <<SLOT GUIENVtableViewDeactivateEdit: doPart>> #);
     
     open::<
       (# <<SLOT GUIENVtableViewOpen: doPart>> #);
     close::<
       (# <<SLOT GUIENVtableViewClose: doPart>> #);
     eventHandler::<
       (# onRefresh::<
            (# <<SLOT GUIENVtableViewOnRefresh: doPart>> #);
          onMouseDown::<
            (# <<SLOT GUIENVtableViewOnMouseDown: doPart>> #);
          onMouseUp::<
            (# <<SLOT GUIENVtableViewOnMouseUp: doPart>> #);
          onKeyDown::<
            (# <<SLOT GUIENVtableViewOnKeyDown: doPart>> #);
       #);
     private: @<<SLOT GUIENVtableViewPrivate: descriptor>>;
  #);
