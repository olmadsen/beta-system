ORIGIN '~beta/guienv/v1.6/guienv';
INCLUDE '~beta/guienv/v1.6/controls';

BODY 'panoramabody';


-- windowLib: attributes --

panorama: canvas
	(# <<SLOT panoramaLib: attributes>>;
		theScroll:
			(# vertical, horizontal: @integer;
			enter (# enter (horizontal, vertical) <<SLOT panoramaSetTheScroll: doPart>> #)	
			exit 	(# <<SLOT panoramaGetTheScroll: doPart>> exit (horizontal, vertical) #)
			#);
		maxScroll:
			(# vertical, horizontal: @integer;
			<<SLOT panoramaMaxScroll: doPart>>
			exit (horizontal, vertical)
			#);
		scrollbars: @list
			(# element:: panoramaScrollbar;
			#);
		eventHandler::<
			(# onFrameChanged::<
					(# <<SLOT panoramOnFrameChanged: doPart>> #);
				onChildFrameChanged::<
					(# <<SLOT panoramOnChildFrameChanged: doPart>> #);
			#);
		open::<
			(# <<SLOT panoramOpen: doPart>> #);
		private: @<<SLOT panoramePrivate: descriptor>>;
	#);
  
panoramaScrollbar: scrollbar
	(# <<SLOT panoramaScrollbarLib: attributes>>;
		panoramas: @list
			(# element:: panorama;
			#);
		attach:
			(# thePanorama: ^panorama;
			enter thePanorama[]
			<<SLOT panoramaScrollbarAttach: doPart>>
			#);
		eventHandler::<
			(# onValueChanged::<
					(# <<SLOT panoramaScrollbarOnValueChanged: doPart>>
					#);
			#);
		flag: (* private *) @boolean;
	#);
  
 
verticalScroller: canvas
	(# thePanorama: @panorama
			(# open::
					(# 
				   do true->bindBottom;
					  	true->bindRight;
					  	(169,146)->size;
					  	(2,2)->position;
				  	#);
			#);
		 verticalScrollbar: @panoramaScrollbar
			(# vertical::  (#  do true->value #);
				open::
				  (# 
				  do true->bindRight;
					  false->bindLeft;
					  true->bindBottom;
					  (16,148)->size;
					  (171,1)->position;
				  #)
			#);
		 open::< 
			(# 
			do borderStyles.shadowIn->border.style;
				true->border.visible;
				(188,150)->size;
				thePanorama.open;
				verticalScrollbar.open;
				thePanorama[]->verticalScrollbar.attach;
				INNER;
			#);
	#);