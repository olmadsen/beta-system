ORIGIN '../editlabel';
MDBODY nti 'winnt/editlabelbody'
       macintosh 'macintosh/editlabelbody'
       default 'X11/editlabelbody';
-- editlabelPrivate: Descriptor --
(# theEditor: ^canvas.editor;  #)  

-- canvasLib: Attributes --
editor: dialogField
  (#
     current: ^editLabel;
     open::  (#  do hide;  #);
     endEdit:
       (# 
       do
          (if current[] <> none then
              textContents->current.label; hide; ''->textContents; 
          if);
          
       #);
     attach:
       (# new: ^editLabel; 
       enter new[]
       do endEdit; new[]->current[]; new.label->textContents; place; show; 
       #);
     place:
       (# bounds: @rectangle; 
       do
          current.frame->bounds;
          bounds.left-left->bounds.left;
          bounds.top-top->bounds.top;
          bounds.right-right->bounds.right;
          bounds.bottom-bottom->bounds.bottom;
          bounds->frame;
          
       #);
     eventHandler::  (# onReturn::  (#  do endEdit;  #);  #);
     
  #);
getEditor: objectPool.get
  (# type:: editor; init::  (#  do obj.open;  #);  #);
left: integerValue (#  do 5->value;  #);
right: integerValue (#  do 5->value;  #);
top: integerValue (#  do 5->value;  #);
bottom: integerValue (#  do 5->value;  #);
  

-- editLabelStartEdit: DoPart --
do
   father.getEditor->private.theEditor[]; THIS(editLabel)[]->private.theEditor.attach;   

-- editLabelEndEdit: DoPart --
do   

