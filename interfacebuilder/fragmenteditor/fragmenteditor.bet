ORIGIN '~beta/interfacebuilder/v1.0/editorenv/editorenv';
BODY 'private/fragmenteditorbody';

Include '~beta/guienv/v1.3/scrolllists';
INCLUDE '~beta/guienv/v1.3/stddialogs';
INCLUDE '~beta/guienv/v1.3/controls';
INCLUDE '~beta/guienv/v1.3/fields';
Include '~beta/guienv/v1.3/utils/group'

(*Include '~beta/editor/v5.0/test/additions/textfieldstuff';*)

-- WindowLib: Attributes --
button: pushbutton
  (#
     command:< Object;
     eventHandler::<
       (#  onMouseUp::<
            (# 
            do command;
            #);
       #);
     open::<
       (# 
       do (60,20) -> size;
          inner;
       #);
  #);

-- editorEnvLib: attributes --

FragmentEditorWindow: Window
  (# menubarVisible::< (# do false -> value #);
     theFragmentGroup: ^MPS.FragmentGroup;
     
     openFragment:<
       (# theFragment: ^MPS.fragmentForm;
       enter theFragment[]
       do inner;
       #);
     init:<
       (# 
       enter theFragmentGroup[]
       do open;
       #);
     
     Closebutton: @button
       (#
          command::<
            (#
            do 
               this(FragmentEditorWindow).close;
            #); 
          open::<(# 
                 do
                    'Close'->label;
                    (70,20)->size;
                    (6,7)->position;
                    false -> bindRight;
                    true -> bindleft;
                 #);
       #);
     
     Properties:@Group
       (# 
          State:<(#    value: @boolean;
                 enter value
                 do <<SLOT FragmentEditorPropertiesState: Descriptor>>;#);
          open::<(# do <<SLOT FragmentEditorPropertiesOpen: Descriptor>>;#);
          close::<(# do <<SLOT FragmentEditorPropertiesClose: Descriptor>>;#);
          Private: @<<SLOT FragmentEditorPropertiesPrivate: Descriptor>>;
       #);
     Fragments: @Group
       (# 
          count: @integer;
          changed: @boolean;
          
          open::<(# do <<SLOT FragmentEditorFragmentsOpen: Descriptor>>;#);
          close::<(# do <<SLOT FragmentEditorFragmentsClose: Descriptor>>;#);
          Private: @<<SLOT FragmentEditorFragmentsPrivate: Descriptor>>;
       #);
     
     close::<(# do <<SLOT FragmentEditorClose: Descriptor>>;
            #);
     
     open::<(# do <<SLOT FragmentEditorOpen: Descriptor>>;
            #);
  #);
















