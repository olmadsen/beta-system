~beta/mps/v4.9/propertyparser.bet:

--- fragmentgrouplib: attributes ---
parseProperty: (* for parsing a property specification *)
  (# input: ^stream; (* Den tekst der skal parses op i this(fragmentGroup).prop *)
     errorStream: ^stream; (* Den stream hvor parsefejl skal udskrives (fx. screen[]) *)
     ok: @boolean; (* returnerer true hvis det gik godt - ellers false (ved parsefejl) *)
  enter (input[], errorStream[])
  do (* parse op! *)
  exit ok
  #);


eksempel:

  t: ^styledText;
  field: ^textField;
  fg: ^MPS.fragmentGroup;
  ok: @boolean;
do field.contents -> t[];
   t.reset;
   (t[], screeen[]) -> fg.parseProperty -> ok;
   (if ok then
      (* disable the buttons *)
   else
      (* do nothing *)
   if);


