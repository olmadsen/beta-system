ORIGIN '../codeview'
[[
-- Include '~beta/guienv/v1.2/controls'
-- Include '~beta/guienv/v1.2/scrolllists'

-- CodeViewLib: Attributes --
			
-- CodeViewInit: Descriptor --
(# ScriptMenu: ^Menu;
do &Menu[] -> ScriptMenu[];
   ScriptMenu.Open;
	(*Names.Scan
         (# anItem: ^ScriptMenu.Item;
		do &ScriptMenu.Item[] -> anItem[];
         Current[] -> ScriptMenu.Append -> anItem.ItemNumber;
         #);*)
   ScriptMenu[] -> PrivatePart.ScriptsMenuButton.PopupMenu;
   Inner Init;
#)


-- CodeViewOpen: Descriptor --
(# Width,Height: @Integer; 
do    
   (330, 122) -> Size;
   (13,280) -> Position;
   True -> BindBottom;
   False -> BindTop;
   
   ' Code : ' -> Label.label;
   this(CodeView).size -> (Width,Height);
   (Width-4,0)->Sep.size;

   this(CodeView)[]->PrivatePart.NameField.Open;
   this(CodeView)[]->PrivatePart.NameFieldLabel.Open;
   this(CodeView)[]->PrivatePart.SuperPatternField.Open;
   this(CodeView)[]->PrivatePart.SuperPatternFieldLabel.Open;
   this(CodeView)[]->PrivatePart.ScriptsMenuButton.Open;
   this(CodeView)[]->PrivatePart.AttributesButton.Open;
   this(CodeView)[]->PrivatePart.PrivateAttributesBtn.Open;
   (PrivatePart.NameField[],PrivatePart.SuperPatternField[]) 
    -> (NameField[],SuperPatternField[]);
   Inner Open;
#)
 

-- CodeViewPrivatePart: Descriptor --
(# NameField: @AlphaNumField
     (# Open::<
          (#
          do (36, 24) -> Position;
             (100,25) -> Size;
          #);
     #);

   NameFieldLabel: @StaticText
     (# Open::<
          (#
          do 'Name' -> Label;
             (7, 28) -> Position;
             (27,12) -> Size;
          #);
     #);

   SuperPatternField: @AlphaNumField
     (# Open::<
          (#
          do (220, 24) -> Position;
             (100, 25) -> Size;
          #);
     #);
   SuperPatternFieldLabel: @StaticText
     (# Open::<
          (#
          do 'Superpattern' -> Label;
             (145, 28) -> Position;
             (75,12) -> Size;
          #);
     #);
   
   ScriptsMenuButton: @OptionButton
     (# EventHandler::<
          (# onActivate::<
               (# theMenu: ^Menu;
               do PopupMenu -> theMenu[];
                  (if theMenu[]//None
                      then
                   else theMenu.Enable;
                  if)
               #);
             onMouseUp::<
               (# theMenu: ^Menu;
                  (*theItem: ^theMenu.Item;*)
                  t: ^Text;
               do PopupMenu -> theMenu[];
                  (if theMenu[]//None
                      then
                   else 
                      (*CurrentItem -> theMenu.GetItemByNumber -> theItem[];
                      (if theItem[]//None
                          then
                       else
                          theItem.Name -> EditScript;
                      if);*)
                  if)
               #);
          #);
        Open::<
          (#
          do 'Scripts' -> Label;
             (143, 55) -> Position;
             (200, 28) -> Size;
          #);
        Close::<
          (# theMenu: ^Menu;
          do PopupMenu -> theMenu[];
             (if theMenu[]//None
                 then
              else theMenu.Close;
             if)
          #);
     #);
   AttributesButton: @PushButton
     (# EventHandler::<
          (# onMouseUp::<
               (# 
               do (*'Attributes' -> EditScript;*)
               #);
          #);
        Open::<
          (#
          do 'Attributes' -> Label;
             (35, 60) -> Position;
             (79, 20) -> Size;
          #);
     #);
   PrivateAttributesBtn: @PushButton
     (# Open::<
          (#
          do 'Private' -> Label;
             (35, 90) -> Position;
             (79, 20) -> Size;
          #);
        EventHandler::<
          (# onMouseUp::<
               (# 
               do 'Private' -> EditScript;
               #);
          #);
     #);
#)
--]]






