ORIGIN '~beta/betaast/v5.1/betacfl';
BODY 'private/classesbody';

INCLUDE '../datastructures/doublelinkedlist';


-- lib: attributes --

pattern:
  (# node: ^astInterface.beta.patternDecl;
  enter node[]
  exit node[]
  #);
patternList: doubleLinkedList
  (# element:: pattern;
     findByName:
       (# node: ^astInterface.beta.patternDecl;
          name: ^text;
       enter name[]
       <<SLOT patternListFindByName: doPart>>
       exit node[]
       #);
  #);

getClasses:
  (# prefix: ^text;
     group: ^astInterface.fragmentGroup;
     mps: ^astInterface;
     classes: ^patternList;
  enter (mps[], prefix[], group[])
  <<SLOT getClassesDoPart: doPart>>
  exit classes[]
  #);

scanDomain:
  (# group: ^astInterface.fragmentGroup;
     current: ^astInterface.beta.attributeDecl;
     fragName: ^text;
     MPS: ^astInterface;
  enter (MPS[], group[], fragName[])
  <<SLOT scanDomainDoPart: doPart>>
  #);
