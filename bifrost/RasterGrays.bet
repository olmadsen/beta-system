(************************************************************)
(*********************** RasterGrays ************************)
(************************************************************)

ORIGIN 'Bifrost';
BODY 'private/Impl/RasterGrayImpl';

(*
 * COPYRIGHT 
 *       Copyright Mjolner Informatics, 1990-94 
 *       All rights reserved.
 *)

-- BifrostAttributes: Attributes --

RasterGray: TiledSolidColor
  (* Abstract superpattern for the ten patterns below: Each of these
   * use one of the bitmaps in the fragment HalftonePatterns to make
   * an illusion of a shade of gray even on a black & white device.
   * See the pattern RasterGrays below for a convenient use.
   *)
  (# do init; (0, 0, 0) -> RGBvalues; #);

RasterGray0: RasterGray
  (# init:: (# <<SLOT RasterGray0Body: dopart>> #)#);
RasterGray11: RasterGray		       
  (# init:: (# <<SLOT RasterGray11Body: dopart>> #)#);
RasterGray22: RasterGray		       
  (# init:: (# <<SLOT RasterGray22Body: dopart>> #)#);
RasterGray33: RasterGray		       
  (# init:: (# <<SLOT RasterGray33Body: dopart>> #)#);
RasterGray44: RasterGray		       
  (# init:: (# <<SLOT RasterGray44Body: dopart>> #)#);
RasterGray56: RasterGray		       
  (# init:: (# <<SLOT RasterGray56Body: dopart>> #)#);
RasterGray67: RasterGray		       
  (# init:: (# <<SLOT RasterGray67Body: dopart>> #)#);
RasterGray78: RasterGray		       
  (# init:: (# <<SLOT RasterGray78Body: dopart>> #)#);
RasterGray89: RasterGray		       
  (# init:: (# <<SLOT RasterGray89Body: dopart>> #)#);
RasterGray100: RasterGray		       
  (# init:: (# <<SLOT RasterGray100Body: dopart>> #)#);

RasterGrays: 
  (* A convenient alternative to using the above patterns directly is
   * using an instance of RasterGrays: RasterGrays enters a
   * percentage, and exits a reference to an initialized RasterGray
   * yielding a approximating shade of gray: percentage=0 yields
   * white, percentage=100 yields black, other percentages yields one
   * of eight intermediate shades of gray.
   *)
  (# private: @<<SLOT RasterGraysPrivate: descriptor>>;
     percentage: @integer;
     thegray: ^RasterGray;
     init: 
       (# <<SLOT RasterGraysInit: dopart>> #)
  enter percentage
  do <<SLOT RasterGraysDoPart: descriptor>>;
  exit thegray[]
  #);
