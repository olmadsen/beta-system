ORIGIN 'bdrawenv';

---- InitializeLogo: dopart ----
do (80,49) -> Size;
   0 -> BorderWidth;
   true -> defaultbackground;

---- Logo:descriptor ----
(# anArc: ^Arc;
   aSolidColor: ^SolidColor;
   delta: @integer;
   center: @Point;
   radius: @integer;
   a2: @real;
   h,s,v: @integer;
do    
   (* Draw a small rainbow *)
   (40,0) -> center;
   25 -> radius;
   180 -> a2;
   defaultmaxhue div 15 -> delta;
   
   (for h:15 repeat
        &Arc[] -> anArc[];
        anArc.init;
        center -> anArc.center;
        radius -> anArc.horizontalradius -> anArc.verticalradius;
        2 -> anArc.arcwidth; (* Actually 1 ought to be enough! *)
        a2 -> anArc.angle2;
        
        &SolidColor[] -> aSolidColor[] -> anArc.setPaint;
        (DefaultMaxHue+6-delta*h,DefaultMaxSat,DefaultMaxVal)
          -> aSolidColor.HSVvalues;
        anArc[] -> draw;
        radius+1 -> radius;
   for);
#)
-- InitializeColorCanvas: descriptor --
(# 
do (80,50) -> size;
   2 -> BorderWidth;
   
   theLine.init;
   mySolidColor.copy -> theLine.setPaint;
   ((10,40),(70,10)) -> theLine.coordinates;
   (if debugGraphic //true then 
       'colorcanvas initialized' -> putline; 
   if);
#) 
   
---- UpdateColorCanvas: descriptor ----
(* Draw a line between (10,40) and (70,10) with attributes as
 specified by mylinewidth,mySolidColor *)
(# GB: @theLine.GetBounds;
do
   GB -> damaged;
   mySolidColor.copy -> theLine.setPaint;
   myLineWidth -> theLine.width;
   mycapstyle  -> theLine.cap;
   GB -> damaged;
   repair;
   (if debugGraphic //true then 
       'colorcanvas updated' -> putline; 
   if);
#)

---- InitInfo:descriptor ----
(# blackpaint: @SolidColor;
do (600,18) -> Size;
   1 -> BorderWidth;
   
   label.init;
   ((2,5), Times, Plain, 14, false, 'Choose objects from the palette') 
     -> label.initText;
   blackpaint.init;
   black -> blackpaint.name;
   blackpaint[] -> label.setPaint;
#)

-- OpenInfo: dopart --
do label[] -> draw 
   
-- ClearInfo: descriptor --
(# 
do label.getbounds -> damaged;
   '' -> label.thetext;
   repair;
#)
   
---- SetInfo:descriptor ---- 
(# GB: @label.GetBounds;
do GB -> damaged;
   t[]  -> label.thetext;
   GB -> damaged;
   repair;
#)
