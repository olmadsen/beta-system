ORIGIN '../../Bifrost';

-- CanvasAttributes: attributes --

     DoubleRubberLine: InteractionHandler
	  (# mousePoint, anchorPoint1, anchorpoint2: @Point; (* Device coords *)
	     themodifier: @modifier;
             stopinteraction: @boolean;
	     myabs: @abs;
	     iline: @immediateLine;
	     x,y: @integer;
	     
	     Initialize::<
	       (#
 	       do (anchorpoint1, mousePoint) -> iline;
		  (anchorpoint2, mousePoint) -> iline;		   
 	       #);

	     Motion::<
	       (#
	       do (anchorpoint1, mousePoint) -> iline;
		  (anchorpoint2, mousePoint) -> iline;	
  		  GetPointerLocation -> mousePoint;
		  (anchorpoint1, mousePoint) -> iline;
		  (anchorpoint2, mousePoint) -> iline;	
	       #);
             ButtonPress::<
               (# do true -> stopinteraction; #);
	     TerminateCondition::<
	       (# do stopinteraction -> value; #);
	  
	  enter (anchorpoint1, anchorpoint2, mousepoint, themodifier)
	  exit mousepoint
	  #);

