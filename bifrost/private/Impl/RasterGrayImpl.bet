ORIGIN '../../RasterGrays';
INCLUDE 'HalftonePatterns';

--RasterGray0Body: dopart--
do Bitmap0  -> theTile 
   
--RasterGray11Body: dopart--
do Bitmap11 -> theTile 
   
--RasterGray22Body: dopart--
do Bitmap22 -> theTile 
   
--RasterGray33Body: dopart--
do Bitmap33 -> theTile 
   
--RasterGray44Body: dopart--
do Bitmap44 -> theTile 
   
--RasterGray56Body: dopart--
do Bitmap56 -> theTile 
   
--RasterGray67Body: dopart--
do Bitmap67 -> theTile 
   
--RasterGray78Body: dopart--
do Bitmap78 -> theTile 
   
--RasterGray89Body: dopart--
do Bitmap89 -> theTile 
   
--RasterGray100Body: dopart--
do Bitmap100-> theTile 

--RasterGraysPrivate: descriptor--
(# grays: [10] ^RasterGray; #)

-- RasterGraysInit: dopart --
do &RasterGray0   -> private.grays[1][]; 
   &RasterGray11  -> private.grays[2][]; 
   &RasterGray22  -> private.grays[3][]; 
   &RasterGray33  -> private.grays[4][]; 
   &RasterGray44  -> private.grays[5][]; 
   &RasterGray56  -> private.grays[6][]; 
   &RasterGray67  -> private.grays[7][]; 
   &RasterGray78  -> private.grays[8][]; 
   &RasterGray89  -> private.grays[9][]; 
   &RasterGray100 -> private.grays[10][];


--RasterGraysDoPart: descriptor--
(# i: @integer
do (if percentage<0 // true then 0   -> percentage if);
   (if percentage>100 // true then 100 -> percentage if);
   9*(percentage+5) div 100 + 1 -> i;
   (if private.grays[i][] // NONE then init if);
   private.grays[i][] -> thegray[];
#)
