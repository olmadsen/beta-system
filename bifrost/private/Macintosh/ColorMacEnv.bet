ORIGIN '~beta/macenv/v3.6/macenv'

-- LIB :ATTRIBUTES --

(* macenv color additions (by kjm) *)

ColorMacEnv: macenv
(#
   ColorWindow: window
   (#
       newColor:<
	   (# 
	   dispRect: @Rectangle; title: @text;
	   
       createWindow :< (# do INNER exit winPtr #);
	   x1,y1,x2,y2 :@ integer;
	   
	   enter (((x1,y1),(x2,y2)), title)
	   do
	     x1 -> dispRect.putLeft;
		 y1 -> dispRect.putTop;
		 x2 -> dispRect.putRight;
		 y2 -> dispRect.putBottom;
		 this(colorwindow)[] -> windowList.insert;
		 info.setDefaultValues;
		 (if createWindow//0 then 
		     (0,dispRect[],title,macFalse,info.windowKind,-1,info.closeBoxFlag -> toMacBoolean,0) 
		         -> NewCWindow -> winPtr -> setPort;
		     (if info.initialVisible//true then winPtr->ShowWindow if);
		 if);
		 InitMenus;
		 inner;
	   #);
   #)
do INNER;
#)
