ORIGIN 'EPSimpl'

--WriteEPSmacros: descriptor--
(# o: @out.putline;
do 
  '% begin macros'  ->o;
  ''  ->o;
  '/Begin {'  ->o;
  '17 dict begin % for spline routines'  ->o;
  '} def'  ->o;
  ''  ->o;
  '/End {'  ->o;
  'end'  ->o;
  '} def'  ->o;
  ''  ->o;
  '/l'  ->o;
  '% args: endx endy beginx beginy capstyle linewidth'  ->o;
  '{'  ->o;
  'setlinewidth'  ->o;
  'setlinecap'  ->o;
  'moveto'  ->o;
  'lineto'  ->o;
  'stroke'  ->o;
  '} def'  ->o;
  ''  ->o;
  '/r'  ->o;
  '% args: upperrightx upperrighty width height'  ->o;
  '{'  ->o;
  '/h exch def'  ->o;
  '/w exch def'  ->o;
  'moveto'  ->o;
  'w 0 rlineto'  ->o;
  '0 h neg rlineto'  ->o;
  'w neg 0 rlineto'  ->o;
  'closepath'  ->o;
  '} def'  ->o;
  ''  ->o;
  '/e'  ->o;
  '% args: centerx centery radiusx scaley '  ->o;
  '{'  ->o;
  '/s exch def'  ->o;
  '/rx exch def'  ->o;
  '1 s scale'  ->o;
  's div rx 0 360 arc'  ->o;
  '} def'  ->o;
  ''  ->o;
  '/p'  ->o;
  '% args: centerx centery angle1 angle2 radiusx scaley '  ->o;
  '{'  ->o;
  '/s exch def'  ->o;
  '/rx exch def'  ->o;
  '/a2 exch def'  ->o;
  '/a1 exch def'  ->o;
  '/cy exch def'  ->o;
  '/cx exch def'  ->o;
  'cx cy moveto'  ->o;
  '1 s scale'  ->o;
  'cx cy s div rx a1 a2 arc'  ->o;
  'closepath'  ->o;
  'fill'  ->o;
  '} def'  ->o;
  ''  ->o;
  '/a'  ->o;
  '% args: centerx centery angle1 angle2 radiusx scaley arcwidth'  ->o;
  '{'  ->o;
  'setlinewidth'  ->o;
  '/s exch def'  ->o;
  '/rx exch def'  ->o;
  '/a2 exch def'  ->o;
  '/a1 exch def'  ->o;
  '/cy exch def'  ->o;
  '/cx exch def'  ->o;
  '1 s scale'  ->o;
  'cx cy s div rx a1 a2 arc'  ->o;
  'stroke'  ->o;
  '} def'  ->o;
  ''  ->o;
  '/t'  ->o;
  '% args: string underlineflag position size fontname'  ->o;
  '{'  ->o;
  'findfont'  ->o;
  'exch scalefont setfont'  ->o;
  'moveto'  ->o;
  '{'  ->o;
  '  gsave'  ->o;
  '  currentpoint 						'  ->o;
  '  currentfont /FontInfo get /UnderlineThickness get	'  ->o;
  '  0 exch 						'  ->o;
  '  currentfont /FontMatrix get dtransform 		'  ->o;
  '  setlinewidth pop					'  ->o;
  '  currentfont /FontInfo get /UnderlinePosition get	'  ->o;
  '  0 exch 						'  ->o;
  '  currentfont /FontMatrix get dtransform 		'  ->o;
  '  exch pop add 						'  ->o;
  '  moveto						'  ->o;
  '  dup							'  ->o;
  '  stringwidth 						'  ->o;
  '  rlineto '  ->o;
  '  stroke '  ->o;
  '  grestore'  ->o;
  '} if'  ->o;
  'show'  ->o;
  '} def'  ->o;
  ''  ->o;
  '/m'  ->o;
  '% args: points numpoints-1 lastpoint joinstyle capstyle linewidth'  ->o;
  '{'  ->o;
  'setlinewidth'  ->o;
  'setlinecap'  ->o;
  'setlinejoin'  ->o;
  'moveto'  ->o;
  '{lineto} repeat'  ->o;
  'stroke'  ->o;
  '} def'  ->o;
  ''  ->o;
  '% The splines used in Bifrost are partly based on the splines used'  ->o;
  '% in InterViews.'  ->o;
  '% We have used these ideas in terms of its copyrigth:'  ->o;
  '% '  ->o;
  '% Copyright (c) 1987, 1988, 1989, 1990, 1991 Stanford University'  ->o;
  '% Copyright (c) 1991 Silicon Graphics, Inc.'  ->o;
  '% '  ->o;
  '% Permission to use, copy, modify, distribute, and sell this software and '  ->o;
  '% its documentation for any purpose is hereby granted without fee, provided'  ->o;
  '% that (i) the above copyright notices and this permission notice appear in'  ->o;
  '% all copies of the software and related documentation, and (ii) the names of'  ->o;
  '% Stanford and Silicon Graphics may not be used in any advertising or'  ->o;
  '% publicity relating to the software without the specific, prior written'  ->o;
  '% permission of Stanford and Silicon Graphics.'  ->o;
  '% '  ->o;
  '% THE SOFTWARE IS PROVIDED "AS-IS" AND WITHOUT WARRANTY OF ANY KIND, '  ->o;
  '% EXPRESS, IMPLIED OR OTHERWISE, INCLUDING WITHOUT LIMITATION, ANY '  ->o;
  '% WARRANTY OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.  '  ->o;
  '% '  ->o;
  '% IN NO EVENT SHALL STANFORD OR SILICON GRAPHICS BE LIABLE FOR'  ->o;
  '% ANY SPECIAL, INCIDENTAL, INDIRECT OR CONSEQUENTIAL DAMAGES OF ANY KIND,'  ->o;
  '% OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS,'  ->o;
  '% WHETHER OR NOT ADVISED OF THE POSSIBILITY OF DAMAGE, AND ON ANY THEORY OF '  ->o;
  '% LIABILITY, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE '  ->o;
  '% OF THIS SOFTWARE.'  ->o;
  ''  ->o;
  '/storexyn {'  ->o;
  '/n exch def'  ->o;
  '/y n array def'  ->o;
  '/x n array def'  ->o;
  'n 1 sub -1 0 {'  ->o;
  '/i exch def'  ->o;
  'y i 3 2 roll put'  ->o;
  'x i 3 2 roll put'  ->o;
  '} for'  ->o;
  '} def'  ->o;
  ''  ->o;
  '/midpoint {'  ->o;
  '0 begin'  ->o;
  '/y1 exch def'  ->o;
  '/x1 exch def'  ->o;
  '/y0 exch def'  ->o;
  '/x0 exch def'  ->o;
  'x0 x1 add 2 div'  ->o;
  'y0 y1 add 2 div'  ->o;
  'end'  ->o;
  '} dup 0 4 dict put def'  ->o;
  ''  ->o;
  '/thirdpoint {'  ->o;
  '0 begin'  ->o;
  '/y1 exch def'  ->o;
  '/x1 exch def'  ->o;
  '/y0 exch def'  ->o;
  '/x0 exch def'  ->o;
  'x0 2 mul x1 add 3 div'  ->o;
  'y0 2 mul y1 add 3 div'  ->o;
  'end'  ->o;
  '} dup 0 4 dict put def'  ->o;
  ''  ->o;
  '/subspline {'  ->o;
  '0 begin'  ->o;
  '/movetoNeeded exch def'  ->o;
  'y exch get /y3 exch def'  ->o;
  'x exch get /x3 exch def'  ->o;
  'y exch get /y2 exch def'  ->o;
  'x exch get /x2 exch def'  ->o;
  'y exch get /y1 exch def'  ->o;
  'x exch get /x1 exch def'  ->o;
  'y exch get /y0 exch def'  ->o;
  'x exch get /x0 exch def'  ->o;
  'x1 y1 x2 y2 thirdpoint'  ->o;
  '/p1y exch def'  ->o;
  '/p1x exch def'  ->o;
  'x2 y2 x1 y1 thirdpoint'  ->o;
  '/p2y exch def'  ->o;
  '/p2x exch def'  ->o;
  'x1 y1 x0 y0 thirdpoint'  ->o;
  'p1x p1y midpoint'  ->o;
  '/p0y exch def'  ->o;
  '/p0x exch def'  ->o;
  'x2 y2 x3 y3 thirdpoint'  ->o;
  'p2x p2y midpoint'  ->o;
  '/p3y exch def'  ->o;
  '/p3x exch def'  ->o;
  'movetoNeeded { p0x p0y moveto } if'  ->o;
  'p1x p1y p2x p2y p3x p3y curveto'  ->o;
  'end'  ->o;
  '} dup 0 17 dict put def'  ->o;
  ''  ->o;
  '/BSpl {'  ->o;
  '% usage: points npoints BSpl'  ->o;
  '0 begin'  ->o;
  'storexyn'  ->o;
  'n 1 gt {'  ->o;
  '  0 0 0 0 0 0 1 1 false subspline'  ->o;
  '  n 2 gt {'  ->o;
  '    0 0 0 0 1 1 2 2 false subspline'  ->o;
  '    1 1 n 3 sub {'  ->o;
  '    /i exch def'  ->o;
  '    i 1 sub dup i dup i 1 add dup i 2 add dup false subspline'  ->o;
  '    } for'  ->o;
  '    n 3 sub dup n 2 sub dup n 1 sub dup 2 copy false subspline'  ->o;
  '  } if'  ->o;
  '  n 2 sub dup n 1 sub dup 2 copy 2 copy false subspline'  ->o;
  '} if'  ->o;
  'end'  ->o;
  '} dup 0 4 dict put def'  ->o;
  ''  ->o;
  '/CBSpl {'  ->o;
  '0 begin'  ->o;
  'dup 2 gt {'  ->o;
  '  storexyn'  ->o;
  '  n 1 sub dup 0 0 1 1 2 2 false subspline'  ->o;
  '  1 1 n 3 sub {'  ->o;
  '    /i exch def'  ->o;
  '    i 1 sub dup i dup i 1 add dup i 2 add dup false subspline'  ->o;
  '  } for'  ->o;
  '  n 3 sub dup n 2 sub dup n 1 sub dup 0 0 false subspline'  ->o;
  '  n 2 sub dup n 1 sub dup 0 0 1 1 false subspline'  ->o;
  '} {'  ->o;
  '% Poly % multiline'  ->o;
  '} ifelse'  ->o;
  'end'  ->o;
  '} dup 0 4 dict put def'  ->o;
  ''  ->o;
  '% end macros'  ->o;
  ''  ->o;
#)
