ORIGIN 'utils';
(*
 * COPYRIGHT
 *       Copyright (C) Aarhus University
 *       All rights reserved.
 *)
INCLUDE '~beta/win32lib/errorhandling';
INCLUDE '~beta/win32lib/wingdiconsts';

-- drawborderbodyBifrost: descriptor --
(# result: @integer; hbr: @integer; hRgn: @integer; 
   hbrushOld, oldHPen: @integer;
   fWidth,fHeight: @integer;
   hdc: @integer;
do (windowID,0,DCX_PARENTCLIP + DCX_CLIPSIBLINGS + DCX_CLIPCHILDREN ) 
     -> GetDCEx -> hdc; 
   
   NULL_BRUSH -> GetStockObject -> hbr;
   (hdc, hbr) -> SelectObject -> hbrushOld;
   (hdc, theHPen) -> SelectObject -> oldHPen;
   
   (hdc,x,y,x+width,y+height) 
     -> ntRectangle -> result;
   (if result=0 then
       (if false (*displayWarnings*) then
           'drawborderBifrost. Rectangle failed!! Errorcode: ' -> puttext;
           GetLastError -> putint; newline;
       if);
   if);
   (hdc, hbrushOld) -> SelectObject;
   (hdc, oldHPen) -> SelectObject -> DeleteObject;
   (windowID,hdc) -> ReleaseDC;
   
#)
