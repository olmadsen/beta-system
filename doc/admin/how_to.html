<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd"
>
<HTML>
<HEAD>
<META http-equiv="Content-Type" CONTENT="text/html; CHARSET=ISO-8859-1">
<TITLE>Work procedures for MIADOC manuals</TITLE>
<LINK REL="stylesheet" HREF="../style/miadoc.css" TYPE="text/css">
</HEAD>
<BODY>

<H1>Work procedures for MIADOC manuals</H1>
Using containers as an example.

<H2><A NAME="contents">Contents</A></H2>

<UL>

<LI><A HREF="#intro">Introduction</A></LI>
<UL>
<LI><A HREF="#rules">Rules for editing MIADOC pages</A></LI>
<LI><A HREF="#miadoc-list">List of miadoc manuals</A></LI>
<LI><A HREF="#repository">Description of CVS repository</A></LI>
<LI><A HREF="#makehtml_idx">makeHTML and idx-comments</A></LI>
</UL>
<LI><A HREF="#errors">Error reports for miadocs</A></LI>
<LI><A HREF="#update">Updating a MIADOC manual</A></LI>
<LI><A HREF="#new">Creating a new MIADOC</A></LI>
<LI><A HREF="#snapshot">Creating screen snapshots for manuals etc.</A></LI>
</UL>

<H2><A NAME="intro">Introduction</A></H2>

<H3><A NAME="rules">Rules for editing MIADOC pages</A></H3>

Since a lot of people are involved in maintaining the
document pages, a few basic rules must be agreed on:

<UL>
<LI><A HREF="rules.html">Rules for editing MIADOC manuals</A>
</UL>

<H3><A NAME="miadoc-list">List of miadoc manuals</A></H3>

A list of miadoc manuals, and who is responsible for the different
manuals, can be found in

<A HREF="document-list.html"><CODE>doc/admin/document-list.html</CODE></A>.

<H3><A NAME="repository">Description of CVS repository</A></H3>

Files used for miadoc manuals are in a CVS project named <CODE>doc</CODE>.
The structure of this is (here with <CODE>containers</CODE> expanded:
<PRE>
   doc/admin/                   admin stuff: document-list, rules etc.
       basiclib/                basiclib manual
       beta/                    basic beta documentation
       ...
       bin/                     scripts like beta2int.perl, int2html.perl, ...
       ...
       changes/                 Documentation of changes in named releases
       containers/index.html    main index for container manual
                  ...
                  interface/    directory with makeHTML scipt for 
                                generation of interface descriptions
                                Only relevant for library manuals.
       ...
       faq/                     beta-language-faq
       ...
       images/                  images used for manuals, e.g. navigation buttons
       index.html               main index (contents) for the documentation
       install/                 CD cover (in Word6 Format) + generated HTML version
       javascript/              JavaScript scripts used in manuals
       ...
       manpages/                UNIX like manpages for some tools
       ...
       style/                   Stylesheets used in manuals.
       templates/               Snippets illustrating how to write manual HTML     
</PRE>

<H3><A NAME="makehtml_idx">makeHTML and idx-comments</A></H3>

The library miadoc manuals include interface descriptions
generated from the actual interface files (.bet) on UNIX.
These interface descriptions are generated as HTML
using scripts in
<PRE>
   doc/bin
</PRE>

In order to specify which files are to be included in the interface, and
in what order,  a local file <CODE>makeHTML</CODE> is placed in the
<CODE>interface</CODE> sub-directory. This is a bourne shell script that 
defines some variables with paths to interface files and names of interface 
files.
A sample <CODE>makeHTML</CODE> may bet found in 
<A HREF="makeHTML.example"><CODE>doc/admin/makeHTML.example</CODE></A>.
<P>

The HTML generator uses comments in the interface files to determine
what words to generate index entries for.
By default (i.e. with no comments), all declarations on the two
outermost block levels in the BETA code is indexed. This may be changed
by the following idx-comments:
<UL>
<LI><CODE>(* idx: x *)</CODE> changes index level to x
<LI><CODE>(* idx- *)</CODE> changes index level to one less than current
<LI><CODE>(* idx+ *)</CODE> changes index level to one more than current
</UL>

After generation, it may show, that some idx comments have to be changed
in order to produce a reasonable index. In HTML
the indexed word are shown in <STRONG>bold</STRONG> - this makes it
easy to check the generated interface descriptions manually.

<H2><A NAME="errors">Error reports for miadocs</A></H2>

The users may report errors in manuals via the web at the
URL 
<A HREF="http://www.mjolner.com/forms/manualerror.html">http://www.mjolner.com/forms/manualerror.html</A>.
<P>
These errors are collected in text files available (with beta passwd) at 
the URL
<A HREF="http://www.mjolner.com/ErrorReports/Manuals/">http://www.mjolner.com/ErrorReports/Manuals/</A>.
<P>
The manual writers should consult this database for reported errors
when updating a manual.

<H2><A NAME="update">Updating a MIADOC manual</A></H2>

In the following, items marked with * are only relevant if there is
a UNIX-generated interface description included in the manual.
<P>

<OL>

<P><LI>*Edit <CODE>interface/makeHTML</CODE></LI><BR> 
Introduce new filenames etc.

<P><LI>*Run <CODE>makeHTML (UNIX only)</CODE>.</LI><BR> 
This must be done from the <CODE>interface</CODE> directory (there is usually
a <CODE>Makefile</CODE> in the main directory that executes 
<CODE>makeHTML</CODE>.
<CODE>makeHTML</CODE> will produce an HTML file for each <CODE>.bet</CODE> 
file, as well as <CODE>index.html</CODE> and <CODE>idx.html</CODE>.

<P><LI>*Insert link to interface description in main document</LI><BR>
If it is not already there, insert a link to <CODE>interface/index.html</CODE>
from the main document.

<P><LI>Correct main document</LI><BR>
Use <CODE>cvs diff </CODE> on .bet files in previous release to find new 
patterns, corrections etc.

<P><LI>Update status of manual in <EM>your own CVS copy of</EM>
<A HREF="document-list.html">doc/admin/document-list.html</A></LI>.<BR>

</OL>


<H2><A NAME="new">Creating a new MIADOC</A></H2>

You would probably want to take a copy of
<UL>
<LI><A HREF="../templates/template.html">
<CODE>doc/templates/template.html</CODE>
</A>
</UL>

as a starting point.
<P>
Also you may wish to take a copy of 
<UL>
<LI><A HREF="makeHTML.example">
<CODE>doc/admin/makeHTML.example</CODE>
</A>
</UL>

if you are to create a set of interface descriptions.
<P>
There are general overviews in
<UL>
<LI><A HREF="index.html">
<CODE>doc/admin/index.html</CODE>
</A>
</UL>

and
<UL>
<LI><A HREF="../templates/index.html">
<CODE>doc/templates/index.html</CODE>
</A>
<P>
</UL>

Notice also
<UL>
<LI><A HREF="rules.html">
Rules for editing MIADOC pages
</A>
</UL>


<H2><A NAME="snapshot">Creating screen snapshots for manuals etc.</A></H2>
If you want to include snapshots of parts of the screen, or a specific window,
there are different ways to obtain this, depending on your platform.

<H3><A NAME="mac_snapshot">Macintosh</A></H3>

There are several ways to do this on mac.
<H4>Mac OS 8 Builtin Snapshots</H4>
In Mac OS 8, you can do the following:
<OL>
<LI>Type <CODE>Command-Shift-3</CODE> to capture whole screen into a <EM>file</EM> in PICT format.
<LI>Type <CODE>Command-Shift-Control-3</CODE> to capture whole screen to the <EM>Clipboard</EM> in PICT format.
<LI>Type <CODE>Command-Shift-4</CODE> to capture part of screen to a <EM>file</EM> in PICT format.
<LI>Type <CODE>Command-Shift-Control-4</CODE> to capture part of screen to the <EM>Clipboard</EM> in PICT format.
<LI>Press <CODE>Caps-Lock</CODE>, then type <CODE>Command-Shift-4</CODE>, and then click a window, to capture the window into a <EM>file</EM> in PICT format.
<LI>Press <CODE>Caps-Lock</CODE>, then type <CODE>Command-Shift-Control-4</CODE>, and then click a window, to capture the window into the <EM>Clipboard</EM> in PICT format.
</OL>

<H4>Flash-It</H4>
If you do not have Mac OS 8, you can use 
Flash-It, which can be downloaded from many places, e.g.
<A HREF="http://www.shareware.com"><CODE>http://www.shareware.com</CODE></A>.
This Control Panel allows you to do much of the same as
in Mac OS 8. Configure it yourself from the Control Panel.

<H4>GraphicConverter</H4>
On Macintosh, an image in PICT format can be inserted directory into
Word. If you want to convert the image to another format, you can use
<A HREF="http://www.lemkesoft.de">GraphicConverter</A>, 
which reads and writes almost any known image format.


<H3><A NAME="X11_snapshot">X Windows System</A></H3>

On X Windows System, there are several ways to capture windows/screens.
But first a note on choice of window manager.

<H4><A NAME="mwm">Using Motif Window Manager</A></H4>
Since the X11 implementation of Lidskjalv is based on OSF/Motif, when
dumping either a Lidskjalv session or a MotifEnv session, you should
use the Motif Window Manager (<CODE>mwm</CODE>) for this. This 
window manager decorates the windows in the same style as the (Motif)
widgets inside the windows, and using the same window manager ensures
consistent look of the manuals/brochures.
Notice that <CODE>mwm</CODE> is not standard in all UNIX work stations
at DAIMI. It is, however, possible to activate it from the HP-PA 9000
machines, e.g. <CODE>ronchamp</CODE> and <CODE>belfort</CODE>.

<H4><A NAME="mwm_mac">Using <CODE>mwm</CODE> on Macintosh</A></H4>

The <CODE>MacX</CODE> server used on Macintosh has 4 different logical
screens: B/W Rootless, Color Rootless, B/W Rooted, Color Rooted.
The rootless screens appear on the standard Macintosh desktop, whereas
the rooted ones appear in separate windows. The 4 different screens are
selected by changing the digit after <CODE>:0.</CODE> in the 
<CODE>DISPLAY</CODE> environment variable to one of 1, 2, 3, 4. Try out
for yourself on your mac, which number corresponds to which screen - this
is configurable, and thus not standardized.
<P>
The <CODE>MacX</CODE> does <EM>not</EM> allow any other Window Manager to
"take over" the builtin one. Thus to use any other Window Manager, you
have to use the Color Rooted screen. So a typical session setup to
get a snapshot of a Lidskjalv window <CODE>foo</CODE> run from 
<CODE>ariel</CODE> might be:
<OL>
<LI>Open a window on <CODE>ariel</CODE>. Change the <CODE>DISPLAY</CODE>
variable to point to the Color Rooted screen.
<LI>Open a window on <CODE>ronchamp</CODE>. Change the <CODE>DISPLAY</CODE>
variable to point to the Color Rooted screen. Then do this:<BR>
&nbsp;&nbsp;<CODE>xsetroot -solid white</CODE><BR>
&nbsp;&nbsp;<CODE>mwm &amp;</CODE><BR>
This will give a white background on the entire Color Rooted screen window,
and start the Motif Window Manager.
<LI>Now in your <CODE>ariel</CODE> window, you can start <CODE>foo</CODE>,
and then use one of the <A HREF="#mac_snapshot">Macintosh Methods</A>
of capturing the screen.
</OL>


<H4><A NAME="x11_dump">Dumping windows/screen on X</A></H4>
<OL>
<LI>Use <CODE>xwd</CODE> to dump a particular window to a file in XWD format.
<LI>Use <CODE>xgrabsc</CODE> to dump an area of the screen to a file
in various file formats.
<LI>If you are running on a SUN workstation, you can use
<CODE>/usr/openwin/bin/snapshot</CODE>, which allows you to take snapshots
and save them in a variaty of file formats.
</OL>

<H3><A NAME="NT_snapshot">Windows NT</A></H3>
<OL>
<LI>If you want to take a snapshot of the entire screen, type
<CODE>Print_Screen</CODE>
<LI>If you want to take a snapshot of the active window, type
<CODE>Alt-Print_Screen</CODE>
</OL>

In both cases, the snapshot is saved on the Windows Clipboard, and may
be pasted into word, or into PaintBrush (in case you want to edit it).

<H3><A NAME="W95_snapshot">Windows 95</A></H3>
Same as Windows NT, except that the graphical editor to edit bitmaps with
is called Paint.

<HR>
<P>
<TABLE border=0 width="100%">
<TR>
<TD width="40%" align="left">
<ADDRESS>Work procedures for MIADOC manuals</ADDRESS>
</TD>
<TD width="20%" align="center"><FONT SIZE="-1">&#169; <A HREF="http://www.mjolner.com">Mj&oslash;lner Informatics</A></FONT></TD>
<TD width="40%" align="right"><SCRIPT TYPE="text/javascript" LANGUAGE=JavaScript SRC="../javascript/lastmod.js"></SCRIPT></TD>
</TABLE>

</BODY>
</HTML>
