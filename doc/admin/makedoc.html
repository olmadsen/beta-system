<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd"
>
<HTML>
<HEAD>
<META http-equiv="Content-Type" CONTENT="text/html; CHARSET=ISO-8859-1">
<TITLE>Makedoc</TITLE>
<LINK REV="made" HREF="mailto:pa@mjolner.com">
<LINK REL="stylesheet" HREF="../style/miadoc.css" TYPE="text/css">
<SCRIPT TYPE="text/javascript" LANGUAGE="JavaScript1.2" SRC="../javascript/sidebar.js">
</SCRIPT></HEAD>

<BODY style="margin-left:25px">
<LAYER id="SideBar" onMouseover="pull()" onMouseout="draw()" style="position:absolute;left:-95px;width:80px;layer-background-color:#669999;padding:5px;line-height:25px; ">
<SCRIPT TYPE="text/javascript" LANGUAGE="JavaScript1.2">
if (document.all){
  document.write('\<DIV id="SideBar2" onMouseover="pull()" onMouseout="draw()" STYLE="position:absolute;left:-80px;top:15px;width:100px;background-color:#669999;padding:5px;line-height:25px;" TITLE="Navigation Bar: Slides out when cursor is moved out"\>');
}

document.write('\<A onClick="out();" TITLE="Synopsis" CLASS="SideBar" HREF="#synopsis"\>Synopsis\</A\>\<BR\>');
document.write('\<A onClick="out();" TITLE="Short Description" CLASS="SideBar" HREF="#description"\>Description\</A\>\<BR\>');
document.write('\<A onClick="out();" TITLE="Interface Descriptions" CLASS="SideBar" HREF="#interface"\>Interfaces\</A\>\<BR\>');
document.write('\<A onClick="out();" TITLE="Inclusion of BETA Files" CLASS="SideBar" HREF="#beta"\>BETA\</A\>\<BR\>');
document.write('\<A onClick="out();" TITLE="Figures" CLASS="SideBar" HREF="#figures"\>Figures\</A\>\<BR\>');
document.write('\<A onClick="out();" TITLE="Including GIF and PNG files" CLASS="SideBar" HREF="#gif"\>GIF and PNG\</A\>\<BR\>');
document.write('\<A onClick="out();" TITLE="Specifying Index Anchors" CLASS="SideBar" HREF="#index"\>Indexing\</A\>\<BR\>');
document.write('\<A onClick="out();" TITLE="Footnotes" CLASS="SideBar" HREF="#footnotes"\>Footnotes\</A\>\<BR\>');
document.write('\<A onClick="out();" TITLE="Warnings and Notifications" CLASS="SideBar" HREF="#warnnote"\>Warnings\</A\>\<BR\>');
document.write('\<A onClick="out();" TITLE="Format of the Book File" CLASS="SideBar" HREF="#bookfile"\>Book File\</A\>\<BR\>');
document.write('\<A onClick="out();" TITLE="PDF Generation" CLASS="SideBar" HREF="#pdf"\>PDF\</A\>\<BR\>');
document.write('\<A onClick="out();" TITLE="Files" CLASS="SideBar" HREF="#files"\>Files\</A\>\<BR\>');
document.write('\<A onClick="out();" TITLE="Directories" CLASS="SideBar" HREF="#directories"\>Directories\</A\>\<BR\>');

document.write('\<A onClick="out();" HREF="../index.html" CLASS="SideBar" TITLE="Manuals Main Entry"\>Manuals\</A\>\<BR\>');

if (document.all)
  document.write('\</DIV\>');
else
  document.write('\&nbsp;');
SetupSideBar();
</SCRIPT>
</LAYER>

<H1>Makedoc</H1>

Utility to generate HTML and PDF files for Mjølner System manuals.
<A NAME="synopsis"><H2>1. SYNOPSIS</H2></A>
<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

<PRE class=BETA>
makedoc [-f] [-p] [-h] [-s] [-i] [-e] [-v] [-d] <EM>manual</EM>.book | <EM>file</EM>.html
  -f   use full urls in HREFs (http://www.mjolner.com/...)
  -p   do not generate PDF
  -h   print this summary
  -s   split interface files at special comments
  -i   ignore errors (don't stop after errors)
  -e   treat warnings as errors (i.e. stop after warning)
  -v   verbose output
  -d   debug makedoc script
</PRE>

<A NAME="description"><H2>2. DESCRIPTION</H2></A>
<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

The following command 

<PRE class=BETA>
makedoc <EM>options</EM> <EM>manual</EM>.book
</PRE>
will create html and PDF documentation corresponding to the
list of source files listed in <EM>manual</EM>.book.
<P>
<IMG SRC="../images/handright.gif" ALT="Notice!" width=24 height=13 align=left>
<B>Notice</B>: You must execute <CODE>makedoc</CODE> from the 
directory the BOOK file is placed in!
<BR clear=all>

<P>
See <A HREF="#bookfile">THE BOOK FILE</A> for a description of the book
file, and <A HREF="#files">FILES</A> for a survey of files generated.
<P>
For each HTML file in the <CODE>src</CODE> subdirectory listed in the 
<CODE><EM>manual</EM>.book</CODE>, a corresponding HTML file is
generated in the current directory. The source files are searched for
<OL>
<LI>HTML headings (<CODE>H1</CODE>-<CODE>H6</CODE>), which will be
automatically numbered and then extracted to a TABLE OF
CONTENTS in the generated <CODE>index.html</CODE> file
<LI><CODE>INX</CODE> tags, which marks words or sentences for the
ALPHABETIC INDEX in the genrated <CODE>inx.html</CODE> file.
<LI><CODE>BETA</CODE> tags, which marks BETA source code to be
formatted and possibly be included in the LIST OF PROGRAMS in the
generated <CODE>programs.html</CODE> file, if marked
with the <CODE>LOP</CODE> property.
<LI><CODE>FIG</CODE> tags, which marks words or sentences to be listed
in the LIST OF FIGURES in the generated <CODE>figures.html</CODE> file.
<LI><CODE>GIF</CODE> tags, which indicates GIF image files to be
included. The width and height of the GIF files are found
automatically by <CODE>makedoc</CODE>.
<LI><CODE>PNG</CODE> tags, which indicates PNG image files to be
included. The width and height of the PNG files are found
automatically by <CODE>makedoc</CODE>.
<LI><CODE>FOOTNOTE</CODE> tags, which indicates small notes to be
postponed to the bottom of the page. These are sequentially numbered.
<LI><CODE>WARNING</CODE> and <CODE>NOTICE</CODE>tags, which format the
text in between the tags and adds appropriate icons.
</OL>

The generated files are placed in the current directory and the
<CODE>interfaces</CODE> subdirectory. The generated files will have
navigation code attached, that will allow user to easily navigate the
resulting manuals. The writer of the manuals does not have to maintain
the navigation links, as these are derived by <CODE>makedoc</CODE>
from the sequence of files in the book file, and from the order of
HTML headings in the source files.

<PRE class=BETA>
makedoc <EM>options</EM> src/foo.html
</PRE>

will produce a preview of <CODE>src/foo.html</CODE> with
special tags processed etc.<BR>
The output will be printed to standard output - no files are written.

<A NAME="interface"><H2>3. INTERFACE DESCRIPTION</H2></A>
<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

Files to be included in the interface descriptions are listed with the
<CODE>int:</CODE> prefix in the book file. 
<P>
Example:

<PRE class=beta>
int:$BETALIB/basiclib/betaenv.bet
</PRE>


The files listed are
preprocesed with SLOTs being replaced by <CODE>...</CODE> etc. to
make them "abstract". Pattern names are boldfaced and are extracted to
the ALPHABETIC INDEX.
<P>
The generated files are placed in an <CODE>interfaces</CODE>
subdirectory of the current directory.
<P>
The HTML generator uses comments in the interface files to determine
what words to generate index entries for.
By default (i.e. with no comments), all declarations on the two
outermost block levels in the BETA code is indexed. This may be changed
by the following idx-comments:
<UL>
<LI><CODE>(* idx: x *)</CODE> changes index level to x
<LI><CODE>(* idx- *)</CODE> changes index level to one less than current
<LI><CODE>(* idx+ *)</CODE> changes index level to one more than current
</UL>

After generation, it may show, that some idx comments have to be changed
in order to produce a reasonable index. In HTML
the indexed word are shown in <STRONG>bold</STRONG> - this makes it
easy to check the generated interface descriptions manually.

<A NAME="intsplit"><H3>3.1 SPLITTING OF INTERFACE FILES</H3></A>
<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

If <CODE>makedoc</CODE> is invoked with the <CODE>-s</CODE> option,
beta files that are specified to be part of the interface descriptions
will be searched for comments like

<PRE class=beta>
(***********)
(* Foo Bar *)
(***********)
</PRE>

If such a comment is found, a new subsection of the interface
description is generated (with a separate heading).
There must be at least 1 star before and after the text on the middle
line, and at least 3 starts on the other two lines.

<A NAME="beta"><H2>4. INCLUSION OF BETA FILES</H2></A>
<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

Formatted BETA source code can be included in the output in one
of two ways.

<A NAME="betasrc"><H3>4.1. INCLUSION FROM EXTERNAL FILES</H3></A>
<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

<PRE class=BETA>
&lt;BETA SRC="foo.bet"&gt;&lt;/BETA&gt;
</PRE>

<IMG SRC="../images/handright.gif" ALT="Notice!" width=24 height=13 align=left>
<B>Notice</B>: The closing <CODE>&lt;/BETA&gt;</CODE>
tag is <EM>optional</EM>when the <CODE>SRC</CODE> attribute is specified..<BR clear=all>
<P>
You may use environment variables in the path for the SRC file, e.g.

<PRE class=BETA>
&lt;BETA SRC="$BETALIB/foobar/foo.bet"&gt;&lt;/BETA&gt;
</PRE>

The meaning of the above example is that the <CODE>BETALIB</CODE>
environment variable is expanded to obtain the path of the
file.

<A NAME="betain"><H3>4.2. IN-LINE BETA CODE</H3></A>
<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

You can include formatted BETA code using the <CODE>BETA</CODE>
tag without a <CODE>SRC</CODE> property:

<PRE class=BETA>
&lt;BETA&gt;
ORIGIN '~beta/basiclib/betaenv';
--PROGRAM: descriptor--
(# 
do 'Hello World' -&gt; putline;
#)
&lt;/BETA&gt;
</PRE>

<IMG SRC="../images/handright.gif" ALT="Notice!" width=24 height=13 align=left>
<B>Notice</B>: The code between the tags should be plain
BETA with no quoting of HTML and with no HTML tags embedded.
If you need to use HTML in the BETA cose, e.g. for emphasis, you must
use
<PRE class=beta>
&lt;PRE CLASS=BETA&gt;...&lt;/PRE&gt;
</PRE>
and make sure to quote &lt;, &gt;, and &amp; inside the PRE.
<BR clear=all>

<H3><A NAME="betacap">4.3. SPECIFYING PROGRAM CAPTION</A></H3>
<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

By using the <CODE>CAP</CODE> attribute, a caption can be
specified, as in

<PRE class=BETA>
&lt;BETA CAP="Foo program"&gt;...&lt;/BETA&gt;
</PRE>


<H3><A NAME="betalist">4.4. ENTRIES FOR LIST OF PROGRAMS</A></H3>
<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

If the <CODE>LIST</CODE> attribute is given to the
<CODE>&lt;BETA&gt;</CODE>
start tag, the program will be included in the generated
LIST OF PROGRAMS. The value of the attribute will be used as title in
the list of programs:

<PRE class=BETA>
&lt;BETA LIST="Foo program" SRC="$BETALIB/foobar/foo.bet"&gt;&lt;/BETA&gt;
</PRE>

If the <CODE>CAP</CODE> attribute is specified, the <CODE>LIST</CODE>
attribute need not specify a caption - in this case the
<CODE>CAP</CODE> value is used for the <CODE>LIST</CODE> attribute
too:

<PRE class=BETA>
&lt;BETA CAP="Foo program" LIST SRC="$BETALIB/foobar/foo.bet"&gt;&lt;/BETA&gt;
</PRE>

<P>
<IMG SRC="../images/handright.gif" ALT="Notice!" width=24 height=13 align=left>
<B>Notice</B>: The LIST OF PROGRAMS file is only generated if the book
file contains <CODE>list: programs</CODE>.<BR clear=all>

<H3><A NAME="betaid">4.5. SPECIFYING IDENTIFIERS FOR PROGRAM RERERENCES</A></H3>
<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

If you specify the <CODE>ID</CODE> attribute to the <CODE>BETA</CODE>
tag, as in

<PRE class=BETA>
&lt;BETA CAP="Foo bar" ID=foobar &gt;&lt;/BETA&gt;
</PRE>

the definition site will be marked with the HTML anchor
<CODE>BETA_foobar</CODE>, which you can then refer from an HTML HREF.


<A NAME="figures"><H2>5. FIGURES</H2></A>
<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

Words or sentences marked up with 

<PRE class=BETA>
&lt;FIG&gt;...&lt;/FIG&gt;
</PRE>

will be included in the generated LIST OF FIGURES with a link to the
definition site. 

<H3><A NAME="figcap">5.1. SPECIFYING FIGURE CAPTION</A></H3>
<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->


The definition site of the <CODE>FIG</CODE> tag will be decorated
caption, which by default is <EM><B>Figure N</B></EM>.
By using the <CODE>CAP</CODE> attribute, a specific caption can be
specified, as in

<PRE class=BETA>
&lt;FIG CAP="My figure"&gt;...&lt;/FIG&gt;
</PRE>


<H3><A NAME="figlist">5.2. ENTRIES FOR LIST OF FIGURES</A></H3>
<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

If the <CODE>LIST</CODE> attribute is given to the
<CODE>&lt;FIG&gt;</CODE>
start tag, the figure will be included in the generated
LIST OF FIGURES. The value of the attribute will be used as title in
the list of figures:

<PRE class=BETA>
&lt;FIG LIST="Foo bar"&gt;&lt;/FIG&gt;
</PRE>

If the <CODE>CAP</CODE> attribute is specified, the <CODE>LIST</CODE>
attribute need not specify a caption - in this case the
<CODE>CAP</CODE> value is used for the <CODE>LIST</CODE> attribute
too:

<PRE class=BETA>
&lt;FIG CAP="Foo bar" LIST&gt;&lt;/FIG&gt;
</PRE>

<P>
<IMG SRC="../images/handright.gif" ALT="Notice!" width=24 height=13 align=left>
<B>Notice</B>: The LIST OF FIGURES file is only generated if the book
file contains <CODE>list: figures</CODE>.<BR clear=all>

<H3><A NAME="figid">5.3. SPECIFYING IDENTIFIERS FOR FIGURE RERERENCES</A></H3>
<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

If you specify the <CODE>ID</CODE> attribute to the <CODE>FIG</CODE>
tag, as in

<PRE class=BETA>
&lt;FIG CAP="Foo bar" ID=foobar &gt;&lt;/FIG&gt;
</PRE>

the definition site will be marked with the HTML anchor
<CODE>FIG_foobar</CODE>, which you can then refer from an HTML HREF.


<A NAME="inx"><A NAME="index"><H2>6. INDEX ANCHORS</H2></A></A>
<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

Words or sentences marked up with 

<PRE class=BETA>
&lt;INX&gt;...&lt;/INX&gt;
</PRE>

will be included in the generated alphabetic index with a link to the
definition site.

<H3><A NAME="inxhidden">6.1. HIDDEN INDEX ENTRIES</A></H3>
<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

If you specify the <CODE>HIDDEN</CODE> attribute to the
<CODE>INX</CODE> tag, as in

<PRE class=BETA>
&lt;INX HIDDEN&gt;foo&lt;/INX&gt;
</PRE>

then the definition site will be anchored, and referred from the 
index (<CODE>foo</CODE>), but, no visual appearance of the definition
site will be generated. This can be used to, e.g. add a second
index entry for a word/sentence, which will be added to another part
of the index.

<A NAME="gif"><H2>7. GIF and PNG FILES</H2></A>
<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

Two special tags can be used for inclusion of GIF and PNG files:

<PRE class=BETA>
&lt;GIF SRC="..." ALT="..."&gt;
</PRE>

and 

<PRE class=BETA>
&lt;PNG SRC="..." ALT="..."&gt;
</PRE>

This is transformed to an HTML <CODE>IMG</CODE> tag, but
<CODE>makedoc</CODE> does a few extra things:
<OL>
<LI>It checks that the image file is really there
<LI>The SRC may be specified using environment variables, e.g. 
<CODE>SRC="$BETALIB/bitmap/...."</CODE>
<LI>If the image file is not a local file (i.e. is outside the
<CODE>doc</CODE> hierarchy), it is copied to the local directory
<LI><CODE>makedoc</CODE> reads the width and height from the image 
file and automatically adds
<CODE>WIDTH</CODE> and <CODE>HEIGHT</CODE> attributes to the generated
<CODE>IMG</CODE> tag. If any of <CODE>WIDTH</CODE> or
<CODE>HEIGHT</CODE> are set in the <CODE>GIF</CODE> or <CODE>PNG</CODE> tag, these are
used instead.
<LI>If not already present, <CODE>makedoc</CODE> generates a
<CODE>TITLE</CODE> attribute based on the <CODE>ALT</CODE> attribute
(if present). 
<LI><CODE>makedoc</CODE> appends file information to the
<CODE>ALT</CODE> and <CODE>TITLE</CODE> attibutes
</OL>
<P>
<IMG SRC="../images/handright.gif" ALT="Notice!" width=24 height=13 align=left>
<B>Notice</B>: The <CODE>GIF</CODE> and <CODE>PNG</CODE> tags do not have an end-tag.
<BR clear=all>

<A NAME="footnotes"><H2>8. FOOTNOTES</H2></A>
<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

A <INX>footnote</INX> may be generated by using the
<CODE>FOOTNOTE</CODE> tag:

<PRE class=BETA>
&lt;FOOTNOTE&gt;...&lt;/FOOTNOTE&gt;
</PRE>

This will insert a small marker with a link at the definition site,
and place the foot note at the bottom of the current page.
The footnotes are sequentially numbered.


<A NAME="warnnote"><H2>9. WARNINGS AND NOTIFICATIONS</H2></A>
<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

Using the <CODE>WARNING</CODE> and <CODE>NOTICE</CODE> tags, you
can make <CODE>makedoc</CODE> insert graphics and formatting of
some text, you want to emphasize as either a warning or a
notification. You can use the <CODE>LARGE</CODE> attribute,
if you want to emphasize further. The supported uses are:

<PRE class=beta>
&lt;WARNING&gt;A small warning&lt;/WARNING&gt;
</PRE>

yields

<P>
<IMG SRC="../images/warning.gif" ALT="Warning!" ALIGN=LEFT WIDTH=16 HEIGHT=16>
<B>Warning</B>: A small warning
<BR CLEAR=LEFT>

<PRE class=beta>
&lt;WARNING LARGE&gt;A large warning&lt;/WARNING&gt;
</PRE>

yields

<P>
<IMG SRC="../images/warning.gif" ALT="Warning!" ALIGN=LEFT WIDTH=32 HEIGHT=32>
<FONT size="+1"><B>Warning</B>: A large warning</FONT>
<BR CLEAR=LEFT>

<PRE class=beta>
&lt;NOTICE&gt;A small notification&lt;/NOTICE&gt;
</PRE>

yields

<P>
<IMG SRC="../images/handright.gif" ALT="Notice!" ALIGN=LEFT WIDTH=24 HEIGHT=13>
<B>Notice</B>: A small notification
<BR CLEAR=LEFT>


<PRE class=beta>
&lt;NOTICE LARGE&gt;A large notification&lt;/NOTICE&gt;
</PRE>

yields

<P>
<IMG SRC="../images/handright.gif" ALT="Notice!" ALIGN=LEFT WIDTH=32 HEIGHT=17>
<FONT size="+1"><B>Notice</B>: A large notification</FONT>
<BR CLEAR=LEFT>

<A NAME="bookfile"><H2>10. THE BOOK FILE</H2></A>
<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

The so-called BOOK FILE is a textual file used by <CODE>makedoc</CODE>
to define the order in which files are to be treated for inclusion in
the resulting manuals.
<P>
The file may contain
<OL>
<LI>Variable definitions
<LI>List of HTML source files that consitute the manual body
<LI>List of BETA files to be included in interface descriptions
<LI>Blank lines and lines commented out using <CODE>#</CODE> are ignored
</OL>

one item per line.

<A NAME="variables"><H3>10.1. Variable definitions</H3></A>
A number of variables can be defined in the book file, using the
syntax

<PRE class=beta>
<EM>variable_name</EM>:<EM>value</EM>
</PRE>

The variables supported are:

<BLOCKQUOTE>
<DL>
<DT><B>title</B>
<DD>The title of the document. Used on generated front page
<DT><B>mia</B>
<DD>The MIADOC number for the manual. See <A
HREF="document-list.html">doc/admin/document-list.html</A>.
<DT><B>pdf</B>
<DD>The file name to use for the generated PDF file.
If not specified, it will get the name of the book file, but with
<CODE>.pdf</CODE> extension instead of <CODE>.book</CODE>.
<DT><B>toc</B>
<DD>The file name to use for the generated table-of-contents and frontpage file.
Default <CODE>index.html</CODE>.
<DT><B>toc</B>
<DD>The file name to use for the generated alphabetic-index file.
Default <CODE>inx.html</CODE>.
<DT><B>list</B>
<DD>What lists to generate. May hold the values <CODE>programs</CODE>
(for list of programs) and <CODE>figures</CODE> (for list of figures).
<DT><B>src</B>
<DD>Directory where to find source HTML files. May change during the 
sequence of a book file. Default is <CODE>"src/"</CODE>
<DT><B>dst</B>
<DD>Directory where to place generated HTML files. May change during the 
sequence of a book file. Default is <CODE>""</CODE>, i.e. the current
directory. 
<DT><B>intsrc</B>
<DD>Directory where to find source BETA files for interface
dscriptions. May change during the 
sequence of a book file. Default is undefined, i.e. the path from 
the <CODE>int:</CODE> specification is used.
<DT><B>intdst</B>
<DD>Directory where to place generated interface files files. 
May change during the 
sequence of a book file. Default is <CODE>interfaces</CODE>.
If there are more than one level of directories, e.g. 
<CODE>interfaces/lib1</CODE>, a separate "chapter" is created in the 
table of content, with the directory name used as chapter title - in
the example it would become "Lib1 Interface".
<BR>
<IMG SRC="../images/handright.gif" ALT="Notice!" width=24 height=13 align=left>
<B>Notice</B>: Currently only <EM>subdirectories</EM> of the current
directory can be used, e.g. <B>not</B> <STRIKE><CODE>../foo/bar</CODE></STRIKE>
<BR clear=all>
<DT><B>date</B>
<DD>Release date to use on generated front page
<DT><B>copyright</B>
<DD>Year span for which to claim the copyright on generated front page
<DT><B>options</B>
<DD>Default command line options. If specified here,
<CODE>makedoc</CODE> behaves as if these options were specified on the
command line.
</DL>
</BLOCKQUOTE>



<A NAME="htmlsrc"><H3>10.2. HTML source files</H3></A>

These are simply the name of the file in the <CODE>src</CODE>
subdirectory (without the <CODE>src/</CODE> prefix).
<P>
Example:
<PRE class=beta>
betaenv.html
</PRE>

If the sources are a non-standard place (or distributed into several
directories), you may specify the place to find the files
using the <CODE>src</CODE> variable:

<PRE class=beta>
src: ../some_where_else/src
foo.html # found in ../some_where_else/src
src: ../some_other_place/src
bar.html # found in ../some_other_place/src
</PRE>

By default the generated files are placed in the directory,
<CODE>makedoc</CODE> is invoked from. You can change this by
using the <CODE>dst</CODE> variable:

<PRE class=beta>
dst: ../I_want_it_here
src: ../some_where_else/src
foo.html # found in ../some_where_else/src
         # Generated: ../I_want_it_here/foo.html
src: ../some_other_place/src
bar.html # found in ../some_other_place/src
         # Generated: ../I_want_it_here/bar.html
</PRE>


<A NAME="interface"><H3>10.3. BETA files to be included in interface descriptions</H3></A>

These lines each consist of the prefix <CODE>int:</CODE> 
followed by the  path of the BETA file to use.
The path may contain environment varibles, notably BETALIB, 
which are expanded by <CODE>makedoc</CODE>.
<P>
Example:
<PRE class=beta>
int:$BETALIB/basiclib/betaenv.bet
</PRE>
The result of this will be that <CODE>betaenv.bet</CODE>
is processed and placed as <CODE>betaenv.html</CODE>
in the <CODE>interfaces</CODE> subdirectory, and the identifiers
(pattern names) from betaenv.bet are included in the ALPHABETIC INDEX.


<A NAME="examplebook"><H3>10.4. Example book file</H3></A>
<P>
Example book file:
<P>
<H4 class=betacaption>sysutils.book</H4>
<PRE class=beta>
# Variables
pdf:       sysutils.pdf
title:     System Utilities - Reference Manual
mia:       MIA 94-28
date:      October 2000
copyright: 1994-2000
list:      programs figures

# HTML sources
# src: src/  - Default src directory "src/" need not be specified.
# dst:       - Default dst directory "" need not be specified
# Notice that index.html and inx.html (alphabetic index) is not
# mentioned.
intro.html
binarystream.html
cstring.html
endian.html
envstring.html
errorscr.html
heapinfo.html
objint.html
pathhandler.html
repetition.html
scanobj.html
time.html

# Interface files
int: $BETALIB/sysutils/binarystream.bet
int: $BETALIB/sysutils/cstring.bet
int: $BETALIB/sysutils/endian.bet
int: $BETALIB/sysutils/envstring.bet
int: $BETALIB/sysutils/errorscreen.bet
int: $BETALIB/sysutils/heapinfo.bet
int: $BETALIB/sysutils/objinterface.bet
int: $BETALIB/sysutils/pathhandler.bet
int: $BETALIB/sysutils/RepetitionObject.bet
int: $BETALIB/sysutils/scanobjects.bet
int: $BETALIB/sysutils/time.bet
int: $BETALIB/sysutils/timeHistory.bet
</PRE>

<A NAME="pdf"><H2>11. PDF GENERATION</H2></A>
<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

<CODE>makedoc</CODE> will attempt to generate a PDF file from the
HTML files, after these have been generated.<P>
The file will be named as specified by the <CODE>pdf</CODE> variable
in the book file.
<P>
In order to do the generation of PDF it uses a third-party GPL program
called <CODE>htmldoc</CODE>.
This program must be executable via your <CODE>path</CODE>.
If you do not have it, you should download <CODE>htmldoc 1.8.8</CODE>
or later from

<BLOCKQUOTE>
<A HREF="ftp://ftp.easysw.com/pub/htmldoc">ftp://ftp.easysw.com/pub/htmldoc</A>
</BLOCKQUOTE>

and install it on your machine.
<P>
On DAIMI and Mjølner Sparc solaris machines, you can use 

<BLOCKQUOTE>
<CODE>/users/beta/GNU/bin/sun4s/htmldoc</CODE>
</BLOCKQUOTE>

<IMG SRC="../images/handright.gif" ALT="Notice!" width=24 height=13 align=left>
<B>Notice</B>: During PDF generation, the content of the HTML files
is temporarily modified. Hence you should not view the HTML files in a
browser during PDF generation.
<BR clear=all>
<IMG SRC="../images/handright.gif" ALT="Notice!" width=24 height=13 align=left>
<B>Notice</B>: In most cases, the PDF generation takes substantionally
longer than the generation of the HTML files. If you are not
generating a final production version of the manual, you can use the 
<CODE>-p</CODE> option to skip PDF generation, and thus speed up
<CODE>makedoc</CODE> significantly.
<BR clear=all>


<A NAME="files"><H2>12. FILES</H2></A>
<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

By issuing

<PRE class=BETA>
makedoc <EM>manual</EM>.book
</PRE>

the following files will be generated:

<BLOCKQUOTE>
<DL>
<DT><CODE>index.html</CODE>
<DD>Frontpage for the manual including table of contents
<DT><CODE>inx.html</CODE>
<DD>File with alphabetic index
<DT><CODE>figures.html</CODE>
<DD>File with list of figures. Only generated if bookfile contains
<CODE>list: figures</CODE>. See <A HREF="#figures">FIGURES</A>.
<DT><CODE>programs.html</CODE>
<DD>File with list of programs. Only generated if bookfile contains
<CODE>list: programs</CODE>. 
See <A HREF="#beta">INCLUSION OF BETA PROGRAMS</A>.
<DT><CODE><EM>manual</EM>.pdf</CODE>
<DD>PDF file for easy print of <EM>manual</EM>.
<DT><CODE>*.html</CODE>
<DD>For each HTML file in the <CODE>src</CODE> subdirectory
a corresponding HTML file will be generated in the current directory
with the preprosessing described in 
<A HREF="description">DESCRIPTION</A> performed.<BR>
Furthermore an HTML file will be generated in the
<CODE>interfaces</CODE> directory for each BETA file specified as
described in <A HREF="interface">INTERFACE DESCRIPTIONS</A>.
</DL>
</BLOCKQUOTE>

<A NAME="directories"><H2>13. DIRECTORIES</H2></A>
<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

<BLOCKQUOTE>
<DL>
<DT><CODE>src</CODE>
<DD>Default directory containing files with HTML markup for the body of the
manual. HTML does not include navigation etc., since this is
generated. 
<P>
<IMG SRC="../images/handright.gif" ALT="Notice!" width=24 height=13 align=left>
<B>Notice</B>: Relative  <CODE>HREF</CODE>s from files in the 
<CODE>src</CODE> directory should be specified as if the files were
placed in the destination directory (default current directory).
<BR clear=all>
<P>
<IMG SRC="../images/handright.gif" ALT="Notice!" width=24 height=13 align=left>
<B>Notice</B>: The <CODE>src</CODE> directory should not contain
any files which are to be distributed with the BETA system, since
the export tools will ignore the <CODE>src</CODE> directory.
<BR clear=all>

<DT><CODE>interfaces</CODE>
<DD>Directory in which HTML files for the BETA files specified to be
in the interface descriptions are generated.
</DL>
</BLOCKQUOTE>


<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
<HR>
<P>
<TABLE border=0 width="100%">
<TR>
<TD width="40%" align="left">
<ADDRESS>Makedoc</ADDRESS>
</TD>
<TD width="20%" align="center"><FONT SIZE="-1">&#169; 2000 <A HREF="http://www.mjolner.com">Mj&oslash;lner Informatics</A></FONT></TD>
<TD width="40%" align="right"><SCRIPT TYPE="text/javascript" LANGUAGE=JavaScript SRC="../javascript/lastmod.js"></SCRIPT></TD>
</TABLE>

</BODY>
</HTML>