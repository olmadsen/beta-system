ORIGIN '~beta/basiclib/betaenv';
INCLUDE '~beta/persistentstore/persistentstore';
INCLUDE 'TextHashTable';

--PROGRAM:descriptor--
(# PS: @persistentstore;
   H: ^TextHashTable;
do (* Create the persistent store *)
   PS.init;
   'myStore' -> PS.create; 

   (* Create a table of objects. *)
   &TextHashTable[] -> H[]; 
   H.init;
   'first' -> H.insert;
   'second' -> H.insert;
   'third' -> H.insert;

   (* Make the table a persistent root. *)
   (H[],'TextTable') -> PS.put;

   (* Checkpoint and close the store. *)
   PS.close
#)
