<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd"
>
<HTML>
<HEAD>
<META http-equiv="Content-Type" CONTENT="text/html; CHARSET=ISO-8859-1">
<TITLE> 10.2 Storing Characters in a Repetition</TITLE>
<LINK REL=stylesheet HREF=../style/miadoc.css TYPE=text/css>

</HEAD>
<BODY>


<A NAME=HEADING22></A>


<P><A HREF=tutorial-23.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=tutorial-21.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=tutorial-20.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF=../index.html><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF=index.html#_toc><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>
<P> 10 Files</P>


<A NAME=HEADING22-0></A>
<H2> 10.2 Storing Characters in a Repetition</H2>
<P> The following example program illustrates how to count each occurrence of characters in the input file. The count for each character is stored in a repetition:</P>
<PRE CLASS=beta>
occurrences: [256]@Char;
</PRE>
<P> using the assignment:</P>

<PRE CLASS=beta>
occurrences[Ch]+1-&gt;occurrences[Ch];
</PRE>
<P> and the occurrences are printed using a for and an if statement:</P>
<PRE CLASS=beta>
   (for i:256 repeat
        (if occurrences[i]&gt;0 then (* only print if &gt; 0 *)
            i-&gt;put; (* notice how a char can be printed *)
            ': '-&gt;puttext; 
            occurrences[i]-&gt;putint;
            newline;
        if);
   for);
</PRE>
<P> The complete program is as follows:</P>
<A NAME=HEADING22-10></A>
<H4 CLASS=betacaption><A NAME="fig:Program 10.3: CountChar2.bet"> Program 10.3: CountChar2.bet</A></H4>
<PRE CLASS=beta>
ORIGIN '~beta/basiclib/file'
---- program: descriptor ----

(# (* ------------------------------------------------
    *   count.bet: Simple file handling program
    *              -Counting occurrences of characters-
    * ------------------------------------------------*)
   
   inFile: @file;
   Ch: @char;
   nc: @integer;
   occurrences: [256]@Char;
do
   (if  NoofArguments = 2 then 
   2->Arguments->inFile.name ;
   inFile.openRead;  (* OPENING *)
   Loop: 
     (if inFile.eos//false then
         inFile.Get->Ch; 
         nc+1->nc;
         occurrences[Ch]+1->occurrences[Ch];
         restart Loop
     if);
   NewLine;
   (for i: 256 repeat
        (if occurrences[i]//0 then else (* only print if > 0 *)
            i->put; (* notice how a char can be printed *)
            ': '->puttext; 
            occurrences[i]->putint;
            newline;
        if);
   for);
   'Total '->puttext;
   nc->putint; 
   ' characters in file'->putline;
       inFile.close;
    else 
       'Missing Argument'->putline;
   if)
#)

</PRE>
<P> And below we show the application of CountChar2 to the CountChar2.bet program itself.</P>
<PRE CLASS=beta>
nil% CountChar2 CountChar2.bet

 : 241
#: 2
': 8
(: 8
): 8
*: 11
+: 2
-: 117
.: 7
/: 7
0: 2
1: 3
2: 3
4: 1
5: 2
6: 2
:: 9
;: 21
&gt;: 12
@: 4
A: 1
C: 6
E: 1
F: 6
G: 3
I: 3
L: 3
N: 4
O: 2
P: 1
R: 2
S: 1
T: 1
[: 5
]: 5
a: 20
b: 5
c: 34
d: 5
e: 55
f: 13
g: 6
h: 13
i: 41
l: 20
m: 5
n: 39
o: 26
p: 16
r: 34
s: 16
t: 31
u: 15
v: 1
w: 3
x: 2
y: 1
~: 1
Total 952 characters in file
nil% 
</PRE>











<HR>
<P>
<TABLE border=0 width="100%">
<TR>
<TD width="40%" align="left">
<ADDRESS>Libraries Tutorial</ADDRESS>
</TD>
<TD width="20%" align="center"><FONT SIZE="-1">&#169; <A HREF="http://www.mjolner.com">Mj&oslash;lner Informatics</A></FONT></TD>
<TD width="40%" align="right"><SCRIPT TYPE="text/javascript" LANGUAGE=JavaScript SRC="../javascript/lastmod.js"></SCRIPT></TD>
</TABLE>
<P>
<P><A HREF=tutorial-23.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=tutorial-21.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=tutorial-20.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF=../index.html><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF=index.html#_toc><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>


</BODY>
</HTML>
