<H2> 12.1 Advanced Formatted Input and Output<A NAME=MARKER-2-87></A></H2>
<P> The Mj&oslash;lner System also provides facilities for formatted input and output (similar to the scanf and printf functions in C). These facilities are implemented in the form of the getFormat and putFormat operations defined in the '~beta/basiclib/formatio' library.</P>

<P> Both getFormat and putFormat take a text string as argument. This text string must contain a format specification of the input to be read from (respectively output to) the stream. The format string may be any string, possibly with one or more embedded markers. The markers specify the variable parts of the expected input (respectively output), such as integer values. The markers are indicated in the string by a leading '%'. Following the '%' is the specification of the marker type.</P>
<P> In section 8 previously, the example program uses a complex Dump function to print out three numbers and some text. putFormat could have been used instead as illustrated in the following example.</P>
<A NAME=HEADING25-6></A>
<H4 CLASS=betacaption><A NAME="fig:Program 12.2: StaticAndDynamic2.bet"> Program 12.2: StaticAndDynamic2.bet</A></H4>
<PRE CLASS=beta>
ORIGIN '~beta/basiclib/formatio'
---- program: descriptor ----
(#
  (* Static and Dynamic references *)

   Point: (# X,Y: @integer;
          enter (X,Y)
          exit  (X,Y)
          #);

   refA : ^Point;
   P1,P2: @Point;

   Dump:
     (#
     do 'P1: %3d, P2: %d, refA: %d\n'-&gt; 
           putFormat(# do P1.X -&gt; d; P2.X -&gt; d; refA.x -&gt; d #)
     #);

do
   'Dynamic references' -&gt; putline;
   newline;

   &amp;Point[] -&gt; refA[];

   (1,1) -&gt; P1-&gt; P2 -&gt; refA;
   Dump;

   (2,2) -&gt; P2;
   (3,3) -&gt; refA;
   Dump;

   P1[] -&gt; refA[];  Dump;
   P2[] -&gt; refA[];  Dump;

   (1,1) -&gt; P1; (2,2) -&gt; P2; (3,3) -&gt; refA;
   Dump;

   (111,333) -&gt; &amp;Point -&gt; P1;
   Dump;
   Newline;
#)
</PRE>
<P> The output is exactly the same as in section 8:</P>
<PRE CLASS=beta>
nil% StaticAndDynamic2 
Dynamic references

P1:   1, P2: 1, refA: 1
P1:   1, P2: 2, refA: 3
P1:   1, P2: 2, refA: 1
P1:   1, P2: 2, refA: 2
P1:   1, P2: 3, refA: 3
P1: 111, P2: 3, refA: 3
</PRE>
<P> </P>












