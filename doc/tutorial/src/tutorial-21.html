<H2><INX>Command-line arguments</INX></H2>
<P> At present, our program only works with one file data1. It would be more useful if the name of the file could be specified by the user. A common way to allow this in UNIX is to pass the name of the files to be used as arguments on the command line used to invoke the program. For example, to count the characters in file data2, we would like to invoke count as follows:</P>
<BETA>
% CountChar data2
</BETA>
<P> The demo file programs that come with BETA all work this way. To do this, there are two useful functions in the standard environment which correspond to the UNIX C argc and argv variables. These are:</P>
<UL>
<LI> noOfArguments: which returns the number of arguments on the command line and
<LI> arguments: which given an integer parameter N returns the n'th argument on the command line. Remember that argument 1 is the name used for the program - CountChar1 in our example - and that the one we want will be argument 2.
</UL>
<P> Below, we show how count has been modified to use the command argument. To keep things simple, we do not check the number of arguments or provide for an error message. For examples of how to do this, see the demo programs.</P>
<A NAME=HEADING21-8></A>
<BETA SRC="$BETALIB/tutorial/CountChar1.bet" LIST="CountChar1.bet">

<P> And below we show the application of CountChar1 to the count program itself.</P>
<BETA>
nil% CountChar1 CountChar1.bet
Reading: CountChar1.bet
.......................................................................
681 characters in file
nil% 
</BETA>
<P> A nice thing about passing file names as command line arguments is
that the shell will expand the file name as expected. In particular,
the '~' and '*' characters are interpreted correctly in the example
below
<FOOTNOTE>For Unix shells only</FOOTNOTE>:
</P>
<BETA>
nil% count ~/Beta/dat*
Reading: ../Beta/data1
....
41 characters in file
</BETA>
<P> These also work:</P>
<UL>
<LI> count ~vaucher/Beta/data1
<LI> count ./data1
<LI> count ../Beta/file/../data1
</UL>
<P> Were we to set the filename directly, it would be OK to include '.' and '..' in the path name but '~' would not be handled properly.</P>













