<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd"
>
<HTML>
<HEAD>
<META http-equiv="Content-Type" CONTENT="text/html; CHARSET=ISO-8859-1">
<TITLE> 17.2 MotifEnv</TITLE>
<LINK REL=stylesheet HREF=../style/miadoc.css TYPE=text/css>

</HEAD>
<BODY>


<A NAME=HEADING36></A>


<P><A HREF=tutorial-37.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=tutorial-34.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=tutorial-34.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF=../index.html><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF=index.html#_toc><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>
<P> 17 Graphical User Interface</P>


<A NAME=HEADING36-0></A>
<H2> 17.2 MotifEnv<A NAME=MARKER-2-111></A></H2>
<P> In this subsection we will show how to use the Motif specific user interface library. Motif is a very large user interface toolkit, with user interface elements not easily abstracted into a general device independent framework, so the Mj&oslash;lner system includes a library for making Motif specific applications.</P>
<A NAME=HEADING36-2></A>
<H1> Xt Toolkits<A NAME=MARKER-2-112></A></H1>
<P> Xt is a C-library top of Xlib, the low-level interface used in programming X Window System applications. The purpose of Xt is to provide an object-oriented layer that supports user-interface abstractions (windows, scrollbars, commands buttons, menus) called widgets. A widget is a reusable, configurable piece of C-code that operates independently of the application except through prearranged interactions. </P>

<P> Xt contains the basic functionality to support widgets, i.e. an architectural model for widgets that allow them to be written and used in an object-oriented fashion. Xt also contains a small core set of widgets.</P>
<P> A widget set is a collection of widgets build on top of Xt that provide commonly used user-interface components tied together with a consistent appearance and user interface. Several different widget sets from various sources exist. The Athena widget set is one example. Others are Motif from Open Software Foundation (OSF) and OPEN WINDOWS from Sun and AT&amp;T.</P>

<P> The Motif widget set contains many user-interface components, including scroll bars, menus, buttons, dialogs, and a wide variety of composite widgets. Motif has conventions about the use of its widgets and gadgets, that lead to a consistent look among all applications using Motif. Along with each Motif license comes an OSF/Motif Style Guide with the documentation. This document contains recommendations for application design and layout.</P>
<P> The Mj&oslash;lner System comes with object-oriented interfaces to these libraries, XtEnv, AwEnv and MotifEnv.</P>
<A NAME=HEADING36-10></A>
<H1> Using the MotifEnv Fragment</H1>

<P> The motifenv file in '~beta/Xt/MotifEnv' simply defines the MotifEnv pattern for applications using the BETA interface to Motif. For each widget/gadget wanted in the application, the files in the directory '~beta/Xt/motif/', defining the BETA interface to it, must be explicitly included. </P>
<P> An application using motifenv thus typically has the following outline:</P>
<PRE CLASS=beta>
ORIGIN '~beta/Xt/MotifEnv';
INCLUDE '~beta/Xt/motif/rowcolumn'
        '~beta/Xt/motif/pushbutton'
-- PROGRAM: descriptor --
MotifEnv
  (# ...
  do ...
  #)
</PRE>
<P> In this case the program is using the rowcolumn and pushbutton widgets.</P>

<P> The following small program shows how to make the traditional &quot;Hello world&quot; program using a Motif Label widget:</P>

<A NAME=HEADING36-20></A>

<H4 CLASS=betacaption><A NAME="fig:Program 17.2: Hello.bet"> Program 17.2: Hello.bet</A></H4>

<IMG align=right SRC=hello-motif.gif>
<PRE CLASS=beta>
ORIGIN '~beta/Xt/motifenv'
INCLUDE '~beta/Xt/motif/label'
-- program: descriptor --
MotifEnv
  (# hello: @Label;
  do hello.init;
     'Hello world' -&gt; hello.labelString;   
  #)
</PRE>
<P> The border of the window, with grips for resizing the window, and the title bar with buttons, is added by the window manager, in this case mwm, the Motif Window Manager. The actual Label widget is the one showing the &quot;Hello world&quot; text.</P>

<P> The following example shows how to use the special purpose Motif Scal widget, useful for adding, e.g., a potentiometer-like control to a panel of controls.</P>
<A NAME=HEADING36-26></A>
<H4 CLASS=betacaption><A NAME="fig:Program 17.3: Scale.bet"> Program 17.3: Scale.bet</A></H4>
<IMG align=right SRC=scale-motif.gif>
<PRE CLASS=beta>
ORIGIN '~beta/Xt/motifenv':
INCLUDE '~beta/Xt/motif/scale'
-- program: descriptor --
MotifEnv
(# volume: @Scale
     (# init::
          (# 
          do 0 -&gt; minimum;
             100 -&gt; maximum;
             XmVERTICAL -&gt; orientation;
             'Volume' -&gt; titleString;
             true -&gt; showValue;
          #);
        valueChangedCallback::
          (# 
          do 'New volume: ' -&gt; screen.puttext;
             data.value -&gt; screen.putint;
             screen.newline;
          #);
     #);
do volume.init;
#)
</PRE>

<P> The valueChangedCallback is called after the scale has been changed. In this case the callback is extended and prints out the new value of the Scale (data.value).</P>

<P> More details and examples about the X11 libraries can be found in <A HREF="../bibliography/index.html#mia91-16">[MIA 91-16]</A>.</P>
<P> </P>











<HR>
<P>
<TABLE border=0 width="100%">
<TR>
<TD width="40%" align="left">
<ADDRESS>Libraries Tutorial</ADDRESS>
</TD>
<TD width="20%" align="center"><FONT SIZE="-1">&#169; <A HREF="http://www.mjolner.com">Mj&oslash;lner Informatics</A></FONT></TD>
<TD width="40%" align="right"><SCRIPT TYPE="text/javascript" LANGUAGE=JavaScript SRC="../javascript/lastmod.js"></SCRIPT></TD>
</TABLE>
<P>
<P><A HREF=tutorial-37.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=tutorial-34.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=tutorial-34.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF=../index.html><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF=index.html#_toc><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>


</BODY>
</HTML>
