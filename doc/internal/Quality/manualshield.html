<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>

<HEAD>
<TITLE>Manuel pakning af system ved hj&aelig;lp af InstallShield</TITLE>

</HEAD>

<BODY>
<H1>Manuel pakning af system ved hj&aelig;lp af InstallShield</H1>

<PRE>
5. Manuel pakning af system ved hj&aelig;lp af InstallShield
-----------------------------------------------------

Dette foreg&aring;r i to trin:

a. Generer pakkescripts p&aring; daimi:

	cd $BETALIB/export/dotar
	windows.dotar -pe

   Dette genererer en r&aelig;kke scripts i $BETALIB/export/tarfiles/nti.pe

b. Pakning p&aring; Tuborg vha disse pakke scripts.
   Den f&oslash;lgende forklaring stammer fra Lennert, som lavede f&oslash;rste pakning:

How to use the "InstallSHIELD SKD Edition" to create an installation
program for the Mjolner System on Windows NT/95.

5.1) Create the datafiles by running the icomp.exe program.
   For r3.1.pe we did this by running the scripts in 
   ~beta\export\scripts\r3.1.pe\nti.

5.2) Modify SETUP.RUL to check for the appropriate amount of disk space
     (check the SIZE_REQ_* defines).
  
   For r3.1.pe SETUP.RUL is located in:
   ~beta\export\tarfiles\r3.1.pe\nti\bor and 
   ~beta\export\tarfiles\r3.1.pe\nti\ms.

5.3) Find out how many disks you need for the distribution (remember to
   count the space needed for the installation program it self.), and split
   the datafiles (the *.z files)  accordingly.

   E.g.: To split system.z with the first split file having a size of
         700 KB and the rest a maximun of 1410 KB, you would enter the
         follow command:

         split system.z -F1410 -d1@700.

5.4) Make a "packaging list". A packaging list is a simple ASCII file 
   "SETUP.LST" that describes how the datafiles have been split.

   After you have created the SETUP.LST file you must compile it by entering
   the following command:
  
   packlist SETUP.LST

   This will generate a file called SETUP.PKG. You must then copy the 
   SETUP.PKG file to the first distribution disk.


   The packaging lists for r3.1.pe are located in:
   ~beta\export\tarfiles\r3.1.pe\nti\bor and 
   ~beta\export\tarfiles\r3.1.pe\nti\ms.

5.5) You must now make sure that the "file set" in SETUP.RUL is defined 
   properly.

   Look for "FileSetBeginDefine" in the SETUP.RUL file.
   The CompressGet command should be issued on the datafiles in the same
   order as the are defined in the SETUP.LST file.

5.6) Compile the SETUP.RUL file by entering the the following command:

   compile SETUP.RUL

   (the "compile" program would not run although it was in the path, unless
    an alias was made for it - probably some other compile program shadowed
    it. So 4nt.ali contains an alias for "compile" that is simply the full 
    path of compile.exe).
   This will generate a file called SETUP.INS. You must copy this file to 
   the first distribution disk.

5.7) Copy the datafiles and the setup files (setup.exe etc.) to the distribution
   disks.
   - Make sure each disk includes an empty file called DISKx.ID, where
     x is the number of the disk.

   - Make sure disk1 includes:
     setup.exe, setup.ins, setup.pkg, UNINST.EXE, _ISRES.DLL, _SETUP.DLL 
     and _SETUP.LIB (taken from e:\program files\stirling\installshield\program).

5.8) (added by datpete)
   Create zipped files with the two distributions:

	cd %betalib%\export\tarfiles\r3.1.pe\nti\bor\datafiles
	zip -r pe_beta_bor disk*
	cd %betalib%\export\tarfiles\r3.1.pe\nti\ms\datafiles
	zip -r pe_beta_ms disk*

</PRE>



</BODY>
</HTML>
