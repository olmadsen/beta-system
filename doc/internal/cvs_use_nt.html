<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd"
>
<HTML>

<HEAD>
<TITLE>Using Windows CVS with Windows NT</TITLE>
<LINK REL=stylesheet HREF="../style/miadoc.css" TYPE=text/css>
<LINK REL=stylesheet HREF="plans.css" TYPE="text/css">
<LINK REV="made" HREF="mailto:grouleff@daimi.aau.dk">
</HEAD>

<BODY>
<H1>Using Windows CVS with Windows NT</H1>

<H2>Requirements</H2>
To use the BETA repository from a PC running windows NT, the
following requirements must be met:

<OL>
<LI>You must be a member of the netgroup `beta'
You can check whether you are in the group by executing the following
in the shell:
<BLOCKQUOTE><PRE>
ypmatch beta group
</PRE></BLOCKQUOTE>
If you are not in the group, contact the 
<A HREF="mailto:staff@daimi.aau.dk">staff</A>.
<P>
<LI>You must have the CVSROOT environment variable set.
You should set it as follows:
<BLOCKQUOTE><PRE>
set CVSROOT=ariel.daimi.aau.dk:/users/beta/.CVSHOME
</PRE></BLOCKQUOTE>
<P>
<LI>You must have an "~/.rhosts" file in your home-directory on unix. It
should contain a line with the machine-name, and the user-name on the PC. the
file must have permissions "600" = "-rw-------", so that only the user can
read it. Create it with a unix texteditor, as it should contain unix
linefeeds. An example:
<BLOCKQUOTE><PRE>
guldtuborg grouleff
</PRE></BLOCKQUOTE>
<P>
<LI>You must have the following programs in your path, preferably all in
the same directory. The current version is v1.9. Make sure you always use
the same version on all platforms. (Download by shift-clicking)

<BLOCKQUOTE><PRE> 482.816 <a
href="http://www.daimi.au.dk/~devise/internal/beta/bin/cvs.exe">cvs.exe</a>
 45.056  <a href="http://www.daimi.au.dk/~devise/internal/beta/bin/patch.exe">patch.exe</a>
104.448  <a href="http://www.daimi.au.dk/~devise/internal/beta/bin/win32gnu.dll">win32gnu.dll</a>
</PRE></BLOCKQUOTE>
<LI>You must have a "/tmp" on all drives where you plan to use cvs, as
patch does not use the regular temp-directory.
<LI>Unless you specify otherwise using the '-e' switch, the editor invoked
is "notepad". This is not so bad, as it loads quickly. Press ALT-F4
followed by Y to exit-and-save.
</OL>

<H2>Differences from Unix</H2>
It's virtually the same. Be careful when using wildcards to select files,
as the shells usually differ on that point. You cannot use "-m 'message'"
as the shell does not understand that kind of quoting. For most uses you
won't notice, though.
<P>

CVS does automatic conversion of newlines in the files, so all files should
use the native newlines of the current platform. This means that the files
should have NT-style CR/LF newlines when importing/commiting them into CVS
from NT. This also means that binary files should not be included.
<P>

When cvs updates a file on the NT machine, it sometimes uses the identifier
<CODE>P</CODE> instead of <CODE>U</CODE> to indicate files being
updated. This is because the file is "patched" on the NT (client)
side.

<H2>Troubleshooting</H2>
If the cvs command runs, but fails with something like "cannot start server
via rcmd: Invalid argument", or "cannot start server via rcmd: Operation
not permitted", you probably have a problem with your CVSROOT, or with your
~/.rhosts on unix. To test the latter, try "rsh ariel ls". This should
run ls in your homedirectory.
</HTML>
