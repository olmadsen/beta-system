<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd"
>
<HTML>
<HEAD>
<META http-equiv="Content-Type" CONTENT="text/html; CHARSET=ISO-8859-1">
<TITLE>BETART Environment Variable</TITLE>
<LINK REL="stylesheet" HREF="../style/miadoc.css" TYPE="text/css">
</HEAD>

<BODY>

<H1>BETART Environment Variable</H1>

<H2>1. Introduction</H2>

BETART is used to set various characteristics of the runtime  system.  
The specification consists of a list of
entries, separated by ':' (colon).  Colon in the beginning
and  at  the end of the BETART value is optional.
The specification ignores case except for the  case  of
the string-entry values.
<BR>
Entries may appear more than once in BETART.  The  last
specification will in this case be used.  The semantics
of the different BETART entries are given below.
<BR>
There are three types of entries:  boolean-,  integer-,
and string-entries.
<BR>
Example of usage (UNIX syntax):
<PRE class=beta>
setenv BETART "InfoIOA:IOA=1024:InfoFile=info.dump"
</PRE>
or alternatively
<PRE class=beta>
setenv BETART "InfoIOA:IOA#1024:InfoFile=info.dump"
</PRE>

<H2>2. General entries</H2>

<H3>Boolean-entries</H3>
      The default values for  all  boolean  entries  are
      false.  Mentioning  the  boolean entries in BETART
      sets its value to true.
      Boolean entries have the form &lt;entry&gt;, where  
      <CODE>&lt;entry&gt;</CODE> is one of:

<DL>

<DT> <CODE>Info</CODE>
<DD>		Print information about heap sizes  etc.
                at startup.

<DT> <CODE>InfoIOA</CODE>   
<DD>		Print information on garbage  collection
                in  the infant object area during execution.
                

<DT> <CODE>InfoAOA</CODE>   
<DD>		Print information on garbage  collection
                in  the  adult object area during execution.
                

<DT> <CODE>InfoAOAUse</CODE>   
<DD>		Print information on the amount of memory
                in  the  adult object area during execution.
		At every IOA garbage collection, the following 
		format is used
<CODE>(AOAUSE:&lt;num&gt;:&lt;amount&gt;/&lt;total&gt;)</CODE>, 
where <CODE>&lt;num&gt;</CODE> is the sequence number of the IOAGC, 
<CODE>&lt;amount&gt;</CODE> is the amount of free memory in AOA, 
and <CODE>&lt;total&gt;</CODE> is the total size of AOA.
                

<DT> <CODE>InfoCBFA</CODE>  
<DD>		Print  information  about  the  callback
                function area during execution.

<DT> <CODE>InfoHeapUsage</CODE><BR>
     <CODE>InfoHeap</CODE>
<DD>	        Print summary of complete heap memory
		usage at various points during execution.
		Notice, that this will not be the complete
		memory usage for the process, since the
		code and and data segments as well as 
		various internal tables also use memory.

<DT> <CODE>InfoAll</CODE>   
<DD>		Sets most Info-entries:  Info,  InfoIOA,
                InfoAOA,  InfoCBFA, InfoHeapUsage.
                

<DT> <CODE>InfoPersistence</CODE>   
<DD>		Print a number of statistics on the persistence
		implementation. 
                

<DT> <CODE>TimeIOA</CODE>   
<DD>		Measure how much time IOA garbage collection 
		uses in total. For information on how long each IOA GC
		lasts, use InfoIoa instead. The accuracy depends on the
		accuracy of the
		timers of the operating system.  Do not enable any Info
		settings while using TimeIOA, as they may interfere with
		the timing.


<DT> <CODE>TimeAOA</CODE>   
<DD>		Measure how much time AOA garbage collection 
		uses in total. For information on how long each IOA GC
		lasts, use InfoAoa instead. The accuracy depends on the accuracy of the
		timers of the operating system.  Do not enable any Info
		settings while using TimeAOA, as they may interfere with
		the timing.


<DT> <CODE>QuaCont</CODE>   
<DD>		Continue execution after runtime  detection
                of qualification error in reference
                assignment.

<DT> <CODE>SimpleDump</CODE>   
<DD>		If a program crashes, a dump file will be created,
		see <A HREF="../bibliography/index.html#mia90-02">
		[MIA 90-02]</A>. This will contain a simple trace 
		of the runtime stack at the time of the crash and,
		by default, also a very detailed low-level trace 
		of the stack. By setting <CODE>SimpleDump</CODE>
		only the simple trace will be included in dumps.

<DT> <CODE>NoCatch</CODE> <BR>
     <CODE>NoCatchException</CODE>   
<DD>		Exceptions/signals raised by the operating system
		will, by default, be caugt by the BETA runtime system
		and result in a dump of the current stack. By setting
		<CODE>Nocatch</CODE> (aka <CODE>NoCatchException</CODE>)
		the exception is not caught by BETA but handled in
		the default way by the operating system.
	
<DT> <CODE>NoAOAGc</CODE>   
<DD>		Do not garbage collect the adult object area. This is not
		useful for long running programs, as the size of AOA will
		keep increasing until there is no more memory available.
</DL>

<H3>Integer-entries</H3>
      These   have   the   form   &lt;entry&gt;=&lt;value&gt;,    or
      &lt;entry&gt;#&lt;value&gt;,  where &lt;entry&gt; is one of the following,
       and &lt;value&gt; is any positive  integer.  The
      default values are noted in parenthesis below:

<DL>
<DT> <CODE>IOA</CODE>
<DD>            The size in Kb of the infant object area
                (Default: 1024).

<DT> <CODE>IOAPercentage</CODE>
<DD>            The minimum free fraction in percent  of
                the  infant object area. A value of 0 or close to zero 
		will stress AOA, and high values will slow down the
		program. Values close to 100 may have ill effects.
		(Legal range: 0 to 100, but useful range is 3 to 40. default: 10).  

<DT> <CODE>IOANumSlices</CODE>
<DD>		Number of slices to divide IOA into.
		Only for MT betarun.
		If both IOANumSlices and IOASliceSize are set,
		the one set last will be used.

<DT> <CODE>IOASliceSize</CODE>
<DD>		Size of each slice in IOA.
		Only for MT betarun.
		If both IOANumSlices and IOASliceSize are set,
		the one set last will be used.

<DT> <CODE>AOAMinFree</CODE>
<DD>            The minimum free area in Kb in the adult
                object  area.  If less than this size is
                free after an  AOA  garbage  collection,
                then  the  next  allocation  in AOA will
                cause  a  new  block  to  be  allocated.
		Please note that both AOAMinFree and AOAPercentage
		is used to determine if this is the case, so it 
		is meaningfull to set both.
		Setting both very low may result in problems, as 
		that prvents IOA from promoting enough objects.
		(Legal range: 0 to infinity, default: 1024).

<DT> <CODE>AOAPercentage</CODE>
<DD>            The minimum free fraction in percent  of
                the adult object area. If less than this
                fraction is free after  an  AOA  garbage
                collection,  then the next allocation in
                AOA will cause a new block to  be  allocated.
		Please note that both AOAMinFree and AOAPercentage
		is used to determine if this is the case, so it 
		is meaningfull to set both.
		Setting both very low may result in problems, as 
		that prvents IOA from promoting enough objects.
		(Legal range: 0 to 50, default: 10).

<DT> <CODE>CBFA</CODE>
<DD>            The size in Kb of one block in the callback
                function area (Default: 1).
</DL>

<H3>String-entries</H3>
      These   have   the   form   
      <CODE>&lt;entry&gt;=&lt;value&gt;</CODE>,    
      or
      <CODE>&lt;entry&gt;#&lt;value&gt;</CODE>,  
      where &lt;entry&gt; is one of the following, 
      and <CODE>&lt;value&gt;</CODE> is  any  string.  The  default
      values are noted in parenthesis below:
<DL>
<DT> <CODE>InfoFile</CODE>  
<DD>            Name of file on which to write all  this
                information (Default: <CODE>stderr</CODE>).
</DL>

<!--++++++++++++++++++++++++++++++-->
<HR>
<P>
<TABLE border=0 width="100%">
<TR>
<TD width="40%" align="left">
<ADDRESS>BETART</ADDRESS>
</TD>
<TD width="20%" align="center"><FONT SIZE="-1">&#169; <A HREF="http://www.mjolner.com">Mj&oslash;lner Informatics</A></FONT></TD>
<TD width="40%" align="right"><SCRIPT TYPE="text/javascript" LANGUAGE=JavaScript SRC="../javascript/lastmod.js"></SCRIPT></TD>
</TABLE>

</BODY>
</HTML>
