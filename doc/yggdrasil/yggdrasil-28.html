<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>

<HEAD>
<LINK REL=TOP HREF=index.html>
<LINK REL=UP HREF=yggdrasil-22.html>
<LINK REL=PREV HREF=yggdrasil-27.html>
<LINK REL=NEXT HREF=yggdrasil-29.html>
<TITLE> 6.2.6 Registering the new grammar</TITLE>
<LINK REL=stylesheet HREF=../style/miadoc.css TYPE=text/css>

</HEAD>
<BODY>


<A NAME=HEADING28></A>


<P><A HREF=yggdrasil-29.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=yggdrasil-27.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=yggdrasil-22.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF=index.html><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF=contents.html><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>
<P> 6.2 Generating the Grammar-Based Information</P>


<A NAME=HEADING28-0></A>
<H1> <A NAME="LINK-yggdrasil-_Toc364700521"><A NAME=MARKER-9-156></A>6.2.6 Registering the new grammar</A></H1>
<P> <A NAME=MARKER-2-158></A>The grammar is now ready for being used by the different grammar-based tools in the Mj&oslash;lner BETA System.  The grammar-based tools uses a particular searching strategy, when trying to locate the grammar to be used for interpreting a given file (textual source file, of a group file, containing the ASTs).  This searching strategy is implemented in the findGrammar<A NAME=MARKER-2-159></A> fragment, described later.  This strategy is the following:</P>
<P> 1) First try to locate the grammar in the current directory.</P>
<P> 2) Then try to find the grammar among the grammars specified in one of the grammar specification files:</P>
<P> a) First try among the grammars defined in the MBSgrammars.text<A NAME=MARKER-2-160></A> file located in the current directory.</P>
<P> b) Then try among the grammars defined in the MBSgrammars.text <A NAME=MARKER-2-161></A>file located in the HOME directory of the user.</P>
<P> c) Then try among the grammars defined in the MBSgrammars_DEMO.text <A NAME=MARKER-2-162></A>file located in the ~beta directory.</P>
<P> d) Finally try among the grammars defined in the MBSgrammars_STD.text <A NAME=MARKER-2-163></A>file located in the ~beta directory.</P>
<P> The first grammar found in this sequence will be used.  The format of these grammar specification files are:</P>
<PRE CLASS=beta>

[[
-- INCLUDE 'filename of grammar'
-- INCLUDE 'filename of grammar'
... etc. ...
-- INCLUDE 'filename of grammar'
]]
</PRE>
<P> The filename of the grammar should not include the -meta<A NAME=MARKER-2-164></A> suffix.  If we assume that your new grammar mylang is located in the ~you/mylang directory, you can specify the grammar by inserting the following line in one of the grammar specification files:</P>
<PRE CLASS=beta>

-- INCLUDE '~you/mylang/mylang'
</PRE>
<P> In order to have your new grammar being usable by the grammar-based tools, you therefore either have to have the grammar files located in the current directory, or have the grammar specified in one of the above mentioned grammar specification files.  Since the grammarsDEMO.text and grammarsSTD.text files are located in the ~beta directory, these files will not usually be modifyable by the normal users.  You will therefore most often be specifying your grammar in one of the .MBSgrammars.text files mentioned above.</P>
<P> Important note for version 5.1:  In this release, it is necessary to specify the grammar also in the file</P>
<P> MBSgrammarsExt.text </P>
<P> to make the grammar usable for the grammar-based tools (Sif, Freja, Frigg, Valhalla).</P>







<!-- TOC -->



<HR>
<P>
<TABLE cols=3 border=0 width=100%>
<TR>
<TD width="33%" align="left">
<ADDRESS>Metaprogramming System</ADDRESS>
</TD>
<TD width="34%" align="center"><FONT size=-1>&COPY; <A HREF="http://www.mjolner.com">Mj&oslash;lner Informatics</A></FONT></TD>
<TD width="33%" align="right"><FONT size=-1><SCRIPT LANGUAGE=JavaScript SRC="../javascript/lastmod.js"></SCRIPT></FONT></TD>
</TABLE>
<P>
<P><A HREF=yggdrasil-29.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=yggdrasil-27.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=yggdrasil-22.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF=index.html><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF=contents.html><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>


</BODY>
</HTML>
