<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>

<HEAD>
<LINK REL=TOP HREF=index.html>
<LINK REL=UP HREF=contents.html>
<LINK REL=PREV HREF=yggdrasil-7.html>
<LINK REL=NEXT HREF=yggdrasil-9.html>
<TITLE> 3 The Context-Free Level</TITLE>
<LINK REL=stylesheet HREF=../style/miadoc.css TYPE=text/css>

</HEAD>
<BODY>


<A NAME=HEADING8></A>


<P><A HREF=yggdrasil-9.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=yggdrasil-7.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=contents.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF=index.html><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF=contents.html><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>
<P>Metaprogramming System</P>


<A NAME=HEADING8-0></A>
<H1> <A NAME="LINK-yggdrasil-_Toc364700501"><A NAME=MARKER-9-65></A>3 The Context-Free Level</A></H1>
<P> <A NAME=MARKER-2-67></A>The context-free level has explicit knowledge about the grammar for the language. For each nonterminal A of the grammar, a corresponding pattern is automatically generated, depending on the defining rule for A. For each rule type described in section 2, the list below describes the corresponding generated patterns.</P>

<P> 1. Alternation<A NAME=MARKER-2-68></A>: A pattern of the following form is generated:</P>
<P>    A: P(# #)</P>
<P>  where P is the pattern corresponding to the super-category of A. The pattern P is thus the super-pattern for A.</P>
<P> 2. Constructor<A NAME=MARKER-2-69></A>: A pattern of the following form is generated:</P>
<PRE CLASS=beta>
		A: P
		   (#
			getT1: getson1(# #)
			putT1: putson1(# #)
			getT2: getson2(# #)
			putT2: putson2(# #)
			... 
			getTn: getsonn(# #)
			putTn: putsonn(# #)
		   #)
</PRE>
<P>  where P is the super-category of A. There is an attribute corresponding to each nonterminal on the right side of the rule. The suffix of the get- and put- attributes (Ti) is the same as the corresponding tag-name.</P>
<P>  If T is an instance of A, the i'th sub-AST can be accessed and changed through the get- and putTi operations. The put- and getsoni patterns have enter (respectively exit) parameters such that an AST can be inserted as the i'th sub-AST by ... &AElig; T.putTi and will be delivered by T.getTi &AElig; ...</P>
<P> 3. List<A NAME=MARKER-2-70></A>: A pattern of the following form is generated:</P>
<PRE CLASS=beta>
 			A: List(# sonCat::&lt; B #)
</PRE>
<P>  where B is the name of the nonterminal on the right side of the rule. The super-pattern is List as the super-category of A is List.</P>
<P> Constructor rules are thus mapped into a composition hierarchy and alternation rules into a classification hierarchy.</P>
<P> By using the context-free level it is not possible for a programmer to construct an AST that violates the context-free syntax.</P>







<!-- TOC --><DL>
<DL>
<DT><A REL=BELOW HREF="yggdrasil-9.html#HEADING9-0"><B></B>3.1 The Structure of the Context-free Level Interface</A>
<DD>
<DT><A REL=BELOW HREF="yggdrasil-10.html#HEADING10-0"><B></B>3.2 Example of Structured Context-Free Grammar, cont.</A>
<DD>
<DT><A REL=BELOW HREF="yggdrasil-11.html#HEADING11-0"><B></B>3.3 Using the Context-Free Level</A>
<DD>
</DL>
</DL>




<HR>
<P>
<TABLE cols=3 border=0 width=100%>
<TR>
<TD width="33%" align="left">
<ADDRESS>Metaprogramming System</ADDRESS>
</TD>
<TD width="34%" align="center"><FONT size=-1>&COPY; <A HREF="http://www.mjolner.com">Mj&oslash;lner Informatics</A></FONT></TD>
<TD width="33%" align="right"><FONT size=-1><SCRIPT LANGUAGE=JavaScript SRC="../javascript/lastmod.js"></SCRIPT></FONT></TD>
</TABLE>
<P>
<P><A HREF=yggdrasil-9.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=yggdrasil-7.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=contents.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF=index.html><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF=contents.html><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>


</BODY>
</HTML>
