<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<TITLE>Metagramsematt Interface</TITLE>
<LINK REL="stylesheet" HREF="../../style/miadoc.css" TYPE="text/css">
</HEAD>
<BODY>
<P></P>
<A HREF="property.html"><IMG ALIGN=BOTTOM SRC="../../images/next.gif" ALT=Next BORDER=0></A>
<A HREF="metagrammarcfl.html"><IMG ALIGN=BOTTOM SRC="../../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF="../index.html"><IMG ALIGN=BOTTOM SRC="../../images/top.gif" ALT=Top BORDER=0></A>
<A HREF="index.html"><IMG ALIGN=BOTTOM SRC="../../images/content.gif" ALT=Content BORDER=0></A>
<A HREF="inx.html"><IMG ALIGN=BOTTOM SRC="../../images/index.gif" ALT=Index BORDER=0></A>
<P></P>
<P>Interface Description</P>
<HR>
<!---------------------------------------------------------->

<H1>Metagramsematt Interface</H1>
<PRE CLASS=interface>
ORIGIN 'metagrammarcfl'
(*
 * COPYRIGHT
 *       Copyright (C) Mjolner Informatics, 1986-93
 *       All rights reserved.
 *)
--- prodAttributes: attributes ---
<B>leftSide</B><A name="leftSide.1(635)"></A>: 
  (# 
  enter putson1
  exit getson1
  #);
<B>getSynDeclText</B><A name="getSynDeclText.1(636)"></A>: 
  (# ls: ^this(metagrammar).leftSide;
     sd: ^SynDeclName;
     n: ^NameDecl;
  do getson1 -&gt; ls[];
     ls.GetSynDeclName -&gt; sd[];
     sd.getNameDecl -&gt; n[];
  exit n.getText
  #);
<B>superValue</B><A name="superValue.1(637)"></A>: 
  (# ls: ^this(metagrammar).leftSide;
  do getson1 -&gt; ls[];
  exit ls.superValue
  #);
<B>superProd</B><A name="superProd.1(638)"></A>: 
  (# prodNo: @integer;
     theProd: ^prod;
     predefined:&lt; object;
     f: ^productionList
  do superValue -&gt; prodNo;
     (if (prodNo&gt;0) then
         father -&gt; f[];
         prodNo -&gt; f.get -&gt; theProd[]
      else predefined
     if)
  exit theProd[]
  #)

--- leftsideAttributes: attributes ---
<B>getSynDeclText</B><A name="getSynDeclText.1(639)"></A>: 
  (# sd: ^SynDeclName;
     n: ^nameDecl;
  do GetSynDeclName -&gt; sd[];
     sd.getNameDecl -&gt; n[];
  exit n.getText
  #);
<B>superValue</B><A name="superValue.1(640)"></A>: 
  (# value: @integer
  enter (# enter value do (value,1) -&gt; putAttribute #)
  exit 1 -&gt; getAttribute
  #);
<B>attributeSize</B><A name="attributeSize.1(641)"></A>: 
  (# value: @integer
  enter (# enter value do (value,2) -&gt; putAttribute #)
  exit 2 -&gt; getAttribute
  #);

--- taggedSynAttributes: attributes ---
<B>getSynText</B><A name="getSynText.1(642)"></A>: 
  (# sn: ^synName;
     n: ^nameappl;
  do getSynName -&gt; sn[];
     sn.getNameAppl -&gt; n[];
  exit n.getText
  #);
<B>getTagText</B><A name="getTagText.1(643)"></A>: 
  (# tn: ^tagName;
     n: ^nameDecl;
  do getTagName -&gt; tn[];
     tn.getNameDecl -&gt; n[];
  exit n.getText
  #);

--- termAttributes: attributes ---
<B>getText</B><A name="getText.1(644)"></A>: 
  (# s: ^string
  do getString -&gt; s[];
  exit s.getText
  #)

--- syncatAttributes: attributes ---
<B>getSynText</B><A name="getSynText.1(645)"></A>: 
  (# sn: ^synName;
     s: ^nameappl;
  do getSynName -&gt; sn[];
     sn.getNameAppl -&gt; s[];
  exit s.getText
  #);

--- synNameAttributes: attributes ---
<B>dclRef</B><A name="dclRef.1(646)"></A>: 
  (# value: @integer
  enter (# enter value do (value,1) -&gt; putAttribute #)
  exit 1 -&gt; getAttribute
  #);
<B>dclRefProd</B><A name="dclRefProd.1(647)"></A>: 
  (# prodNo: @integer;
     theProd: ^prod;
     predefined:&lt; object;
     theGrammar: ^agrammar;
  do dclRef -&gt; prodNo;
     (if (prodNo&gt;0) then
         frag.root[] -&gt; theGrammar[];
         prodNo -&gt; theGrammar.getProd -&gt; theProd[]
      else predefined
     if)
  exit theProd[] 
  #);
<B>getSynText</B><A name="getSynText.1(648)"></A>: 
  (# s: ^nameappl;
  do getNameAppl -&gt; s[];
  exit s.getText
  #);

--- AGrammarAttributes: attributes ---
<B>getProd</B><A name="getProd.1(649)"></A>: 
  (# prodNo: @integer;
     theProd: ^prod;
     pl: ^productionList;
  enter prodNo
  do getProductionList -&gt; pl[];
     prodNo -&gt; pl.get -&gt; theProd[] 
  exit theProd[] 
  #);
<B>OptionSet</B><A name="OptionSet.1(650)"></A>: 
  (# t: @text;
     optSpec: ^optionSpecification;
     opPart: ^optionPart;
     op: ^ast;
     optList: ^optionList;
  enter t
  do getOptionOp -&gt; op[];
     (if (op.symbol=optionPart) then
         op[] -&gt; opPart[];
         opPart.getOptionList -&gt; optList[];
     if);
     (if (optList[]&lt;&gt;none) then
         scan: optList.scan
           (#
              optionEl: ^optionElement;
              optName: ^optionName;
              ap: ^nameAppl;
           do current[] -&gt; optionEl[];
              optionEl.getOptionName -&gt; optName[];
              optName.getNameAppl -&gt; ap[];
              (if (ap.getText -&gt; t.equalNCS) then
                  optionEl.getOptionSpecification -&gt; optSpec[];
                  leave scan;
              if);
           #)
     if)
  exit OptSpec[]
  #);
<B>checkOption</B><A name="checkOption.1(651)"></A>: 
  (# errortext: @text;
     spec: ^optionSpecification;
     checkedSymbol: @integer;
     as: ^ast;
  enter (spec[],errortext,checkedSymbol)
  do (if (spec.symbol=checkedSymbol) then
         spec.getson1 -&gt; as[];
      else
         'ERROR in option-Specification for ' -&gt; putText;
         errorText[] -&gt; putText;
         screen.newLine;
         'Expected symbol: ' -&gt; screen.putText;
         checkedSymbol -&gt; screen.putInt;
         screen.newLine;
         'Found symbol: ' -&gt; screen.putText;
         spec.symbol -&gt; screen.putInt;
         screen.newLine;
     if)
  exit as[]
  #);
<B>GetOptionValue</B><A name="GetOptionValue.1(652)"></A>: 
  (# value: @integer;
     optionName: @text;
     c: ^const;
     optSpec: ^optionSpecification;
  enter (optionName,value)
  do (if ((optionName -&gt; optionSet -&gt; optSpec[])&lt;&gt;none) then
         (optSpec[],OptionName,optionConst) -&gt; checkOption -&gt; c[];
         c.getValue -&gt; value;
     if);
  exit value
  #);
<B>GetOptionName</B><A name="GetOptionName.1(653)"></A>: 
  (# value: @text;
     theOptionName: @text;
     c: ^lexemText;
     optSpec: ^optionSpecification;
  enter (theOptionName,value)
  do (if ((theOptionName -&gt; optionSet -&gt; optSpec[])&lt;&gt;none) then
         (optSpec[],theOptionName,optionName) -&gt; checkOption -&gt; c[];
         c.getText -&gt; (# t: ^text enter t[] exit t #) -&gt; value;
     if);
  exit value
  #);
<B>GetOptionString</B><A name="GetOptionString.1(654)"></A>: 
  (# value: @text;
     optionName: @text;
     c: ^lexemText;
     optSpec: ^optionSpecification;
  enter (optionName,value)
  do (if ((optionName -&gt; optionSet -&gt; optSpec[])&lt;&gt;none) then
         (optSpec[],OptionName,optionString) -&gt; checkOption -&gt; c[];
         c.getText -&gt; (# t: ^text enter t[] exit t #) -&gt; value;
     if);
  exit value
  #)
</PRE>
<!---------------------------------------------------------->
<HR>
<P></P>
<TABLE cols=3 border=0 width=100%>
<TR>
<TD width="33%" align="left"><ADDRESS>Interface Description</ADDRESS></TD>
<TD width="34%" align="center"><FONT size=-1>&COPY; <A HREF="http://www.mjolner.com">Mj&oslash;lner Informatics</A></FONT></TD>
<TD width="33%" align="right"><FONT size=-1><SCRIPT LANGUAGE=JavaScript SRC="../../javascript/lastmod.js"></SCRIPT></FONT></TD>
</TABLE>
<P></P>
<A HREF="property.html"><IMG ALIGN=BOTTOM SRC="../../images/next.gif" ALT=Next BORDER=0></A>
<A HREF="metagrammarcfl.html"><IMG ALIGN=BOTTOM SRC="../../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF="../index.html"><IMG ALIGN=BOTTOM SRC="../../images/top.gif" ALT=Top BORDER=0></A>
<A HREF="index.html"><IMG ALIGN=BOTTOM SRC="../../images/content.gif" ALT=Content BORDER=0></A>
<A HREF="inx.html"><IMG ALIGN=BOTTOM SRC="../../images/index.gif" ALT=Index BORDER=0></A>
</BODY>
</HTML>
