<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>

<HEAD>




<TITLE> 1.1 Structured Context-Free Grammars</TITLE>
<LINK REL=stylesheet HREF=../style/miadoc.css TYPE=text/css>

</HEAD>
<BODY>


<A NAME=HEADING5></A>


<P><A HREF=yggdrasil-6.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=yggdrasil-4.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=yggdrasil-4.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF=../index.html><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF=index.html#_toc><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>
<P> 1 Introduction to Context-Free Grammers</P>


<A NAME=HEADING5-0></A>
<H1> <A NAME="LINK-yggdrasil-_Toc364700498"><A NAME=MARKER-9-30></A>1.1 Structured Context-Free Grammars</A></H1>
<P> The grammar formalism used in the metaprogramming system is a variant of context-free grammars. The main reason for introducing this formalism is to make it possible automatically to generate pattern definitions from a grammar.</P>
<P> A structured context-free grammar <A NAME=MARKER-2-32></A>is a context-free grammar where the rules (productions) satisfy a certain structure.</P>
<P> Each nonterminal must be defined by exactly one of the following rules:</P>

<P> 1. An alternation rule <A NAME=MARKER-2-33></A>has the following form: </P>
<P>    &lt;A0&gt;::| &lt;A1&gt; | &lt;A2&gt; | ... | &lt;An&gt;</P>
<P>  where &lt;A0&gt;, &lt;A1&gt;,..., &lt;An&gt; are nonterminal symbols. The rule specifies that &lt;A0&gt; derives one of &lt;A1&gt;, &lt;A2&gt;,..., or &lt;An&gt;.</P>
<P> 2. A constructor rule <A NAME=MARKER-2-34></A>has the following form: </P>
<P>    &lt;A0&gt;::= w0 &lt;t1:A1&gt; w1 ... &lt;tn:An&gt; wn</P>
<P>  where &lt;A0&gt;, &lt;t1:A1&gt;, ..., &lt;tn:An&gt; are nonterminal symbols and w0, w1, ..., wn are possibly empty strings of terminal symbols. This rule describes that &lt;A0&gt; derives the string w0 &lt;A1&gt; w1... &lt;An&gt;. A nonterminal on the right side of the rule has the form &lt;t:A&gt; where t is a tag-name and A is the syntactic category. Tag-names are used to distinguish between nonterminals belonging to the same syntactic category. Consequently all tag-names in a rule must be different. If no tag-name is provided the name of the syntactic category is used as a tag-name.</P>
<P> 3. A list rule <A NAME=MARKER-2-35></A>has one of the following forms: </P>
<P>    &lt;A&gt;::+ &lt;B&gt; w</P>
<P>    &lt;A&gt;::* &lt;B&gt; w</P>
<P>  where &lt;B&gt; is a nonterminal and w is a possibly empty string of terminal symbols. The nonterminal &lt;A&gt; generates a list of &lt;B&gt;'s separated by w's: &lt;B&gt; w &lt;B&gt; w... w &lt;B&gt;. The +-rule specifies that at least one element is generated; the *-rule specifies that the list may be empty.</P>
<P> 4. An optional rule <A NAME=MARKER-2-36></A>has the following form: </P>
<P>    &lt;A&gt;::? &lt;B&gt;</P>
<P>  where &lt;B&gt; is a nonterminal. The nonterminal &lt;A&gt; may generate either the same strings as &lt;B&gt; may generate, or the empty string (i.e. nothing).</P>

<P> There exists four predefined nonterminal symbols named &lt;NameDecl<A NAME=MARKER-2-37></A>&gt;, &lt;NameAppl<A NAME=MARKER-2-38></A>&gt;, &lt;String<A NAME=MARKER-2-39></A>&gt; and &lt;Const<A NAME=MARKER-2-40></A>&gt;. These nonterminals are called lexem-symbols. They derive identifiers, character-strings and integer constants. A lexem-symbol may also have a tag-name, like &lt;Title:NameAppl&gt;.</P>

<P> A nonterminal may only appear once on the left-hand side of a rule, and the complete grammar must be LALR<A NAME=MARKER-2-41></A>(1)<EM><A REL=FOOTNOTE HREF="#FOOTNOTE-2">[2]</A></EM>. The limitations on the rules which can be used in a structured context-free grammar do not restrict the class of languages that can be described. Any context-free language may be generated by a structured context-free grammar. It may perhaps be awkward to be forced to follow the rules. On the other hand being forced to structure a grammar using the rules often results in a more readable grammar.</P>

<P> There is one important representation for sentential forms and sentences of any context-free grammar, the abstract syntax tree<A NAME=MARKER-2-42></A>. An abstract syntax tree (for short AST<A NAME=MARKER-2-43></A>) represents how a sentential form (or sentence) has been derived from the grammar (or how it has been constructed by the parser). The AST does not represent the terminals of the grammar, only the involved nonterminals. The nodes in an AST are productions and the branches in the AST signifies derivations of the nonterminals involved in the production in that node. The leaves of the AST are lexems, if the AST represents sentences. If the AST represents a sentential form, leaves may also be nonterminals. ASTs are a very convenient representation of programs and many manipulations of programs may be specified as manipulations on the underlying AST. </P>

<P> A context-free grammar for a language induces an abstract syntax that may be used to give an AST-definition. In the Mj&oslash;lner BETA System, the representation of a program as an AST is defined by means of a context-free grammar for the language. In addition there is a set of rules that specify how the context-free grammar is mapped into a set of data types. The context-free grammar is then part of the specification of the environment. </P>
<P> The super-category of a given syntactic category A is defined as follows:</P>
<UL>
<LI> If &lt;A&gt; appears on the right side of an alternation rule of the form: 
<P>    &lt;B&gt;::| ... | &lt;A&gt; | ... | ...
<P>   then the super-category of A is B.
<LI> If &lt;A&gt; appears in a list rule in one of the forms: 
<P>    &lt;A&gt;::+ &lt;B&gt; ...
<P>    &lt;A&gt;::* &lt;B&gt; ... 
<P>  then the super-category of A is List<A NAME=MARKER-2-44></A>.
<LI> If &lt;A&gt; appears in an optional rule:
<P>    &lt;A&gt; ::? &lt;B&gt;
<P>  then no category A is defined (to be discussed later).
<LI> Otherwise the super-category of A is Cons<A NAME=MARKER-2-45></A>.
</UL>
<P> The inheritance hierarchy of the generated patterns of the context-free level is the same as the classification hierarchy of the syntactic categories. In general a syntactic category may have more than one super-category. This corresponds to multiple inheritance in object-oriented languages. Since BETA currently does not support multiple inheritance, there is the additional restriction that the hierarchy must be tree structured. That is, the following grammar will not be a legal grammar:</P>
<P>    &lt;A&gt; ::| &lt;B&gt; | &lt;C&gt;</P>
<P>    &lt;B&gt; ::+ &lt;D&gt;</P>
<P>    &lt;C&gt; ::= &lt;E&gt; terminal &lt;F&gt; </P>
<P> since &lt;B&gt; will have both List and A as super-category.</P>






<HR>

<A NAME=FOOTNOTE-2>[2] </A>
 However, this restriction is only neceaasry if the grammar is to be used for parsing purposes (see chapter 7 for more details). 









<!-- TOC --><DL>
<DL>
<DT><A REL=BELOW HREF="yggdrasil-6.html#HEADING6-0"><B></B>1.1.1 Example of Structured Context-Free Grammar</A>
<DD>
</DL>
</DL>




<HR>
<P>
<TABLE cols=3 border=0 width=100%>
<TR>
<TD width="33%" align="left">
<ADDRESS>Metaprogramming System</ADDRESS>
</TD>
<TD width="34%" align="center"><FONT size=-1>&COPY; <A HREF="http://www.mjolner.com">Mj&oslash;lner Informatics</A></FONT></TD>
<TD width="33%" align="right"><FONT size=-1><SCRIPT LANGUAGE=JavaScript SRC="../javascript/lastmod.js"></SCRIPT></FONT></TD>
</TABLE>
<P>
<P><A HREF=yggdrasil-6.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=yggdrasil-4.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=yggdrasil-4.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF=../index.html><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF=index.html#_toc><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>


</BODY>
</HTML>
