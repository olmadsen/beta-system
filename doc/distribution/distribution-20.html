<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>

<HEAD>




<TITLE> 4.5.1. CreateShell</TITLE>
<LINK REL=stylesheet HREF=../style/miadoc.css TYPE=text/css>

</HEAD>
<BODY>


<A NAME=HEADING20></A>


<P><A HREF=distribution-21.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=distribution-19.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=distribution-19.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF=../index.html><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF=index.html#_toc><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>
<P> 4.5. The ensemble pattern</P>


<A NAME=HEADING20-0></A>
<H1> 4.5.1. CreateShell<A NAME=MARKER-2-27></A></H1>

<P> Parameters to createShell are the expected qualification of the Shell created and the executable name from which to create it. Before using the execName name entered, it is appended to the value returned from the appsDir virtual, and $ signs in the resulting string expanded to the name of the target platform in lower case.</P>
<P> A number of virtuals defined locally to createShell allow the passing of parameters and environment variables to the newly created process. These virtuals are described below.</P>
<P> appsDir<A NAME=MARKER-2-28></A>: The appsDir virtual names the directory where executables are located. Default value is given by the shellEnv.defaultAppsDir virtual described in section 4.8. In order to override the default, further bind and assign a pathname to dir. The interpretation given to dir is described in section 4.8. Notice that the value of dir should be a full path.</P>
<P> screenName<A NAME=MARKER-2-29></A>: New shells created using createShell have no associated standard input or standard output. As a consequence, such shells are not allowed to read from standard in, and if they write to standard out or standard error, default is to redirect the output into some &quot;black hole&quot;. On UNIX platforms a standard black hole is /dev/null. This default may be changed by further binding the screenName virtual, and assign a file name including full path to name. Further binding screenName overrides the defaultScreenName virtual of the new shell created. For more information on redirecting standard output, see section 4.9 describing the defaultScreenName virtual.</P>
<P> environment<A NAME=MARKER-2-30></A>: To set environment variables for the newly created shell, further bind the environment virtual and call addEnvVar for each environment variable to be added. For example:</P>
<PRE CLASS=beta>
(timeClient##,'timeClient')-&gt;myEnsemble.createShell
(# environment::
    (# do ('DISPLAY','blanche:0') -&gt; addEnvVar #)
#) -&gt; newClient[];
</PRE>
<P> parameters <A NAME=MARKER-2-31></A>should be further bound and addParam called for each command line parameter to be given to the new shell. For example:</P>
<PRE CLASS=beta>
(timeClient##,'timeClient')-&gt;myEnsemble.createShell
(# parameters::
    (# do '-serverName' -&gt; addParam; 
          'daimi.aau.dk' -&gt; addParam;
    #)
#) -&gt; newClient[];
</PRE>







<!-- TOC -->



<HR>
<P>
<TABLE cols=3 border=0 width=100%>
<TR>
<TD width="33%" align="left">
<ADDRESS>Distribution Reference Manual</ADDRESS>
</TD>
<TD width="34%" align="center"><FONT size=-1>&COPY; <A HREF="http://www.mjolner.com">Mj&oslash;lner Informatics</A></FONT></TD>
<TD width="33%" align="right"><FONT size=-1><SCRIPT LANGUAGE=JavaScript SRC="../javascript/lastmod.js"></SCRIPT></FONT></TD>
</TABLE>
<P>
<P><A HREF=distribution-21.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=distribution-19.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=distribution-19.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF=../index.html><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF=index.html#_toc><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>


</BODY>
</HTML>
