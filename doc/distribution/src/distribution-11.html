<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd"
>
<HTML>
<HEAD>
<META http-equiv="Content-Type" CONTENT="text/html; CHARSET=ISO-8859-1">
<TITLE> Calculator</TITLE>
<LINK REL=stylesheet HREF=../style/miadoc.css TYPE=text/css>

</HEAD>
<BODY>


<A NAME=HEADING11></A>


<P><A HREF=distribution-12.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=distribution-10.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=distribution-10.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF="../index.html"><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF="index.html#_toc"><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>
<P> Example programs</P>


<A NAME=HEADING11-0></A>
<H1> Calculator<A NAME=MARKER-2-13></A></H1>

<P> The calcServer shell is a simple server shell containing a number of calculators. Each calculator is doing work for a single client. The example includes two different clients; an X based client, XcalcClient, using the Athena widget set, and a non X client, calcClient. To create the executables of the calculator example, copy the contents of the calculator directory to a directory of your own and compile: </P>
<P> beta calcClient calcServer XcalcClient. </P>
<P> Before running the calculator example, make sure that an ensembleDeamon is running on the host(s) involved (See section 5.1). </P>
<P> Now execute a calcServer on some network host, followed by the execution of a calcClient. The calcClient prompts for the name of the ensemble where it should lookup the calcServer. Answer with the name of the network host on which the calcServer is running.</P>
<P> If a calcServer is not started explicitly, as was the case above, or if the calcServer has terminated<EM><A REL=FOOTNOTE HREF="#FOOTNOTE-4">[4]</A></EM>, the calcClient will fail to lookup a calcServer on the host whose name it was given. In this case the calcClient will try to start a new calcServer. For this to be possible, the following changes to the calcClient code could be made:</P>
<OL>
<LI>Edit the defaultAppsDir virtual in calcClient.bet and
XcalcClient.bet. If, for example, the source files were copied to the
directory mydir, edit calcClient.bet as follows, or leave the default,
which asks the user to enter the location:
<PRE CLASS=beta>
shellEnv
(# defaultAppsDir:: 
     (# do 'mydir/$/' -&gt; dir[] #);
   ...
#)
</PRE>
<LI>Recompile calcClient and XcalcClient
<LI>Move the calcServer executable to the machine specific subdirectory of mydir, e.g. mydir/sun4s on a SPARC running Solaris 2.x.
</OL>
<P> With the above changes, the calcClient is able to create a new calcServer if one is not already running.</P>






<HR>

<A NAME=FOOTNOTE-4>[4] </A>
 The calcServer terminates  itself when no new  calculator has been created for 5 minutes.






<HR>
<P>
<TABLE border=0 width="100%">
<TR>
<TD width="40%" align="left">
<ADDRESS>Distributed Objects in BETA</ADDRESS>
</TD>
<TD width="20%" align="center"><FONT SIZE="-1">&#169; <A HREF="http://www.mjolner.com">Mj&oslash;lner Informatics</A></FONT></TD>
<TD width="40%" align="right"><SCRIPT TYPE="text/javascript" LANGUAGE=JavaScript SRC="../javascript/lastmod.js"></SCRIPT></TD>
</TABLE>
<P>
<P><A HREF=distribution-12.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=distribution-10.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=distribution-10.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF="../index.html"><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF="index.html#_toc"><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>


</BODY>
</HTML>
