<H1> The shell pattern</H1>
<P> The shell<A NAME=MARKER-2-18></A> pattern is a subpattern of remoteable describing executables whose instances are processes. Shells should only be instantiated through ensemble.createShell or as part of distributed BETA programs started from the commandline<EM><A REL=FOOTNOTE HREF="#FOOTNOTE-6">[6]</A></EM>. The shell pattern adds the following attributes to remoteable:</P>
<UL>
<LI>myEnsemble<A NAME=MARKER-2-19></A>: A reference to the ensemble on which this shell is running.
<LI>kill<A NAME=MARKER-2-20></A>:  Kills the corresponding process.
<LI>onKill<A NAME=MARKER-2-21></A>: Called before the process is killed as a result of a call to kill.
</UL>

<P> The shellType virtual attribute of shellEnv may be further bound in an application program. shellType is used as the type of the static theShell partobject of shellEnv. This instance should be the only shell instance created in a distributed BETA program. Exporting a reference to theShell to a remote shell gives the remote shell the ability to kill the local process by calling the kill attribute of theShell. Furthermore, theShell is the object whose reference is returned from ensemble.createShell after the creation of a new shell process. A distributed BETA program is not obliged to further bind the shellType virtual unless it is going to export a reference to theShell offering more functionality than the standard Shell pattern<EM><A REL=FOOTNOTE HREF="#FOOTNOTE-7">[7]</A></EM>.</P>

<P> The INNER part of a shell has to pause once in a while for shellEnv to be able to handle incoming requests from distribution partners. This is due to the non-preemptive multitasking used. Even if INNER terminates, the process will not terminate before kill has been called.</P>






<HR>

<A NAME=FOOTNOTE-6>[6] </A>
 In practice, these cases boil down to the same thing.
<HR>

<A NAME=FOOTNOTE-7>[7] </A>
 Neither xtalk nor any of the calcClients further bind shellType.







