<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>

<HEAD>
<LINK REL=TOP HREF=index.html>
<LINK REL=UP HREF=distribution-14.html>
<LINK REL=PREV HREF=distribution-22.html>
<LINK REL=NEXT HREF=distribution-24.html>
<TITLE> 4.6. The errorHandler pattern</TITLE>
<LINK REL=stylesheet HREF=../style/miadoc.css TYPE=text/css>

</HEAD>
<BODY>

<DIV>
<A NAME=HEADING23></A>

<DIV>
<P><A HREF=distribution-24.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=distribution-22.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=distribution-14.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF=index.html><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF=contents.html><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>
<P> 4. Reference Manual</P>

</DIV>
<A NAME=HEADING23-0></A>
<H1> 4.6. The errorHandler <A NAME=MARKER-2-40></A>pattern</H1>
<P> The errorHandler supports flexible handling of network related errors. An errorHandler effectively defines a dynamic scope in which network errors may be caught and handled.</P>
<!-- FM pgf ignored -->
<!-- FM pgf ignored -->
<P> A dynamic chain of error handlers is maintained for each systemenv system coroutine (see [MIA 90-08]). On entry to an errorHandler, default is to push the handler entered onto the front of the dynamic chain of error handlers related to the current system, thereby making it the active errorHandler. Likewise, when the errorHandler is left, it is removed from the dynamic chain of error handlers, and the previously active errorHandler becomes active again.</P>
<!-- FM pgf ignored -->
<P> When a network related error occurs, a corresponding exception is raised in the active errorHandler. If the active error handler does not further bind the exception raised, the exception is automatically propagated to the previous handler in the dynamic chain.  The propagation of an exception continues until either some handler catches the exception (by further binding the corresponding errorHandler virtual), or until the end of the dynamic chain is reached. If that happens, the exception is propagated to the globalHandler. If even the globalHandler does not catch the error, default action is to kill the current shell. If an error occurs in a coroutine that never entered an errorHandler, the corresponding exception is raised directly in the globalHandler.</P>
<P> Note that by default each system coroutine has its own dynamic error handler chain. If the top of this chain is reached, control is passed to the globalHandler, and not, for example, to the handler chain of the system that forked the failing coroutine. </P>
<!-- FM pgf ignored -->
<P> As described above, default is to push a newly entered errorHandler onto the currently active chain of error handlers. This means that exceptions not handled by some errorHandler eh are automatically propagated to the errorHandler that was active before entry to eh and, if eh was the first errorHandler entered by the current system coroutine, errors not handled by eh are propagated to the global handler. However, this default may be changed by supplying an errorHandler (prevHandler) as enter parameter when entering a new errorHandler eh. This way, exceptions not handled by eh will be propagated to prevHandler. As an example, this may be used to transfer errors automatically from a coroutine to the creator of that coroutine.</P>
<!-- FM pgf ignored -->
<P> The error <A NAME=MARKER-2-42></A>pattern is an abstract super pattern for all communication exception virtuals. The virtual subpatterns of error thus correspond to different kinds of network errors, as described in the next section.</P>

</DIV>

<DIV>

<DIV>

<!-- TOC --><DL>
<DL>
<DT><A REL=BELOW HREF="distribution-24.html#HEADING24-0"><B></B>4.6.1. Error types</A>
<DD>
<DT><A REL=BELOW HREF="distribution-25.html#HEADING25-0"><B></B>4.6.2. Error handling</A>
<DD>
</DL>
</DL>


</DIV>

<HR>
<P>
<TABLE cols=3 border=0 width=100%>
<TR>
<TD width="33%" align="left">
<ADDRESS>Distribution Reference Manual</ADDRESS>
</TD>
<TD width="34%" align="center"><FONT size=-1>&COPY; <A HREF="http://www.mjolner.com">Mj&oslash;lner Informatics</A></FONT></TD>
<TD width="33%" align="right"><FONT size=-1><SCRIPT LANGUAGE=JavaScript SRC="../javascript/lastmod.js"></SCRIPT></FONT></TD>
</TABLE>
<P>
<P><A HREF=distribution-24.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=distribution-22.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=distribution-14.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF=index.html><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF=contents.html><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>

</DIV>
</BODY>
</HTML>
