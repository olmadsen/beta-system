<H1>Miscellaneous</H1>

<H2> <INX>Environment Variables</INX></H2>
<A NAME="environment"></A>

<P> The following environment variables are used in the Mj&oslash;lner
System on all platforms. </P>

<DL>

<DT>
<INX><CODE>BETALIB</CODE></INX>
<DD>
Specifies how <INX><CODE>~beta</CODE></INX> is expanded in BETA
fragment properties. I.e. it should be set to the path indicating
where you installed the Mj&oslash;lner System. It is used by many
tools in the Mj&oslash;lner System. 

<DT>
<INX><CODE>BETAOPTS</CODE></INX>
<DD>
Specifies options that the beta compiler should be invoked with by default.

<DT>
<INX><CODE>BETALINKOPTIONS</CODE></INX>
<DD>
Specifies the <INX>linker options</INX> to be used by the
BETA compiler when linking. If set, it totally overwrites the default
link options the compiler would have used otherwise.

<DT>
<INX><CODE>TMPDIR</CODE></INX>
<DD>
Occationallyally, the link-directives in the job-file scripts will use
a directory for temporary files. If a specific directory is to be used
(e.g. because the default temporary directory used is full), setting 
<CODE>TMPDIR</CODE> to the name of a directory, prior to compilation, 
will cause the link-directives to place temporary files in this
directory. 
<DT>
<INX><CODE>BETART</CODE></INX>
<DD>See 
<A HREF="../betarun/BETART.html">
<CODE>BETALIB/doc/betarun/BETART.html</CODE>
</A>
</DL>

<H3>Windows Specific Environment Variables</H3>

If <CODE>TMPDIR</CODE> is not set, the environment variables
<CODE>TMP</CODE> and <CODE>TEMP</CODE> are searched. 
If none of these are set, the directory <CODE>C:\TEMP</CODE> is used.


<H4>Automatic Setting of Environment Variables</H4>

<P> For most uses, the defaults registered in the registry by the
<A HREF="install-windows.html#setup">installer</A> 
are sufficient.</P>

<P> You can make Windows NT set the BETALIB and Path environment
variables automatically each time you log in via the <INX>System tool</INX> in the <INX>Control Panel</INX>.</P>

<P> You can make Windows 95/98/2000 set the BETALIB and Path
environment variables automatically each time you log in by setting it
in the <INX><CODE>autoexec.bat</CODE></INX> file.</P>




<H3>UNIX specific Environment Variables</H3>

<DL>
<DT>
<INX><CODE>CC</CODE></INX>
<DD>
Set by the compiler in the jobfiles on all UNIX platforms. Thus
<CODE>$(CC)</CODE> can be used in <CODE>BUILD</CODE> property commands
(see <A HREF="../bibliography/index.html#mia90-02">[MIA 90-02]</A>)
and Makefiles invoked using the <CODE>MAKE</CODE> property.

<DT>
<INX><CODE>MACHINETYPE</CODE></INX>
<DD>
Is set automatically by the compiler during the execution of the
jobfiles and make files. It may be necessary to set this variable
manually, if these command files are executed manually.

<DT>
<INX><CODE>LD_LIBRARY_PATH</CODE></INX>
<DD>
This is a colon separated list of directories to search for external
libraries during linking. Notice that not all standard UNIX linkers
supports this variable directly, but the jobfiles generated by the
beta-compiler will still use this variable.

<DT>
<INX><CODE>BETAREPORT</CODE></INX>
<DD>If set, cause automatic sending of reports by e-mail to
Mj&oslash;lner Informatics in case a tool in the Mj&oslash;lner System
crashes with a fatal error.
See the section on Error Reports below.


</DL>

<H4>LD_LIBRARY_PATH on Silicon Graphics</H4>

On <INX>Silicon Graphics</INX> machines,
<CODE>LD_LIBRARY_PATH</CODE> is especially important: Most BETA programs
are linked using <INX>shared object files</INX>.  
This means, that a part of the linking process is postponed until
runtime, and in order for this to work, the <INX>runtime loader</INX> must be able to locate the shared object files
generated by the compiler. 

The compiler will output a suggestion for setting <CODE>LD_LIBRARY_PATH</CODE>
after each compilation, that uses shared object files.
In this case, <CODE>LD_LIBRARY_PATH</CODE> must be set before
attempting to run the program. Otherwise you will get a loadtime error
like 
	
<BETA>
793:./foo: rld: Fatal Error: <INX>cannot map soname</INX> 'foo1..so'
using any of the filenames 								
  /usr/lib/foo1..so:/lib/foo1..so:
  /lib/cmplrs/cc/foo1..so:
  /usr/lib/cmplrs/cc/foo1..so:
-- either the file does not exist or the file is not
mappable (with reason indicated in previous msg)
</BETA>



<H3>Macintosh Specific Environment Variables</H3>

<P> The following MPW environment variables are used by the
Mj&oslash;lner System.
<P>
<IMG SRC="../images/warning.gif" ALT="Warning!" width=16 height=16 align=left>
<B>Warning</B>: 
Except for the <CODE>Verbose</CODE>, <CODE>Time</CODE>, and
<CODE>BETART</CODE> variables, you should probably not change these
variables yourself.<BR clear=all></P>

<DL>

<DT>
<CODE>{Verbose}</CODE>
<DD>
To analyse the BETA compiler memory usage is could be useful to set
the Verbose option by issuing the following command in the MPW
WorkSheet: 
<BETA>
Set <INX>Verbose</INX> 1
Export Verbose
</BETA>
Output from the garbage collector of the BETA compiler will then be directed to a special window. The following command will turn off the garbage collector  output:
<BETA>
Unset Verbose
Export Verbose
</BETA>

<DT>
<CODE>{Time}</CODE>
<DD>
To analyse the time used by the BETA compiler and the linker set the Time option by:
<BETA>
Set <INX>Time</INX> 1
Export Time
</BETA>
Time usage of the compiler and the linker will be printed in the compiler output window. The following command will turn off the time usage  output:
<BETA>
Unset Time
Export Time
</BETA>

<DT>
<CODE>{betart}</CODE>
<DD>
Example of setting it for an MPW tool:
<BETA>
set BETART &quot;InfoIOA:IOA=512:InfoFile=info.dump&quot; <BR>export BETART
</BETA>
Example of setting for an application:
<P>
For applications the BETART environment variable is read from the
resource of type '<CODE>STR </CODE>' with number <CODE>129</CODE> 
and name <CODE>BETART</CODE>. To change
this resource use a resource editor, e.g. <INX><CODE>ResEdit</CODE></INX>. Specify the value as <CODE>The String</CODE>:
<P></P>
<BLOCKQUOTE>
<IMG ALIGN=TOP WIDTH=408 HEIGHT=274 SRC=betart.gif>
</BLOCKQUOTE>
<P></P>
Then specify the number and name using the Resource Info dialog.

<DT>
<CODE>{<INX>betaLinkLibs</INX>}</CODE>
<DD>
Internal linking variable. Specifies the linker libraries to be used by the BETA compiler when linking (using standard MPW linker). If set, it totally overwrites the default link options, the compiler would have used otherwise.

<DT>
<CODE>{<INX>BetaLinkCreator</INX>}</CODE>
<DD>
Specifies the application creator, default '<CODE>BETA</CODE>'

<DT>
<CODE>{<INX>BetaLinkType</INX>}</CODE>
<DD>
Specifies the application type, default '<CODE>APPL</CODE>'.
</DL>

<P> By using the <CODE>-Application</CODE> and <CODE>-Tool</CODE>
items in the <CODE class=chicago>&szlig;</CODE> menu <CODE>BetaLinkCreator</CODE> and <CODE>BetaLinkType</CODE> is changed to '<CODE>MPS </CODE>' and '<CODE>MPST</CODE>', respectively.</P>





<H2>Using the GNU Emacs Editor</H2>
<P> If you want to use the very popular GNU Emacs text editor as an
alternative to the structure editor included in the Mj&oslash;lner
System Integrated Tool
(<A HREF="../bibliography/index.html#mia99-39">[MIA 99-39]</A>,
<A HREF="../bibliography/index.html#mia99-40">[MIA 99-40]</A>,
<A HREF="../bibliography/index.html#mia99-34">[MIA 99-34]</A>),
you may benefit from the beta-mode for Emacs located in the file 

<BETA>
BETALIB/emacs/beta-mode.el
</BETA>

By putting the following lines of Emacs-Lisp code into your
<CODE>.emacs</CODE> file, you can make Emacs automagically recognize
your BETA source code file if they have the suffix <CODE>.bet</CODE>
(textual BETA files). 

<BETA>
(setq betalib (getenv "BETALIB"))
(if (not betalib) (setq betalib "/usr/local/lib/beta"))
;; or if you are on a PC: 
;; (if (not betalib) (setq betalib "c:\\beta"))

(setq load-path (append load-path 
			(list (format "%s/emacs" betalib))))

(autoload 'beta-mode "beta-mode")
(setq auto-mode-alist (append (list (cons "\\.bet$" 'beta-mode))
                               auto-mode-alist))
</BETA>

<P> When in beta-mode, you can get to know more about beta-mode by
using <CODE>M-x describe-mode</CODE>. Also you may want to
byte-compile <CODE>beta-mode.el</CODE> from within Emacs for improved
performance. The directory <CODE>BETALIB/emacs</CODE> also contains
various other contributions for using Emacs to edit BETA programs. For
instance, the file <CODE>beta-hilit19.el</CODE> contains a setup for
syntactic colouring of your BETA programs when using Emacs version 19
or later</P>
<P> Emacs is available for UNIX, PC and Macintosh.</P>

<H3>Adding the BETA menu</H3>
The BETA menu in Emacs 19 or later can be added using the
<CODE>beta-mode-hook</CODE>:

<BETA>
(defun mybeta ()
   "Adds BETA menu"  
   (interactive)
   (load "beta-menu19" t t)
   )

(setq beta-mode-hook 'mybeta)
</BETA>

<H3>Other useful thing to hook in</H3>

You may do more things using the <CODE>beta-mode-hook</CODE>.
Here is a larger example:

<BETA>
(defun mybeta ()
   "Make the following local bindings in beta-mode:
C-xC-rj   calls beta-comment-justify
C-xC-rC-r calls beta-comment-justify-region
C-xC-rC-c calls beta-convert-region-to-comment
C-xC-ru   calls beta-remove-comment
C-xC-ri   calls indent-buffer.

Also adds BETA menu and beta-hilit19.
"  
   (interactive)
   (local-set-key "\C-x\C-rj"    'beta-comment-justify)
   (local-set-key "\C-x\C-r\C-r" 'beta-comment-justify-region)
   (local-set-key "\C-x\C-r\C-c" 'beta-convert-region-to-comment)
   (local-set-key "\C-x\C-ru"    'beta-remove-comment)
   (local-set-key "\C-x\C-ri"    'indent-buffer)
   (load "beta-menu19" t t)
   (load "beta-hilit19" t t)
   )

(setq beta-mode-hook 'mybeta)
</BETA>


<H2>Documentation on the World Wide Web</H2>

<P> The latest version of these manual pages can always be found on
the <INX>Internet</INX> at the URL</P>

<BLOCKQUOTE>
<A HREF="http://www.mjolner.com/mjolner-system/documentation/index.html">
<CODE>http://www.mjolner.com/mjolner-system/documentation/index.html</CODE>
</A>
</BLOCKQUOTE>

<P> Various other information about BETA and The Mj&oslash;lner System can be found at</P>

Mj&oslash;lner Informatics Homepage:
<BLOCKQUOTE>
<A HREF="http://www.mjolner.com/"><CODE>http://www.mjolner.com/</CODE></A>
</BLOCKQUOTE>


The BETA Language Homepage:
<BLOCKQUOTE>
<A HREF="http://www.daimi.au.dk/~beta/"><CODE>http://www.daimi.au.dk/~beta/</CODE></A>
</BLOCKQUOTE>


<H3>Introductory material</H3>
<P> You may find introductory material in the distribution in</P>

<BLOCKQUOTE>
<A HREF="../tutorials.html"><CODE>BETALIB/doc/tutorials.html</CODE></A>
</BLOCKQUOTE>

<H2>The <INX>comp.lang.beta</INX> Newsgroup</H2>

<P> The <INX>USENET newsgroup</INX> 

<A HREF="news:comp.lang.beta"><CODE>comp.lang.beta</CODE></A>
<INX hidden>comp.lang.beta</INX>

is intended
for discussions about the BETA language and the programs and systems
written in or supporting BETA. Discussions concerning object-oriented
programming principles based on the concepts known from BETA will also
take place in 

<A HREF="news:comp.lang.beta"><CODE>comp.lang.beta</CODE></A>,

possibly cross-posted to 

<A HREF="news:comp.object"><CODE>comp.object</CODE></A>. 
</P>

<P>
The <A HREF="../faq/beta-language-faq.html">BETA language Frequently Asked Questions</A>
 will be posted to 

<A HREF="news:comp.lang.beta"><CODE>comp.lang.beta</CODE></A>,

and the most frequently asked questions from 

<A HREF="news:comp.lang.beta"><CODE>comp.lang.beta</CODE></A>

will be included in the 
<A HREF="http://www.daimi.au.dk/~beta/doc/faq/beta-language-faq.html">
subsequent versions of this FAQ
</A>
<INX hidden>FAQ</INX>.

<H2><INX>Error Reports</INX></H2>

<P> The following e-mail address can be used to send error <INX>reports</INX> and <INX>comments</INX>:</P> 

<BLOCKQUOTE>
<A HREF="mailto:support@mjolner.com"><CODE>support@mjolner.com</CODE></A>
</BLOCKQUOTE>

<P> This is <EM>not</EM> a hot-line support; but all e-mails will be
answered as fast as possible. Mj&oslash;lner Informatics can offer a
contract for hot-line support.</P>

<P>For errors specific to either the <CODE>mjolner</CODE> tool or the
<CODE>beta</CODE> compiler, the following two e-mail addresses may be
used instead:
<P></P>
Mjølner Tool specific errors:
<BLOCKQUOTE>
<A HREF="mailto:bug-mjolner@mjolner.com"><CODE>bug-mjolner@mjolner.com</CODE></A>
</BLOCKQUOTE>

BETA compiler specific errors:
<BLOCKQUOTE>
<A HREF="mailto:bug-beta@mjolner.com"><CODE>bug-beta@mjolner.com</CODE></A>
</BLOCKQUOTE>

<P> The following classification characters can be used to
indicate which priority an error should have in the maintenance
process.</P>

<UL>
<LI><B>B</B> - <INX>Serious bug</INX><BR>
    The tool crashes or produces a wrong result and the error cannot
    be circumvented. 
<LI><B>b</B> - <INX>Minor bug</INX><BR>
    The tool produces a wrong result but the error can be circumvented
<LI><B>I</B> - <INX>Serious inconvenience</INX><BR>
    E.g. lack of important functionality.
<LI><B>i</B> - <INX>Minor inconvenience</INX><BR>
    E.g. lack of functionality that "would be nice to have", but is
    not crucial. 
</UL>

<P> An <INX>error report</INX> should include</P>
<UL>
<LI>a small description the steps that lead to the the error situation
    (if possible) 
<LI>output from the console (if available)
<LI>dumps (if available)
<LI>the smallest possible program that lead to the error situation  
(if possible). Here the <A HREF="../manpages/betatar.html">betatar</A> 
program might be useful.
</UL>

On UNIX systems, the shell scripts in <CODE>$BETALIB/bin</CODE>, which
invokes the <CODE>beta</CODE> compiler and the <CODE>mjolner</CODE>
tool can be configured to cause automatic collecting of the necessary
information and sending of it to Mj&oslash;lner Informatics in case of
serious bugs. This is done by setting the <CODE>BETAREPORT</CODE> environment
variable to the value "<CODE>yes</CODE>":

<BETA>
setenv BETAREPORT yes
</BETA>

Errors in manuals can be reported using the on-line
<A HREF="../manualerror/index.html">Manual Error Reporting Facility</A>.

<H2> Legal Notice</H2>
<P> 
<FONT SIZE="-1">
Apple and Macintosh are registered trademarks of Apple Computer, Inc.<BR>
MPW is a trademark of Apple Computer, Inc.<BR>
UNIX is a registered trademark of AT&amp;T.<BR>
Motorola is a trademark of Motorola, Inc.
</FONT>
</P>



