<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>

<HEAD>




<TITLE> 1  Installation Guide for PC's running Windows NT / 95 / 98 / 2000</TITLE>
<LINK REL=stylesheet HREF=../style/miadoc.css TYPE=text/css>

</HEAD>
<BODY>


<A NAME=HEADING3></A>


<P><A HREF=install-unix.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=index.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>

<A HREF="../index.html"><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF="index.html#_toc"><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>
<P>Installation Guide</P>


<A NAME=HEADING3-0></A>
<H1> <A NAME="LINK-install-_Toc402869257"><A NAME=MARKER-9-3></A>1  Installation Guide for PC's running Windows NT / 95 / 98 / 2000</A></H1>
<P> This chapter contains the installation guide for the Mj&oslash;lner System on Windows NT and Windows 95 using the Microsoft or GNU SDK.</P>
<A NAME=HEADING3-2></A>
<H2> 1.1 Minimum Requirements <A NAME=MARKER-2-5></A></H2>
<P> Requirements for using the Mj&oslash;lner System on Windows NT/95/98/2000:</P>
<P> </P>
<UL>
<LI>CPU: 386/486/586/Pentium or compatible.
<LI>RAM: At least 16Mb RAM. 32Mb (or more) recommended.
<LI>Free disk space: Approximately 80Mb
<LI>Linker and standard C libraries from either Microsoft or GNU
<LI>Windows 95/98/2000 or Windows NT 3.5.1/NT 4.0 or later.
</UL>
<A NAME=HEADING3-10></A>
<H2> 1.2 Installation</H2>
<A NAME=HEADING3-11></A>
<H3> 1.2.1 Run the setup program<A NAME=MARKER-2-6></A></H3>
<P> To install The Mj&oslash;lner System, run the Setup Program, which can be found on the Mj&oslash;lner System CD in the folder named</P>
<P> </P>
<PRE CLASS=beta>
	\windows\&lt;SDK&gt;\Disk1
</PRE>
<P> </P>
<P> where &lt;SDK&gt; is one of the following: ms or gnu..</P>
<P> </P>
<P> The Setup Program installs The Mj&oslash;lner System on your system in the directory you specify. Throughout the rest of this document, BETALIB refers to the directory chosen here.</P>
<A NAME=HEADING3-19></A>
<H4> </H4>
<A NAME=HEADING3-20></A>
<H3> 1.2.2 Set up Environment Variables<A NAME=MARKER-2-7></A></H3>
<P> When the installation is completed you should make sure that the programs and batch files are in your path. If you installed the Mj&oslash;lner System in e.g. C:\BETA, the batch files are located in C:\BETA\bin and the programs are in C:\BETA\bin\nti_&lt;SDK&gt;.</P>
<P> </P>
<P> BETALIB should point to the location of the installation directory of the Mj&oslash;lner System, e.g. C:\BETA.  If not set, the system uses the path chosen during the installation.</P>
<P> </P>
<P> The setup for the Microsoft tools could look something like:</P>
<P> </P>
<PRE CLASS=beta>
set PATH=C:\MSDEV\BIN;%PATH%
set LIB=C:\MSDEV\LIB;
set PATH=C:\BETA\BIN;C:\BETA\BIN\NTI_MS; %PATH%
</PRE>
<P> </P>
<P> The setup for the Gnu tools could look something like:</P>
<P> </P>
<PRE CLASS=beta>
set GNU=C:\GNU
set PATH=C:\%GNU%\BIN;%PATH%
set PATH=C:\BETA\BIN;C:\BETA\BIN\NTI_GNU; %PATH%
set GCC_EXEC_PREFIX=%GNU%\LIB\GCC-LIB\
set C_INCLUDE_PATH=%GNU%\INCLUDE
set LIBRARY_PATH=%GNU%\LIB
</PRE>
<P> </P>
<P> You can make Windows NT set the environment variables automatically each time you log in via the System tool in the Control Panel.</P>
<P> You can make Windows 95 set the environment variables automatically each time you log in by setting them in the file c:\autoexec.bat.</P>
<P> If you install the Mj&oslash;lner System for more than one SDK, you can use the same location for all installations, as most of the files are shared.</P>
<A NAME=HEADING3-43></A>
<H2> 1.3 Installing an SDK</H2>
<P>  To use the Mj&oslash;lner System you must also install one of the following:</P>
<P> Microsoft Win32SDK including: a linker: LINK.EXE, a make program: NMAKE.EXE (optional) and C libraries. These can be obtained through e.g. Microsoft Visual C++ v4.0 or later. NMAKE.EXE is only needed if the MAKE property is used, which is not recommended.</P>
<P> GNU Win32SDK including: a linker: LD.EXE and GCC.EXE, a make program: GMAKE.EXE (optional) and C libraries. GMAKE.EXE is only needed if the MAKE property is used, which is not recommended.</P>
<P> </P>
<A NAME=HEADING3-48></A>
<H3> 2.3.1. Installing the Microsoft Win32SDK</H3>
<P> You will need to install the Microsoft SDK including all library files. Also, make sure that you have the LINK.EXE program in your path. This program may not be installed automatically -- if this is the case simply locate it on your CD-ROM and copy it to a directory in your path. </P>
<A NAME=HEADING3-50></A>
<H3> 2.3.2. Installing the Gnu Win32SDK</H3>
<P> You can download the Gnu Win32SDK from the internet.  It is available at many sites, including</P>
<P> <EM>http://agnes.dida.physik.uni-essen.de/~janjaap/mingw32/</EM></P>
<P> </P>
<P> Download the packages marked [required].</P>
<P> For your convenience we have included the files used to build the beta system on the CD.</P>
<P> Then follow the instructions for the installation.</P>
<A NAME=HEADING3-57></A>
<H2> 1.4 Notes</H2>
<UL>
<LI>You must NOT install the Mj&oslash;lner System in a directory containing spaces in the path. 
<LI>If you are installing on Windows NT you must have Administrator privileges. Otherwise no program group will be created.<A NAME=MARKER-2-8></A>
<LI>The file &quot;DelsLog.1&quot; located in BETALIB is a file used by the uninstall mechanism. It should not be deleted.
</UL>
<A NAME=HEADING3-61></A>
<H2> 1.5 Windows Specific Issues</H2>
<A NAME=HEADING3-62></A>
<H3> 1.5.1 Using Windows Resource Files<A NAME=MARKER-2-9></A></H3>
<P> You may use Windows resource files in your BETA programs. You do this by specifying a RESOURCE property<A NAME=MARKER-2-10></A>, e.g.</P>
<PRE CLASS=beta>
ORIGIN '~beta/basiclib/betaenv';
RESOURCE nti 'foo.res';
-- PROGRAM:descriptor--
(# do ...
#)
</PRE>
<P> This specifies, that when linking, the foo.res precompiled resource file should be included. You may also specify inclusion of a non-compiled resource file (foo.rc). This will make the compiler generate appropriate calls of the resource compiler for the SDK used. If you are using Microsoft SDK, this requires, that you have the RC.EXE <A NAME=MARKER-2-11></A>tool installed, and that it can be found in your path. If you use the Borland SDK, it requires that BRCC32.EXE<A NAME=MARKER-2-12></A> is installed and is in your path.</P>
<A NAME=HEADING3-71></A>
<H3> 1.5.2 Calling External Functions</H3>
<P> As shown in, e.g. <A HREF="../bibliography/index.html#mia94-24">[MIA 94-24]</A>, functions and procedures produced by the C compilers can be called from within BETA. Normally you will just prefix your pattern with external<A NAME=MARKER-2-13></A> to achieve this. On Windows NT/95 there are, however, two different ways to call C:</P>
<UL>
<LI>1. If the C function is declared as __stdcall<A NAME=MARKER-2-14></A>, you must specify callStd <A NAME=MARKER-2-15></A>in the do-part of the BETA external declaration, e.g.
<LI> In C:
</UL>
<PRE CLASS=beta>
		int __stdcall foo1();
</PRE>
<UL>
<LI> In BETA:
</UL>
<PRE CLASS=beta>
		foo1: external
		  (# result: @integer;
		  do callStd;
		  exit result
		  #);
</PRE>
<UL>
<LI> Notice, that many C header files has defined WINAPI <A NAME=MARKER-2-16></A>as an alias for __stdcall.
<LI>2. Otherwise you can specify callC <A NAME=MARKER-2-17></A>in the do-part. This is default, so leaving out the do-part is equivalent.
</UL>
<A NAME=HEADING3-85></A>
<H3> 1.5.3 Linking without Console<A NAME=MARKER-2-18></A></H3>
<P> By default the programs are linked in such a way that they always include a console. To avoid this you can use 'switch 71' on the compiler.  (run 'beta foo.bet' to link foo.exe without a console) </P>
<A NAME=HEADING3-87></A>
<H2> 1.6 Additional Information for the Windows Implementation</H2>
<A NAME=HEADING3-88></A>
<H3> 1.6.1 Limitations for the Windows Implementation</H3>
<P> See <EM>http://www.daimi.aau.dk/~beta/FAQ/#PartV</EM></P>
<P> (PartV: Platform Specific Issues).</P>
<P> </P>




<HR>
<P>
<TABLE cols=3 border=0 width=100%>
<TR>
<TD width="40%" align="left">
<ADDRESS>Installation Guide</ADDRESS>
</TD>
<TD width="20%" align="center"><FONT size=-1>&COPY; <A HREF="http://www.mjolner.com">Mj&oslash;lner Informatics</A></FONT></TD>
<TD width="40%" align="right"><SCRIPT LANGUAGE=JavaScript SRC="../javascript/lastmod.js"></SCRIPT></TD>
</TABLE>
<P>
<P><A HREF=install-unix.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=index.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>

<A HREF="../index.html"><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF="index.html#_toc"><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>


</BODY>
</HTML>
