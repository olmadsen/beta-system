<H1> Figure Items</H1>
<P> As described above, the responsibility for the contents of an instance of window relies on the programmer.  To aid the programmer in making graphics, Guienv defines a number of patterns for drawing lines, rectangles (with sharp or round corners), ovals, wedges and polygons.  </P>
<center> <IMG ALIGN=TOP SRC=figureitems-hierarchy.gif></center>

<P> FigureItem is a subpattern of windowItem and inherits as such all
its functionality (including the event handling possibilities) and
defines the basic properties that are shared by all figure items.  A
figure item have a pen to be used for drawing the item.  The pen
defines attributes for defining the drawing pattern, the foreground
and background colors, and the size of the pen (a rectangle).</P>

<P> Line is a straight line and defines the attributes start and end
for accessing and changing the end-points of the line.</P>

<P> Shape is used as superpattern to all figure items that are defined
by means of a rectangle and can be filled.   Shape contains a fill
attribute which defines the facilities for filling the shape (i.e. the
tile pattern and the foreground and background colors to be used for
the fill).</P>

<TABLE BORDER=1 CLASS=opaque>
<TR VALIGN=MIDDLE>
<TD><P> Rect is a real figure item in the sense that it is extending
all figureItem procedures such that an instance of rect can be
properly drawn in a window.</P> 
</TD>
<TD><IMG ALIGN=TOP SRC="rect-item.gif">
</TD>
</TR>

<TR VALIGN=MIDDLE>
<TD><P> RoundRect is like rect, except that it also defines roundness
to takes two integers, defining the round corners by defining the
width and height of the oval in the corners.  If R is an instance of
roundRect, then</P>

<PRE CLASS=beta>
(OW, OH) -&gt; R.roundness
</PRE>

<P> defines the rectangle seen here.</P>
</TD>
<TD>
<IMG ALIGN=TOP SRC="roundrect-item.gif">
</TD>
</TR>

<TR VALIGN=MIDDLE>
<TD><P> Oval is also like rect except that an oval is drawn.</P>
</TD>
<TD><IMG ALIGN=TOP SRC="oval-item.gif">
</TD>
</TR>

<TR VALIGN=MIDDLE>
<TD><P> Wedge is like oval, except that it also defines startAngle and endAngle which takes one integers, defining the start and end angles of the arc.  If A is an instance of wedge, then</P>
<PRE CLASS=beta>
SW -&gt; A.startAngle
EW -&gt; A.endAngle
</PRE>
<P> defines the wedge seen here.</P>
</TD>
<TD>
<IMG ALIGN=TOP SRC="wedge-item.gif">
</TD>
</TR>

<TR VALIGN=MIDDLE>
<TD><P> Polygon is a figure item that consists of a collection of connected line segments.  The points defining the polygon is specified by:</P>
<PRE CLASS=beta>
   p: [6] ^point
do &amp;point[]-&gt;p[1][]; (3,3)  -&gt;p[1];
   &amp;point[]-&gt;p[2][]; (5,7)  -&gt;p[2];
   &amp;point[]-&gt;p[3][]; (4,45) -&gt;p[3];
   &amp;point[]-&gt;p[4][]; (30,45)-&gt;p[4];
   &amp;point[]-&gt;p[5][]; (44,3) -&gt;p[5];
   &amp;point[]-&gt;p[6][]; (1,55) -&gt;p[6];
   go.open;
   p[]-&gt;go.points
</PRE>
</TD>
<TD>
<IMG ALIGN=TOP SRC="poly-item.gif">
</TD>
</TR>
</TABLE>

<P> Drawing using figure items is as simple as:</P>
<P> </P>

<H4 class=betacaption> oval.bet</H4>
<PRE CLASS=beta>
ORIGIN '~beta/guienv/guienv';
INCLUDE '~beta/guienv/figureitems' 
--- program: descriptor ---
guienv
(# aWindow: @window
     (# go: @oval
          (# open::
               (# 
               do (100, 100)-&gt;position;
                  (50, 100)-&gt;size;
                  7-&gt;pen.size
               #)
          #);
        eventhandler::
          (# onAboutToClose:: (# do terminate #) #);
        open:: 
          (# 
          do (100, 100)-&gt;position;
             (300, 300)-&gt;size;
             'oval'-&gt;title;
             go.open
          #)
     #)
do aWindow.open
#)
</PRE>
<P> This creates a window with an oval, positioned in (100, 100) and
with the oval drawn using a 7x7 sized pen.</P>

<H4 class=betacaption> Screendump<BR>(Windows NT)</H4>

<BLOCKQUOTE>
<IMG ALIGN=TOP SRC=oval.gif>
</BLOCKQUOTE>





