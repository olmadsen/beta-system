<H1> Control Items</H1>
<P> Control items are the bread and butter of dialogs.  Control items exists in seven different forms (all subpatterns of windowItem), namely text labels, text fields (editable), buttons, check boxes, radio boxes, icons and pictures.  These control items are defined as subpatterns of the control pattern.  </P>

<P>
The inheritance tree of
controls in the controls library is:</P>

<P> <center><IMG ALIGN=center SRC=controlhierarchy.gif></center></P>

<P> To illustrate the facilities, we have included the Macintosh graphical elements associated with these classes. Naturally, the graphical elements will appear differently on the Motif and Win32 platforms:</P>
<P> </P>
<TABLE BORDER=1 class=opaque><CAPTION><P> </P>
</CAPTION><TR VALIGN=TOP><TH><P> Control pattern name</P>
</TH><TH><P> Image</P>
</TH><TH><P> Description</P>
</TH></TR><TR VALIGN=TOP><TD><P> scrollbar</P>
</TD><TD><P> <IMG ALIGN=TOP SRC=scrollbar.gif></P>
</TD><TD><P> Used for various scrolling purposes.</P>
</TD></TR><TR VALIGN=TOP><TD><P> staticText</P>
</TD><TD><P> <IMG ALIGN=TOP SRC=staticText.gif></P>
</TD><TD><P> Used to specify permanent text in the dialog (usually explanatory text).</P>
</TD></TR><TR VALIGN=TOP><TD><P> editText</P>
</TD><TD><P> <IMG ALIGN=TOP SRC=editText.gif></P>
</TD><TD><P> Used to allow the user to enter some text.</P>
</TD></TR><TR VALIGN=TOP><TD><P> pushButton</P>
</TD><TD><P> <IMG ALIGN=TOP SRC=pushButton.gif></P>
</TD><TD><P> A button is used to specify some actions to be taken.</P>
</TD></TR><TR VALIGN=TOP><TD><P> optionButton</P>
</TD><TD><P> <IMG ALIGN=TOP SRC=optionButton.gif></P>
</TD><TD><P> Used to specify a button with associated pop-up menu.</P>
</TD></TR><TR VALIGN=TOP><TD><P> checkBox</P>
</TD><TD><P> <IMG ALIGN=TOP SRC=checkBox.gif></P>
</TD><TD><P> A check box is usually used together with other check boxes to present the user with a group of non-exclusive options.</P>
</TD></TR><TR VALIGN=TOP><TD><P> radioButton</P>
</TD><TD><P> <IMG ALIGN=TOP SRC=radioButton.gif></P>
</TD><TD><P> A radio box is usually used together with other radio boxes to present the user with a group of exclusive options.</P>
</TD></TR><TR VALIGN=TOP><TD><P> iconButton</P>
</TD><TD><P> <IMG ALIGN=TOP SRC=iconButton.gif></P>
</TD><TD><P> An icon is used to show a minor picture in the dialog.</P>
</TD></TR></TABLE><P> </P>

<P> The control pattern is a subpattern of windowItem and inherits as such all its facilities (size, position, event handling, etc.).  The actions to be associated with a control must be specified in further bindings of e.g. the virtual event pattern onMouseDown.  Control defines some other facilities that can be ignored for most Lidskjalv applications.</P>
<P> Scrollbar defines various attributes for controlling the scrollbar (scrollAmount, maxValue and value). Besides the eventhandler, a new event patterns are defined: onThumbMoved. OnThumbMoved is invoked when the user moved the scroll thumb.  The orientation (vertical or horizontal) is controlled through the vertical attribute, such that true-&gt;vertical specifies the scrollbar to be vertical (horizontal for false).  Finally, the length of the scrollbar is controlled by the length attribute.</P>
<P> Button is also a subpattern of control and is the superpattern for the rest of the controls.  The attributes of button are controlling the label (text and text style), associated with all buttons.</P>
<P> PushButton and staticText are simple subpatterns of button.  IconButton is another simple subpattern of button, only defining one new attribute showLabel for controlling whether the label should be shown or not.</P>
<P> EditText is implementing a one-line text editor to be used for simple text specifications (file names etc.)  The text style of the text is controlled by the style attribute, and the contents of the editText can be manipulated through the contents attribute.  That is, if T is a text, and ET is a editText, then T[]-&gt; ET.contents sets the text shown in the editText control  to the contents of T (i.e. setting the initial contents), and ET.contents-&gt;T[] copies the contents of the editText control into T (i.e. reading the user input).</P>
<P> OptionButton defines a field which will pop-up a menu in response to the user pressing the mouse button on top of the field.  The attributes of optionButton controls the associated menu and the currently selected menu item (shown inside the field).</P>
<P> ToggleButton is the common superpattern for the RadioButton and CheckBox controls.  ToggleButton controls a binary state.  A series of RadioButtons  are used for specifying a set of exclusive options, and one or more checkBoxes are used for specifying a set of non-exclusive options.</P>
<P> Finally, one of the buttons in the window can be specified to function as a default button (i.e. be activated by pressing carriage return) by entering a reference to it to defaultButton.</P>
<P> The following example illustrates the use of controls:</P>
<P> </P>
<H4 class=betacaption> dialog.bet</H4>
<PRE CLASS=beta>
ORIGIN '~beta/guienv/guienv';
INCLUDE '~beta/guienv/controls'
--- program: descriptor ---
guienv
(# authorName: @text;
   isReport: @boolean;
   theDialog: @window 
     (# cTitleLabel: @staticText 
          (# open:: 
               (# 
               do (10, 10)-&gt;position; (95,25)-&gt;size;
                  'Title: '-&gt;label
          #) #);
        cTitle: @editText 
          (# open::
               (# do (115, 10)-&gt;position; (150,25)-&gt;size #)
          #);
        cAuthorLabel: @staticText 
          (# open:: 
               (# 
               do (10, 40)-&gt;position; (95,25)-&gt;size;
                  'Author: '-&gt;label
          #) #);
        cAuthor: @editText 
          (# open:: 
               (# do (115, 40)-&gt;position; (150,25)-&gt;size #)
          #);
        cReport: @checkBox 
          (# open:: 
               (# 
               do (10, 70)-&gt;position;  (100,25)-&gt;size;
                  'Report'-&gt;label
               #);
             eventhandler:: 
               (# onMouseUp:: (# do not state-&gt;state #) #);
          #);
        cCancel: @pushButton
          (# open:: 
               (# 
               do (115, 70)-&gt;position; (80,25)-&gt;size;
                  'Cancel'-&gt;label
               #);
             eventhandler:: 
               (# onMouseUp:: (# do theDialog.close #) #)
          #);
        cOk: @pushButton
          (# open:: 
               (# 
               do (115+150-30, 70)-&gt;position; (30,25)-&gt;size; 
                  'OK'-&gt;label
               #);
             eventhandler:: 
               (# onMouseUp:: 
                    (# 
                    do (* store values, then *)
                       theDialog.close
               #) #)
          #);
        eventhandler::
          (# onAboutToClose:: (# do terminate #) #);
        open:: 
          (# 
          do (40,40)-&gt;position; (275,100)-&gt;size;
             'dialog'-&gt;title;
             cOk.open; cCancel.open;
             cTitleLabel.open; cTitle.open;
             cAuthorLabel.open; cAuthor.open;
             cReport.open;
             cOk[]-&gt;defaultButton
          #)
     #)
do theDialog.open;
   theDialog.showModal
#)
</PRE>
<H4 class=betacaption> screendump<BR>(Windows NT)</H4>
<BLOCKQUOTE>
<IMG ALIGN=TOP SRC=dialog.gif>
</BLOCKQUOTE>

<P> This defines a dialog with two buttons, two editable text fields, two static text fields, and one check box (all enabled). </P>





