<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>

<HEAD>




<TITLE> Event Handling in Windows</TITLE>
<LINK REL=stylesheet HREF=../style/miadoc.css TYPE=text/css>

</HEAD>
<BODY>


<A NAME=HEADING16></A>


<P><A HREF=lidskjalv-tut-17.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=lidskjalv-tut-15.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=lidskjalv-tut-15.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF="../index.html"><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF="index.html#_toc"><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>

<P> Windows</P>


<A NAME=HEADING16-0></A>
<H1> Event Handling in Windows</H1>
<P> All user activities with the mouse, keyboard, etc. are turned into events by the underlying window system.  Lidskjalv turns the window relevant events into invocations of virtual procedure patterns, defined in the eventhandler of the window.  Eventhandler defines the following virtual patterns: onActivate, onDeactivate, onRefresh, onKeyDown, onMouseDown, onMouseUp, and onAboutToClose.  </P>
<P> These patterns are invoked when the corresponding event occurs and further bindings of these patterns may specify actions to be executed then. OnActivate is invoked when this window is becoming the active window and onDeactivate is invoked when another window becomes the active window.  OnRefresh is invoked when the window has been corrupted (e.g. when the window is opened or when another window, which is obscuring parts of this window, is moved).  OnKeyDown is invoked when the user presses a key on the keyboard.  OnKeyDown takes one parameter which is the character associated with that key.  OnMouseDown is invoked when the user presses the mouse button and  onMouseUp is invoked, when the user releases the mouse button.  OnAboutToClose is invoked when the mouse button is pressed when the cursor is located in the Close box.   E.g.:</P>
<P> </P>
<H4 class=betacaption> windowWithEvents.bet</H4>
<PRE CLASS=beta>
ORIGIN '~beta/guienv/guienv'
--- program: descriptor ---
guienv
(# eventWindow: @window
     (# open:: 
          (# 
          do (100,100)-&gt;position;
             (300,300)-&gt;size;
             'windowWithEvents'-&gt;title
          #);
        eventhandler::
          (# onAboutToClose:: (# do terminate #);
             onRefresh:: (# do 'refresh'-&gt;putline #);
             onMouseDown:: (# do 'mouseDown'-&gt;putline #)
          #)
     #)
do eventWindow.open;
#) 
</PRE>
<H4 class=betacaption> screendumps (Windows 95)</H4>

<BLOCKQUOTE>
<IMG ALIGN=TOP SRC=windowwithevents.gif> &nbsp;
<IMG ALIGN=TOP SRC=windowwithevents-console.gif>
</BLOCKQUOTE>

<P> </P>
<P> The refresh and mouseDown printouts originates from user interaction with the window.</P>




<HR>
<P>
<TABLE cols=3 border=0 width=100%>
<TR>
<TD width="33%" align="left">
<ADDRESS>User Interface Toolkit - Tutorial</ADDRESS>
</TD>
<TD width="34%" align="center"><FONT size=-1>&COPY; <A HREF="http://www.mjolner.com">Mj&oslash;lner Informatics</A></FONT></TD>
<TD width="33%" align="right"><FONT size=-1><SCRIPT LANGUAGE=JavaScript SRC="../javascript/lastmod.js"></SCRIPT></FONT></TD>
</TABLE>
<P>
<P><A HREF=lidskjalv-tut-17.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=lidskjalv-tut-15.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=lidskjalv-tut-15.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF="../index.html"><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF="index.html#_toc"><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>



</BODY>
</HTML>
