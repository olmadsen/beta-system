<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN"><HTML><!-- Generated by Harlequin WebMaker 3.0.3 (Beta 10, 20-May-1997 experimental) --><HEAD><LINK REL=TOP HREF=bifrost-ref-1.html><LINK REL=UP HREF=bifrost-ref-45.html><LINK REL=PREV HREF=bifrost-ref-48.html><LINK REL=NEXT HREF=bifrost-ref-50.html><TITLE> 10.4 Modifiers and constraints</TITLE><META NAME=GENERATOR CONTENT="Harlequin WebMaker 3.0.3 (Beta 10, 20-May-1997 experimental)"></HEAD><BODY><DIV><A NAME=HEADING49></A><DIV><P><A HREF=bifrost-ref-50.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A><A HREF=bifrost-ref-48.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A><A HREF=bifrost-ref-45.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A><A HREF="../index.html"><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A><A HREF="index.html#_toc"><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A><A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P><P> 10 Interaction</P></DIV><A NAME=HEADING49-0></A><H1> 10.4 Modifiers and constraints</H1><P> Several of the interaction methods previously presented take a modifier as one of their arguments. This section elaborates on modifiers, and presents the constraints they impose on the interactions.</P><P> A keyboard modifier is a &quot;pseudo-key &quot;on the keyboard, that when kept down during a normal key press, will modify the meaning of the action. Usually there are at least three modifiers on a keyboard: The Shift key, the Control key, and the Meta key. The Meta key is often labelled something else than Meta: On some Hewlett Packard keyboards it is labelled Extend Char, on some Sun workstation keyboards there are two Meta keys, labelled Left and Right, respectively, on some Sun SPARC keyboards it is labelled Alt, on most Macintosh keyboards it is labelled Alt, etc&Eacute;</P><P> As mentioned a modifier key is not a normal key, e.g. it will not invoke the onKeyDown virtual of a Canvas eventhandler, if the modifier key is pressed alone. Instead the modifier changes (modifies) the meaning of the normal keys, if the modifier is held down when the normal key is pressed.</P><P> Shift </P><UL><LI> makes the character typed become upper case. Technically 32 is added to the numerical value of the character, i.e., the 5'th bit of the 7 or 8 bit a character is represented by, is set.</UL><P> Control</P><UL><LI> subtracts 64 from the numerical value of the character, i.e., clears the 7'th bit.</UL><P> Meta</P><UL><LI> adds 128 to the numerical value of the character, i.e. sets the 8'th bit.</UL><P> Modifiers can also be used during interaction with the mouse. This does not change anything directly, but is usually used to modify the feedback during the interaction. This is why the onButtonDown virtual of a Canvas eventhandler contains some booleans, indicating if the corresponding modifier was ON when the mouse button was pressed. E.g., if shiftmodified is true, it means that the shift modifier was ON when the mouse button was pressed.</P><P> InteractiveCreateShape, InteractiveReshape, and InteractiveMove in the Canvas pattern, and the corresponding methods of graphical objects and shapes all have an enter parameter called theModifier, that is used to specify what modifier to use to make the interaction constrained. Thus if ShiftModifier is used, it means that if holding down the Shift key during the interaction, the interaction will be constrained in some way, see below. A pseudo modifier called NoModifier has been defined to specify that all modifiers should be ignored, i.e., the interaction should not be constrainable.</P><A NAME=HEADING49-12></A><H1> 10.4.1 Default constraints in Bifrost</H1><P> bdraw</P><P> Bifrost contains a small graphical editor, bdraw<A NAME=MARKER-2-193></A>, residing in the directory ~beta/ bifrost/current/bdraw. Thus the interaction forms of the different graphical objects, and the constraints the modifiers impose on them can be tried in practice. In bdraw, Shift is used as the modifier.</P><P> Here is a short overview of the interaction forms when creating, moving and reshaping the different graphical objects:</P><P> InteractiveCreate</P><UL><UL><LI>Rect:<LI> The feedback is a &quot;rubber rectangle&quot;, defined by the start point and the position of the mouse. If theModifier is ON, the Rect is constrained to be a square. The interaction stops when the mouse is clicked.<LI>Ellipse:<LI> The feedback is a &quot;rubber ellipse&quot; defined by the start point and the mouse position. If theModifier is ON, the Ellipse is constrained to be a circle. The interaction stops when the mouse is clicked.<LI>GraphicalObject:<LI> Control points are added by clicking the left mouse button. The feedback is a &quot;rubber line&quot; from the previous control point added to the mouse position, and another line from the start point to the mouse position. If theModifier is ON, SplineSegment control points are added, otherwise LineSegment. The interaction stops when the right mouse button is clicked. On machines with only one mouse button the interaction is stopped by double-clicking the mouse button.<LI>PieSlice:<LI> The interaction has two phases: First a rectangle with an inscribed ellipse is laid out, to define what ellipse the PieSlice should be a slice of. This phase is much like InteractiveCreate of an Ellipse. The second phase is determining the two angles defining the slice. This is done using &quot;rubber lines&quot; from the center to the periphery of the ellipse, in direction towards the mouse position. Each of the two angles are set when the mouse is clicked. When the last angle is determined, the interaction stops. If theModifier is ON, in the first phase, the ellipse is constrained to be a circle. In the second phase, angles are constrained to be multiples of 45 degrees.<LI>GraphicsText:<LI> The interaction is done via the keyboard. Characters are typed in the normal way, and typing Return will end the interaction. A mouse click will also stop the interaction. During the interaction, the end of the text being typed is marked with a vertical bar (&quot;insertion point&quot;).<LI>Line:<LI> The feedback is a &quot;rubber line&quot; from the start point to the mouse position. If theModifier is ON, the angles of the rubber line is constrained to multiples of 45 degrees. The interaction is stopped by clicking the mouse.<LI>MultiLine:<LI> Control points are set using the left mouse button. During this phase, the interaction is a &quot;rubber line&quot; from the previous control point to the mouse position. The interaction is stopped by clicking the right mouse button. If theModifier is ON, the angles of the rubber line is constrained to multiples of 45 degrees. On machines with only one mouse button the interaction is stopped by double-clicking the mouse button.<LI>Arc<LI> The interaction is like InteractiveCreate for PieSlice, except that &quot;moving points&quot; on the periphery is used instead of &quot;rubber lines&quot; from the centre to the periphery during specification of angles in the second phase. </UL></UL><P> InteractiveMove</P><UL><LI> The outline of the graphical object follows the movements of the mouse. If theModifier is held down, the movement is constrained to horizontal and vertical directions. The interaction stops when the mouse button is released.</UL><P> InteractiveReshape</P><UL><LI> For all kinds of graphical objects<EM><A REL=FOOTNOTE HREF="#FOOTNOTE-10">[10]</A></EM> InteractiveReshape is initiated by grabbing a control point and dragging it around, thus causing the shape to be altered. In GraphicalObject, the theModifier argument of InteractiveReshape is currently ignored, but for the other object kinds, if theModifier is ON, the interaction is constrained in the same way as during InteractiveCreate. When reshaping a PieSlice or an Arc, grabbing one of the &quot;corners&quot; will change either the horizontal radius or the vertical radius of the object, whereas grabbing one of the two control points on the periphery defining the angles will change the corresponding angle.</UL></DIV><DIV><DIV><HR><A NAME=FOOTNOTE-10>[10] </A> Except for GraphicText, for which InteractiveReshape is not yet implemented </DIV></DIV><DIV><HR><P><TABLE cols=3 border=0 width=100%><TR><TD width="33%" align="left"><ADDRESS>Bifrost - Reference Manual</ADDRESS></TD><TD width="34%" align="center"><FONT size=-1>&COPY; <A HREF="http://www.mjolner.com">Mj&oslash;lner Informatics</A></FONT></TD><TD width="33%" align="right"><FONT size=-1><SCRIPT LANGUAGE=JavaScript SRC="../javascript/lastmod.js"></SCRIPT></FONT></TD></TABLE><P><P><A HREF=bifrost-ref-50.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A><A HREF=bifrost-ref-48.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A><A HREF=bifrost-ref-45.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A><A HREF="../index.html"><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A><A HREF="index.html#_toc"><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A><A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P></DIV></BODY></HTML>