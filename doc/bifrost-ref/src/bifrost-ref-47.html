<H2>Feedback</H2>
<P> Bifrost supports two different forms of <INX>feedback</INX>. 
One is the feedback generated when the
user is creating or modifying a graphical object. The primives in
Bifrost for this kind of feedback is presented in section 
<A HREF="#canvasfeedback">Canvas Primitives for Feedback</A> and 
<A HREF="#segmentfeedback">Segment Primitives for Feedback</A>

below.</P>

<P> The second kind is the feedback used, e.g., to identify a of
selection of graphical objects,  e.g. by highlighting of the control
points or outlining the shape. This is elaborated upon in section <A
HREF="bifrost-ref-48.html">Interaction Facilities in the Shape</A>,
which also presents other interaction facilities of the Shape
pattern.</P>

<P> Finally section <A HREF="bifrost-ref-49.html">Modifiers and
constraints</A> deals with the notion of modifiers,
i.e. pseudo-buttons used to modify the meaning of another key or a
mouse button being pressed.</P>


<A NAME="canvasfeedback"></A>
<H3>Canvas Primitives for Feedback</H3>
<P> Feedback drawing is done in immediate mode, that is, the feedback is not a graphical object with a shape and a paint defined. Immediate drawings are not inserted into the canvas picture. </P>
<P> Immediate mode drawing is supported in the Canvas by the following
operations, which should typically be performed in <INX>XOR mode</INX>
to allow easy erasing (by simply redrawiingthe
feedback a second time). Notice, that the Hilite and Unhilite patterns
of graphical objects, as well as Initialize of the InteractionHandler
pattern of Canvas automatically puts the Canvas into XOR mode.</P>


<DL>
<DT>
<B><INX>SetImmediateLineWidth</INX></B>. 
<DD>
Set the line width for subsequent immediate drawings.

<DT>
<B><INX>ImmediateLine</INX></B>.
<DD>
Draws a line between the two points specified as arguments.

<DT>
<B><INX>ImmediateDot</INX></B>.
<DD>
Takes one point as argument and draws a dot of the size of one device
pixel at the point.

<DT>
<B><INX>ImmediateSpot</INX></B>.
<DD>
Takes one point as argument and draws a small filled square
(approx. 2x2mm) around the point.

<DT>
<B><INX>ImmediateMultiLine</INX></B>.
<DD>
Draws a line between the points in the PointArray specified as arguments.

<DT>
<B><INX>ImmediateRect</INX></B>.
<DD>
Takes one point, a width, and a height as arguments and draws a
rectangle with Upperleft at the point.

<DT>
<B><INX>ImmediateText</INX></B>.
<DD>
Enters a text (possibly with embedded newlines), a position, and the text attributes FontName, Style,
Size, and UnderLine, and draws the text at the position in the
specified way.
</DL>


<A NAME="segmentfeedback"></A>
<H3>Segment Primitives for Feedback</H3>
<P> The building blocks of the shape, LineSegment and SplineSegment,
define an operation DrawRubberBand, constructed by the immediate
primitives above, to draw feedback:</P> 

<DL>
<DT>
<B><INX>DrawRubberBand</INX></B>. 
<DD>
Enters a point (NewPoint), an index into spline control points
(ignored if the segment is a line segment), and a reference to the
next segment (NextSeg) and draws a rubber line in either of the
following two ways: 

<TABLE BORDER=0 cellpadding=10>
<TR VALIGN=TOP>
<TH>LineShape</TH>
<TH>SplineSegment</TH>
</TR>

<TR VALIGN=TOP>
<TD>
This LineShape example has four line segments where two participate
in the interaction.  
</TD>
<TD>
Draws a local spline rubberband around the control point specified at
control index. NextSeg is used when the control index is the last
index of the spline. 
</TD>
</TR>

<TR VALIGN=TOP>
<TD>
<center><GIF ALIGN=TOP SRC=images/linerubberband.gif></center>

</TD>
<TD>
<center><GIF ALIGN=TOP SRC=images/splinerubberband.gif></center>
</TD>
</TR>
</TABLE>
</DL>





