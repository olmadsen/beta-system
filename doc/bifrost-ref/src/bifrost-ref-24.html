<H2>Operations</H2>
<P> Most of the operations in the graphical object manipulate, or use operations implemented in the shape or the paint. The only exceptions to this fact is manipulation of the transformation matrix and some administration (init and copy) operations.</P>

<DL>
<DT>
<B><INX>Init</INX></B>.
<DD>
Initializes the GraphicalObject by instantiating a shape and a
transformation matrix. Init must be called as the first operation on
the graphical object. If the graphical object is evaluated, init is
called automatically. 
</DL>


<P> To manipulate the shape and the paint of the graphical object four operations are given: </P>

<DL>
<DT>
<B>SetShape</B> and <B>GetShape</B>. 
<DD>
Operations to set and get the shape.

<DT>
<B>SetPaint</B> and <B>GetPaint</B>. 
<DD>
Operations to set and get the paint.
</DL>



<H3><INX>Geometric Transformations</INX></H3>
<P> Six operations support geometric transformations on graphical
objects:
<FOOTNOTE>Geometric transformations are described in <A
HREF=bifrost-ref-5.html>Coordinate Systems and Transformations</A>
</FOOTNOTE>
</P> 

<DL>
<DT>
<B>Move</B><A NAME="move"></A>.
<DD>
Enters two displacements (tx,ty) and moves the graphical object
relative to its current position. 

<DT>
<B>MoveTo</B>.
<DD>
Enters point and moves the hotspot of the graphical object to the point.

<DT>
<B>Scale</B>.
<DD>
Enters two scaling factors (sx,sy) and scales the graphical object
relative from its current size. 

<DT>
<B>Rotate</B>. 
<DD>
Enters an angle (in degrees) and rotates the graphical object relative
to the origin. 
</DL>



<H3>Query Operations</H3>

<DL>
<DT><B><INX>HitControl</INX></B>.
<DD>
Takes a point (in CCS) as argument and returns a reference to the
exact point (in GraphicalObject coordinates), if it is in the
neighborhood
<FOOTNOTE>
See <A HREF="bifrost-ref-48.html#neighborhood">Neighborhood</A> for a definition of
the concept neighborhood
</FOOTNOTE>
of a control point of the shape of the graphical object. Otherwise returns
NONE. 

<DT><B><INX>ContainsPoint</INX></B>: 
<DD>
Takes a point (in CCS) as argument and returns true if it is inside
the shape of the graphical object. 
</DL>


<H3>Interaction</H3>
<DL>

<DT>
<B><INX>InteractiveCreateShape</INX></B>.
<DD>
Calls InteractiveCreate of the shape, see <A HREF=bifrost-ref-45.html>Interaction</A>.

<DT>
<B><INX>InteractiveReshape</INX></B>. 
<DD>
Calls InteractiveReshape of the shape, see <A HREF=bifrost-ref-45.html>Interaction</A>.

<DT>
<B><INX>InteractiveCombineShape</INX></B>.
<DD>
Calls InteractiveCombine of the shape, see <A HREF=bifrost-ref-45.html>Interaction</A>.

<DT>
<B><INX>InteractiveMove</INX></B>.
<DD>
Takes a canvas, a starting point and a modifier description as
argument and interactively moves the graphical object using the
interaction handler of the canvas, see <A HREF=bifrost-ref-45.html>Interaction</A>. Calls <A HREF="#move">Move</A> to do the
transformation after the interaction has ended. 

<DT>
<B><INX>Hilite</INX></B>.
<DD>
Makes the graphical object appear highlighted by using the
highlighting operation of the shape. When the graphical object is
redrawn (by canvas updating) the graphical object will be drawn
highlighted. 

<DT>
<B><INX>UnHilite</INX></B>.
<DD>
Unhighlights the graphical object.
</DL>

<P> The Hilite and UnHilite operations changes the Canvas' drawing mode to be <INX>XOR</INX>, to allow for immediate feedback, and invoke an instance of a virtual drawHilite attribute. Thus the feedback may be augmented by further binding this attribute, see <A HREF=bifrost-ref-45.html>Interaction</A> for more details.</P>

<H3><INX>Drawing Graphical Objects</INX></H3>
<P> A graphical
object is drawn on a canvas by calling the Draw operation of the
canvas, see <A HREF="bifrost-ref-30.html">The Canvas</A>. The graphical
objects then becomes part of the list of graphical objects in the
canvas, and the canvas asks the graphical object to draw itself on the
canvas. The graphical objects uses its Draw operation to do the actual
drawing in the Canvas. </P>

<P> When a Canvas needs to be redrawn, the Canvas knows which graphical
objects are drawn in the Canvas, and can therefore ask the graphical
objects in question to redraw themselves on the Canvas. Likewise a
graphical object is erased by calling the <INX>Erase</INX> operation of the Canvas. See <A
HREF="bifrost-ref-30.html">The Canvas</A> for a complete description of
the Canvas and when it must be redrawn.</P> 


<H3>Transforming Graphical Objects</H3>
<P> A graphical object can be transformed by manipulating the transformation matrix TM of the graphical object. Such a transformation will affect the appearance of the graphical object, if it is drawn in a Canvas. To simplify transformation of graphical object, the Transform attribute is present:</P>

<DL>
<DT>
<B>Transform</B>. 
<DD>
Applies a matrix to the transformation matrix of the graphical object. To be precise, 
<BETA>
aMatrix[] -> anAbstractGraphicalObject.transform;
</BETA>
is equivalent with 
<BETA>
(anAbstractGraphicalObject.TM, aMatrix[])
  -> MatrixMul -> anAbstractGraphicalObject.TM;
</BETA>
</DL>

<P> Notice, that in general, only instances of Shape are guarantied to be transformable, in particular some of the Predefined Graphical Objects (see later) will not respond correctly to all transformations. Translations, i.e. linear moving, however, will work for all kinds of graphical objects. Pictures (see below) may also be transformed, but if they contain Predefined Graphical Objects, the restrictions mentioned above apply to the Picture itself too.</P>



