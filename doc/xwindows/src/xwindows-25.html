<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd"
>
<HTML>
<HEAD>
<META http-equiv="Content-Type" CONTENT="text/html; CHARSET=ISO-8859-1">
<TITLE> Prompts for Athena Widgets</TITLE>
<LINK REL=stylesheet HREF=../style/miadoc.css TYPE=text/css>

</HEAD>
<BODY>


<A NAME=HEADING25></A>


<P><A HREF=xwindows-27.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=xwindows-24.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=xwindows-13.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF="../index.html"><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF="index.html#_toc"><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>
<P> AwEnv</P>


<A NAME=HEADING25-0></A>
<H1> Prompts for Athena Widgets</H1>
<P> The Dialog<A NAME=MARKER-2-245></A> Widget provided by the Athena Widget set is not very useful in itself. It just contains an OK button, an optional Cancel button and an optional text entry field. The user of it must supply a Shell widget for father, and have to set various attributes to get even the simplest well known dialog boxes to work. Therefore three often used dialog boxes have been included in the BETA interface to the Athena Widgets. These are build up by using various other widgets from the Athena Widget set, including, of course, the Dialog widget.</P>
<P> These dialogs are:</P>

<UL>
<LI><CODE>Prompt</CODE><A NAME=MARKER-2-246></A>: A pattern which sets up a dialogbox containing a message and an OK button, which when clicked, dismisses the Prompt. Typing &lt;RETURN&gt; is the same as clicking on the OK button. The message and the text of the OK button may be set by the programmer. Also a small icon can be displayed in the Prompt if supplied by the programmer.

<P></P>
<LI><CODE>PromptForString</CODE><A NAME=MARKER-2-247></A>: A specialization of Prompt which sets up a dialogbox that asks the user to enter a text. It contains a message, a text entry field an OK and optionally a Cancel button. The pointer need not be inside the text entry field when typing. Typing &lt;RETURN&gt; is the same as clicking on OK, and typing &lt;ESCAPE&gt; is the same as clicking on Cancel. The message and the text of the OK and Cancel buttons may be set by the programmer.

<P></P>
<LI><CODE>PromptForBoolean</CODE><A NAME=MARKER-2-248></A>: A specialization of Prompt which sets up a dialogbox that asks the user to enter a boolean. It contains a message, two buttons for the answer an optionally a Cancel button. Typing &lt;RETURN&gt; is the same as clicking on the OK button, and typing &lt;ESCAPE&gt; is the same as clicking on Cancel. Also the first letter (in either case) of the labels of the OK and No buttons, respectively, may be typed to choose that button. The message and the text of the three buttons may be set by the programmer.
</UL>
<A NAME=HEADING25-7></A>
<H1> Example using Athena Prompts</H1>
<P> The following program illustrates the use of PromptForString, PromptForBoolean and Prompt.</P>
<A NAME=HEADING25-9></A>
<A NAME=getstring.bet><H4 CLASS=betacaption>getstring.bet</H4></A>
<PRE CLASS=beta>
ORIGIN '~beta/Xt/athena/prompts' 
--PROGRAM: descriptor-- 

AwEnv
(# window: @Form
     (# h,v: @integer; (* Used to position the dialogs *)
        commandButton: @Command
          (# callback::&lt; 
               (# 
               do (x+10,y+10) -&gt; translatecoords -&gt; (h,v);
                  (h, v, 0, 'New label text?', 
                   'OK', 'Cancel', string.label)
                    -&gt; PromptForString
                         (# ok::&lt;(# do value[]-&gt;string.label #)#)
               #)
          #);
        quit: @Command
          (# callback::&lt; 
               (# 
               do (x+10,y+10) -&gt; translatecoords -&gt; (h,v);
                  (h,v,0,'Print string before stopping?',
                   'Yes','No','Cancel') 
                    -&gt; PromptForBoolean
                         (# ok::&lt; 
                              (# do string.label-&gt;putline; stop #);
                            no::&lt; 
                              (# do stop #);
                            cancel::&lt; 
                              (#
                              do (h,v,0,'We''ll continue!','OK')-&gt;
                                    Prompt
                                      (# doubleBorder::&lt;trueObject#)
                              #);
                            doubleBorder::&lt; trueObject;
                         #);
               #)
          #);
        string: @Label;
        init::&lt;
          (#
          do commandButton.init;
             'Press here' -&gt; commandButton.label;
             quit.init; 'Quit' -&gt; quit.label;
             (* Specify 'quit' to be below 'commandButton' *)
             commandButton -&gt; quit.fromVert;
             string.init; 'Please' -&gt; string.label;
             (* Specify that 'string' should be below 'quit' *)
             quit -&gt; string.fromVert;
             (* Make 'window' accept that 'string' resizes itself *)
             true -&gt; string.resizable;
             (* Toplevel is the shell used by 'window' by default.
              * Allow it to resize itself if its children do.
              *)
             true -&gt; toplevel.allowShellResize; 
          #);
     #);
do window.init
#)
</PRE>
<P> When this program is run, the following window appears:</P>
<P> </P>
<BLOCKQUOTE><IMG ALIGN=TOP SRC=images/awenv/prompts1.gif></BLOCKQUOTE>
<P> </P>
<P> When the button with the label 'Press Here' is pressed, a PromptForString is instantiated and popped up. The PromptForString is popped up a distance (10,10) pixels inside the 'Press Here' button. This is obtained by translating these coordinates into global coordinates, using translatecoords. On the screen, it looks as follows:</P>
<P> </P>
<BLOCKQUOTE><IMG ALIGN=TOP SRC=images/awenv/prompts2.gif></BLOCKQUOTE>
<P> </P>
<P> </P>
<P> If the text 'Hello, You' is entered in the dialog, and the OK button is pressed (or &lt;RETURN&gt; is typed - this will invoke the OK button), the dialog disappears, and the Label named string will be changed. Then the main window will look as follows:</P>
<P> </P>
<BLOCKQUOTE><IMG ALIGN=TOP SRC=images/awenv/prompts3.gif></BLOCKQUOTE>
<P> </P>
<P> If then the Quit button is pressed, a PromptForBoolean is instantiated, asking if string should be printed before quiting:</P>
<P> </P>
<BLOCKQUOTE><IMG ALIGN=TOP SRC=images/awenv/prompts4.gif></BLOCKQUOTE>
<P> </P>
<P> If the Yes button is pressed, string.label is printed on the terminal, and the application stops. If the No button is pressed, the application just stops. But if the Cancel button is pressed, the application continues, i.e., quitting is cancelled. In this case a simple Prompt is used to inform the user of that:</P>
<P> </P>
<BLOCKQUOTE><IMG ALIGN=TOP SRC=images/awenv/prompts5.gif></BLOCKQUOTE>
<P> </P>




<HR>
<P>
<TABLE border=0 width="100%">
<TR>
<TD width="40%" align="left">
<ADDRESS>X Libraries - Reference Manual</ADDRESS>
</TD>
<TD width="20%" align="center"><FONT SIZE="-1">&#169; <A HREF="http://www.mjolner.com">Mj&oslash;lner Informatics</A></FONT></TD>
<TD width="40%" align="right"><SCRIPT TYPE="text/javascript" LANGUAGE=JavaScript SRC="../javascript/lastmod.js"></SCRIPT></TD>
</TABLE>
<P>
<P><A HREF=xwindows-27.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=xwindows-24.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=xwindows-13.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF="../index.html"><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF="index.html#_toc"><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>



</BODY>
</HTML>
