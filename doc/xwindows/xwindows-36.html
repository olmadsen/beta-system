<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>

<HEAD>




<TITLE> Motif Dialog Patterns</TITLE>
<LINK REL=stylesheet HREF=../style/miadoc.css TYPE=text/css>

</HEAD>
<BODY>


<A NAME=HEADING36></A>


<P><A HREF=xwindows-37.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=xwindows-35.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=xwindows-27.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF="../index.html"><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF="index.html#_toc"><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>
<P> MotifEnv</P>


<A NAME=HEADING36-0></A>
<H1> Motif Dialog Patterns</H1>
<P> The following figure shows the patterns constituting the MotifEnv dialog patterns. Patterns from XtEnv are shaded gray, and other MotifEnv patterns are shaded light-gray.</P>
<P> </P>
<center><IMG ALIGN=TOP SRC=images/motifenv/motif-dialogs-hierarchy.gif></center>
<P> </P>
<P> </P>
<P> </P>
<P> The following is a brief presentation of the different patterns:</P>
<UL>
<LI> SelectionBox<A NAME=MARKER-2-350></A>:  a general dialog widget that allows the user to select one item from a list. A SelectionBox includes the following: 1) a scrolling list of alternatives, 2) an editable text field for the selected alternative, 3) labels for the list and text field, and 4) three or four buttons. The default button labels are OK, Cancel, and Help. By default an Apply button is also created; if the parent of the SelectionBox is a DialogShell it is managed, and otherwise it is unmanaged. One additional WorkArea child may be added to the SelectionBox after creation. The user can select an item in two ways: by scrolling through the list and selecting the desired item or by entering the item name directly into the text edit area. Selecting an item from the list causes that item name to appear in the selection text edit area. The user may select a new item as many times as desired. The item is not actually selected until the user presses the OK PushButton.
<LI> PromptDialog<A NAME=MARKER-2-351></A>: Utility pattern to instantiate a DialogShell and an unmanaged SelectionBox child of the DialogShell. A PromptDialog prompts the user for text input. It includes a message, a text input region, and three managed buttons. The default button labels are OK, Cancel, and Help. An additional button, with Apply as the default label, is created unmanaged; it may be explicitly managed if needed. 
<LI> SelectionDialog<A NAME=MARKER-2-352></A>: Utility pattern to instantiate a DialogShell and an unmanaged SelectionBox child of the DialogShell. A SelectionDialog offers the user a choice from a list of alternatives and gets a selection. It includes the following: 1) a scrolling list of alternatives, 2) an editable text field for the selected alternative, 3) labels for the text field, and 4) four buttons. The default button labels are OK, Cancel, Apply, and Help.
<LI> FileSelectionBox<A NAME=MARKER-2-353></A>: used to traverse through directories, view the files and subdirectories in them, and then select files. A FileSelectionBox has five main areas: 1) a text input field for displaying and editing a directory mask used to select the files to be displayed, 2) a scrollable list of filenames, 3) a scrollable list of subdirectories, 4) a text input field for displaying and editing a filename, and 5) a group of PushButtons, labeled OK, Filter, Cancel, and Help. The list of filenames, the list of subdirectories, or both can be removed from the FileSelectionBox after creation by using the patterns unmanageFileNames and unmanageSubdirectories.
<LI> FileSelectionDialog<A NAME=MARKER-2-354></A>: utility pattern to instantiate a DialogShell and an unmanaged FileSelectionBox child of the DialogShell.
<LI> Command<A NAME=MARKER-2-355></A>: a special-purpose composite widget for command entry that provides a built-in command-history<A NAME=MARKER-2-356></A> mechanism. Command includes a command-line text-input field, a command-line prompt, and a command history list region. Whenever a command is entered, it is automatically added to the end of the command-history list and made visible. This does not change the selected item in the list, if there is one.
<LI> MessageBox<A NAME=MARKER-2-357></A>: MessageBox is a dialog pattern used for creating simple message dialogs. Specializations based on MessageBox are provided for several common interaction tasks, which include giving information, asking questions, and reporting errors. A MessageBox dialog is typically transient in nature, displayed for the duration of a single interaction. A MessageBox can contain a message symbol, a message, and up to three standard default PushButtons: OK, Cancel, and Help. It is laid out with the symbol and message on top and the PushButtons on the bottom. The Help button is positioned to the side of the other push buttons. 
<LI> ErrorDialog<A NAME=MARKER-2-358></A>: Utility pattern to instantiate a DialogShell and an unmanaged MessageBox child of the DialogShell. An ErrorDialog warns the user of an invalid or potentially dangerous condition. It includes a symbol, a message, and three buttons. The default symbol is an octagon with a diagonal slash. The default button labels are OK, Cancel, and Help.
<LI> InformationDialog<A NAME=MARKER-2-359></A>: Utility pattern to instantiate a DialogShell and an unmanaged MessageBox child of the DialogShell. An InformationDialog presents a short information to the user. It includes a symbol, a message, and three buttons. The default symbol is lower case i. The default button labels are OK, Cancel, and Help.
<LI> MessageDialog<A NAME=MARKER-2-360></A>: Utility pattern to instantiate a DialogShell and an unmanaged MessageBox child of the DialogShell. A MessageDialog gives the user some message. It includes a symbol, a message, and three buttons. By default there is no symbol. The default button labels are OK, Cancel, and Help.
<LI> QuestionDialog<A NAME=MARKER-2-361></A>: Utility pattern to instantiate a DialogShell and an unmanaged MessageBox child of the DialogShell. A QuestionDialog asks the user a question. It includes a symbol, a message, and three buttons. The default symbol is a question mark. The default button labels are OK, Cancel, and Help.
<LI> WarningDialog<A NAME=MARKER-2-362></A>: Utility pattern to instantiate a DialogShell and an unmanaged MessageBox child of the DialogShell. A WarningDialog warns the user of an invalid or potentially dangerous condition. It includes a symbol, a message, and three buttons. The default symbol is an exclamation point. The default button labels are OK, Cancel, and Help.
<LI> WorkingDialog<A NAME=MARKER-2-363></A>: Utility pattern to instantiate a DialogShell and an unmanaged MessageBox child of the DialogShell. A WorkingDialog informs the user, that some lengthy computations is going on, for instance. It includes a symbol, a message, and three buttons. The default symbol is an hourglass. The default button labels are OK, Cancel, and Help.
<LI> FormDialog<A NAME=MARKER-2-364></A>: Utility pattern to instantiate a DialogShell and an unmanaged Form child of the DialogShell. A FormDialog is used for interactions not supported by the standard dialog set. It does not include any labels, buttons, or other dialog components. Such components should be added to the FormDialog by the application.
<LI> BulletinBoardDialog<A NAME=MARKER-2-365></A>: Utility pattern to instantiate a DialogShell and an unmanaged BulletinBoard child of the DialogShell. A BulletinBoardDialog is used for interactions not supported by the standard dialog set. It does not include any labels, buttons, or other dialog components. Such components should be added to the BulletinBoardDialog by the application.
</UL>
<A NAME=HEADING36-23></A>
<H1> Examples using Motif Dialog Patterns</H1>
<P> The following example completes the MainWindow<A NAME=MARKER-2-366></A> example shown earlier, by adding the menu bar, and creating a MessageDialog<A NAME=MARKER-2-367></A> to pop up when the help button in the menu bar is activated.</P>
<A NAME=HEADING36-25></A>
<H2> mainwindow.bet, continued</H2>
<PRE CLASS=beta>
mbar: @MenuBar
  (# fileButton: @CascadeButton
       (# init::&lt; 
            (# do 'File' -&gt; labelString; 'F' -&gt; mnemonic #)
       #);
     fileMenu: @PullDownMenu
       (# quit: @PushButtonGadget
            (# init::&lt;
                 (# 
                 do 'Quit' -&gt; labelString;
                    'Q' -&gt; mnemonic;
                    'Ctrl&lt;Key&gt;q' -&gt; accelerator;
                    'Ctrl+q' -&gt; acceleratorText;
                 #);
               activateCallBack::&lt; (# do stop #);
            #);
          init::&lt; (# do quit.init #);
       #);
     helpButton: @CascadeButton
       (* The button in the MenuBar that activates the HelpBox *)
       (# helpBox: @MessageDialog
            (* The dialog that displays the help message *)
            (# init::&lt;
                 (#
                 do 'This &quot;help&quot; should be extended!'
                       -&gt; messageString;
                    'Help' -&gt; dialogTitle;
                    unManageCancel; unManageHelp;
                 #);
            #);
          activateCallback::&lt; (# do helpBox.manageChild #);
          init::&lt; 
            (# 
            do 'Help' -&gt; labelString; 'H' -&gt; mnemonic;
               helpBox.init 
            #);
       #);
     init::&lt; 
       (# 
       do fileButton.init;  fileMenu.init; 
          fileMenu -&gt; fileButton.subMenuId;
          helpButton.init;
          helpButton -&gt; menuHelpWidget;
       #);
  #);
</PRE>
<P> The example shows how to create the MenuBar and File menu for the MainWindow. Except for the use of mnemonics and accellerators, this has been explained in the section on Menus earlier in the manual. A mnemonic<A NAME=MARKER-2-368></A> is a &quot;keyboard equivalent<A NAME=MARKER-2-369></A>&quot;, which can be used to invoke menus and menu items, when the menus are posted. Accelerator<A NAME=MARKER-2-370></A>s can be used to invoke menu items even when the menu containing the item is not posted.</P>

<P> The help dialog is invoked from a CascadeButton<A NAME=MARKER-2-371></A> called helpButton in the MenuBar. Two special things happen in the init virtual of the MessageDialog: 1) The dialogTitle<A NAME=MARKER-2-372></A> resource is set to the text &quot;Help&quot;. This is because some window manager<A NAME=MARKER-2-373></A>s decorate the dialogs with title bar etc. The dialogTitle resource determines what will appear in the title bar in that case. 2) A MessageDialog by default contains three buttons: an OK button, a Cancel button, and a Help button. The Cancel and Help buttons do not make much sence within a help dialog, so these are removed using the unmanageCancel and unmanageHelp patterns. This is the easiest way to make a dialog with just an OK button, since, unfortunately, Motif does not include such a dialog. The windows below show how the help dialog looks, when popped up from the mainwindow application.</P>
<P> </P>
<BLOCKQUOTE><IMG ALIGN=TOP SRC=images/motifenv/help.gif></BLOCKQUOTE>
<P> </P>
<P> </P>

<P> The following example shows how to use the FileSelectionBox pattern to invoke a standard file specification dialog:</P>
<A NAME=HEADING36-81></A>
<A NAME=filedialog.bet><H4 CLASS=betacaption>filedialog.bet</H4></A>
<PRE CLASS=beta>
ORIGIN '~beta/Xt/motifenv';
INCLUDE '~beta/Xt/motif/fileselectionbox';
INCLUDE '~beta/Xt/motif/rowcolumn';
INCLUDE '~beta/Xt/motif/pushbutton';

-- PROGRAM: descriptor --
MotifEnv
(# 
   buttons: @RowColumn
     (# fs: @FileSelectionDialog
          (# init::&lt; (# do 'Enter File' -&gt; dialogTitle #);
             OkCallback::&lt; 
               (# do dirSpec-&gt;putline; fs.unManageChild #);
             CancelCallback::&lt; 
               (# do 'Cancel'-&gt;putline; fs.unManageChild #);
             HelpCallback::&lt; 
               (# do 'Sorry, no help available'-&gt;putline #);
          #);
        getfile: @PushButton
          (# activateCallBack::&lt; (# do fs.manageChild #)#);
        quit: @PushButton
          (# activateCallBack::&lt; (# do stop #)#);
        init::&lt; 
          (# 
          do fs.init; getfile.init; quit.init; 
          #);
     #);
do buttons.init;
#)
</PRE>

<P> The main RowColumn contains two PushButtons: </P>
<P> </P>
<BLOCKQUOTE><IMG ALIGN=TOP SRC=images/motifenv/getfile.gif></BLOCKQUOTE>

<P> The FileSelectionBox is popped up using the manageChild attribute. The dialog looks like this:</P>
<P> </P>
<BLOCKQUOTE><IMG ALIGN=TOP SRC=images/motifenv/filedialog.gif></BLOCKQUOTE>
<P> </P>
<P> </P>
<P> Three callbacks are further bound in the FileSelectionDialog<A NAME=MARKER-2-374></A>: When OK is pushed, the file name selected is printed out. This is obtained using the dirSpec<A NAME=MARKER-2-375></A> resource. The the dialog is popped down using the unmanageChild attributes. If Cancel is pushed, &quot;Cancel&quot; is printed, and the dialog is popped down. If Help is pushed, a small disclaimer is printed out. This could easily be changed to pop up a real help dialog as in the previous example. The Filter button is used to apply the regular expression in the topmost text entry field to the list of files displayed in the dialog.</P>




<HR>
<P>
<TABLE cols=3 border=0 width=100%>
<TR>
<TD width="33%" align="left">
<ADDRESS>X Libraries - Reference Manual</ADDRESS>
</TD>
<TD width="34%" align="center"><FONT size=-1>&COPY; <A HREF="http://www.mjolner.com">Mj&oslash;lner Informatics</A></FONT></TD>
<TD width="33%" align="right"><FONT size=-1><SCRIPT LANGUAGE=JavaScript SRC="../javascript/lastmod.js"></SCRIPT></FONT></TD>
</TABLE>
<P>
<P><A HREF=xwindows-37.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=xwindows-35.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=xwindows-27.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF="../index.html"><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF="index.html#_toc"><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>


<!-- padding for better scrolling -->
<IMG BORDER=0 SRC="../images/trans5x5.gif" ALT="" WIDTH=5 HEIGHT=1000>

</BODY>
</HTML>
