<H1>Editor</H1>
<H2> Code Editor</H2>
<P> The code editor provides structure editing on each fragment
form. Many of the following menu items have keyboard shortcuts
associated with them. A complete list of these can be found in the
appendix.</P>

<H3> Edit Menu</H3>
<P> </P>
<INX><STRONG CLASS=menuitem>Undo</STRONG></INX>
<DL>
<DT><DD>Initiating this command will undo the latest performed editing operation in the code editor. All editing operations performed in a session can 
be undone.
</DL>
<INX><STRONG CLASS=menuitem>Redo</STRONG></INX>
<DL>
<DT><DD>Initiating this command will redo the latest performed editing operation in the code editor. All undone editing operations performed in a session can 
be redone until a new editing operation is performed.
</DL>
<INX><STRONG CLASS=menuitem>Cut </STRONG></INX>
<DL>
<DT><DD>The current selection is removed from the fragment form. If the current selection may be deleted (e.g. a statement or a declaration) it will disappear. If the current selection may not be deleted (e.g. the expression part of an if-statement) a nonterminal of appropriate syntactic category will be inserted instead of the current selection. The deleted fragment part will be put onto a clipboard and can later be pasted into the same or another fragment form.
</DL>
<INX><STRONG CLASS=menuitem>Copy</STRONG></INX>
<DL>
<DT><DD>The current selection is copied onto the clipboard, and can later be pasted into the same or another fragment. 
</DL>
<INX><STRONG CLASS=menuitem>Paste</STRONG></INX>
<DL>
<DT><DD>Whenever the current selection and the structure on the clipboard are of exchangeable syntactic categories, Paste is enabled. Paste will replace the current selection with the structure currently on the clipboard. The content of the clipboard will not be changed. 
</DL>
<INX><STRONG CLASS=menuitem>Paste Before</STRONG></INX>
<DL>
<DT><DD>Like Paste, but preceeded by an Insert Before operation.
</DL>
<INX><STRONG CLASS=menuitem>Paste After</STRONG></INX>
<DL>
<DT><DD>Like Paste, but preceeded by an Insert After operation.
</DL>
<INX><STRONG CLASS=menuitem>Clear</STRONG></INX>
<DL>
<DT><DD>Same as Cut but nothing is put on the clipboard.
</DL>
<INX><STRONG CLASS=menuitem>Select All</STRONG></INX>
<DL>
<DT><DD>Selects all the code in the window in structure editing mode and the all the code in the textediting area in text editing mode.
</DL>
<INX><STRONG CLASS=menuitem>Textedit</STRONG></INX>
<DL>
<DT><DD>This command enters text editing mode on the current selection. See also Text editing in Editor  tutorial. 
<DT><DD>Please note that text editing is only fully available if a parser for the supported language has been generated. If a parser is not available only lexems can be edited textually, i.e. name declarations, name applications, strings and constants. In that case, there is no check that the lexems are legal. 
</DL>
<INX><STRONG CLASS=menuitem>External Textedit</STRONG></INX>
<DL>
<DT><DD>Like Textedit but here an external texteditor is used. This facility is only available in Unix versions. The environment variable EDITOR is recognized by Sif. When this command is invoked the current selection is inserted in the external editor. When the external editing has finished, by saving the results, the resulting text is inserted instead of the current selection. Parse errors are detected in the same way as in the internal texteditor.
<DT><DD>E.g. emacs can be used by setting EDITOR to /usr/local/bin/emacsclient  and starting emacs as a server in the following way: emacs -f server-start.
</DL>
<INX><STRONG CLASS=menuitem>Parse Text</STRONG></INX>
<DL>
<DT><DD>Exits text editing mode and parses the edited text according to the syntactic category of the current selection before entering text editing mode. See also Text editing in Editor tutorial. 
</DL>
<INX><STRONG CLASS=menuitem>Revert Text Editing</STRONG></INX>
<DL>
<DT><DD>Exits text editing mode and reestablishes the situation before text editing was entered. Alternatively the &lt;esc&gt; key can be used.
</DL>
<INX><STRONG CLASS=menuitem>Insert Before/Insert After</STRONG></INX>
<DL>
<DT><DD>Whenever the current selection is one or more list elements, these entries will enable you to insert a nonterminal of same syntactic category as the list elements either before or after the current selection, respectively. If the list elements are on separate lines before/after means above/below, respectively. If the list elements are on the same line before/after means left/right respectively. An alternative to Insert After is the &lt;cr&gt; key.
</DL>
<INX><STRONG CLASS=menuitem>Remove Optionals</STRONG></INX>
<DL>
<DT><DD>Removes all nonterminals representing optional productions from the current selection. 
</DL>
<INX><STRONG CLASS=menuitem>Show Optionals</STRONG></INX>
<DL>
<DT><DD>Inserts all nonterminals representing optional productions in the current selection.
</DL>
<INX><STRONG CLASS=menuitem>Find...</STRONG></INX>
<DL>
<DT><DD>Makes it possible to search for a substring of a lexem, i.e. a name definition, a name application or a string in 
<UL>
<LI>the current fragment form
<LI>the current fragment form of the source browser, i.e. the fragment form  currently presented in the codeviewer of the source browser
<LI>the current fragment group of the source browser
<LI>the current project in the source browser e.g. also in the domain and extent of  the current fragment group
</UL>
A dialog pops up. See <A REL=BELOW HREF="../sif-tut/sif-tut-6.html#searching">Searching </A>
An especiallly useful facility is the browser of search hits, that
collects all the search hits for easy overview and access.
If the current selection is a name declaration, when the this command is activated, all applications of this name will be searched for in the selected scope.
Using this facility, it is possible to search for applications of a name
in the entire dependency graph.

</DL>
<INX><STRONG CLASS=menuitem>Replace...</STRONG></INX>
<DL>
<DT><DD>Extends the search dialog with a replace text field.
</DL>
<INX><STRONG CLASS=menuitem>Open Subeditor</STRONG></INX>
<DL>
<DT><DD>A subeditor on the current selection is opened, i.e. a code editor where the current selection is  the root. Shift-double-click can also be used.
</DL>
<INX><STRONG CLASS=menuitem>Form Write Protection</STRONG></INX>
<DL>
<DT><DD>If checked it is not possible to modify the fragment form. Is automatically set if group write protection or global write protection is set.
<DT><DD>
</DL>

<H2>Editing and contractions</H2>
<P> Structure editing on parts of the document that contain contractions is done exactly as described above. You can for example cut, copy and paste constructs that contain contractions. When text editing constructs that contain contractions, some parser technical information is included in the contractions before the text editor is activated. This information is necessary to avoid loosing contractions during text editing. A contraction in text editing mode looks like: </P>

<P> &lt;&lt;@4711: Descriptor&gt;&gt;</P>
<P> where @4711 is an internal address of the sub-AST that is contracted, i.e. not presented, and Descriptor is the syntactic category of the contracted sub-AST.</P> Do not modify the contents of contractions during text editing. Likevise if the contraction contents is commented out during text editing, the corresponding code will be lost. 
</P>

<H3> Expand Menu</H3>
<P> This menu is a pop-up menu, that is activated by the Pop-up Menu Button on the mouse (See basic user interface principles).</P>
<P> The content of the Expand menu is dependent on the current selection. If the current selection is a nonterminal, the Expand menu will contain an entry for each language construct that can replace this nonterminal. If the current selection is an optional or list nonterminal, the Expand menu will contain an empty entry as well. This entry enables you to remove that nonterminal. </P>

<H3> SLOTs Menu</H3>
<P> </P>
<P> This menu is only present in the menu bar if the current fragment group is a BETA fragment group. The menu makes use of the fragment clipboard that is used as an intermediate store for fragment forms that are 'moved around' between fragment groups. The fragment clipboard is also used in the Fragment menu.</P>
<INX><STRONG CLASS=menuitem>Make DoPart SLOT...</STRONG></INX>
<DL>
<DT><DD>Substitutes the current selection with a SLOT definition and the removed part of the document is inserted in an DoPart fragment form, that is stored in the fragment clipboard. The name of the SLOT is prompted for. The default name is the name of the enclosing pattern.
</DL>
<INX><STRONG CLASS=menuitem>Make Descriptor SLOT...</STRONG></INX>
<DL>
<DT><DD>Substitutes the current selection with a SLOT definition and the removed part of the document is inserted in an Descriptor fragment form, that is stored in the fragment clipboard. The name of the SLOT is prompted for. The default name is the name of the enclosing pattern.
</DL>
<INX><STRONG CLASS=menuitem>Make Attributes SLOT...</STRONG></INX>
<DL>
<DT><DD>Substitutes the current selection with a SLOT definition and the removed part of the document is inserted in an Attributes fragment form, that is stored in the fragment clipboard. The name of the SLOT is prompted for. The default name is the name of the enclosing pattern.
</DL>
<INX><STRONG CLASS=menuitem>Create Implementation File</STRONG></INX>
<DL>
<DT><DD>In a standard file dialog an implementation file can be created. It will be created as a body file to the current fragment group selected in the browser. The ORIGIN and BODY properties are automatically inserted in the respective files.
</DL>
<INX><STRONG CLASS=menuitem>Select Implementation File</STRONG></INX>
<DL>
<DT><DD>Like Create Implementation File, but an existing file is chosen in 
the dialog.
</DL>
<INX><STRONG CLASS=menuitem>Set Current as Implementation File</STRONG></INX>
<DL>
<DT><DD>The current fragment group selected in the browser is set to be the implementation file. If this file is set the Make SLOT commands and the Hide Implementation... command will automatically paste the created fragment forms that correspond to the SLOTs into the implementation file.
</DL>
<INX><STRONG CLASS=menuitem>Unset Implementation File</STRONG></INX>
<DL>
<DT><DD>The file set in  Set Current as Implementation File  is unset.
</DL>
<INX><STRONG CLASS=menuitem>Set SLOT Name Prefix...</STRONG></INX>
<DL>
<DT><DD>When one of the Make SLOT commands or the Hide Implementation...  command is used the default name in the dialog for the SLOT name will be the text set by this command, followed by the name of the enclosing pattern (if any).
</DL>
<INX><STRONG CLASS=menuitem>Unset SLOT Name Prefix</STRONG></INX>
<DL>
<DT><DD>Clears the text set in Set SLOT Name Prefix...
</DL>
<INX><STRONG CLASS=menuitem>Hide Implementation...</STRONG></INX>
<DL>
<DT><DD>For each DoPart in the current selection in the code editor the user is asked whether it should be hidden into the implementation file by making it into a SLOT and moving the DoPart into a fragment form in the implementation file.
</DL>





