<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd"
>
<HTML>
<HEAD>
<META http-equiv="Content-Type" CONTENT="text/html; CHARSET=ISO-8859-1">
<TITLE> Editing at Code Level</TITLE>
<LINK REL=stylesheet HREF=../style/miadoc.css TYPE=text/css>

</HEAD>
<BODY>


<A NAME=HEADING9></A>


<P><A HREF=sif-tut-10.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=sif-tut-8.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=sif-tut-7.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF="../index.html"><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF="../mjolner-tut/index.html#_toc"><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=../mjolner-tut/inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>
<P> Code Editor</P>


<A NAME=HEADING9-0></A>
<H1> Editing at Code Level</H1>
<A NAME=HEADING9-1></A>
<H1> Code editor</H1>
<P> The code editor provides structure editing on each fragment form. In the following a separate code editor is chosen by shift-double-clicking on the program fragment form in the group editor (or using the pop-up menu in the code editor) of Fig. 13. </P>
<A NAME=HEADING9-3></A>
<H1> Structure Editing</H1>
<P> The basic idea of structure editing is that the program is manipulated in terms of its logical structure rather than the textual elements such as characters, words and lines. The advantage of this approach is that only logically coherent parts can be inserted or deleted and thereby preserving the syntactical rules of the language at any time.</P>

<P> </P>
<CENTER><IMG ALIGN=TOP SRC=images/edit-code-level.gif></CENTER>
<P> </P>
<CENTER><A NAME=figure_14><STRONG CLASS=figure>Figure 14</STRONG></A></CENTER>
<P> </P>


<P> The window above shows an example where a template for a BETA program has been derived. The template includes placeholders (nonterminals) and keywords (terminals). If a nonterminal is selected the mouse pointer is changed to an icon that indicates that the rightmost button of the mouse must be pushed to pop-up a menu (only Unix version, in general the Pop-up Menu Button;.;; is used, see Basic User interface principles). In the example, the &lt;&lt;AttributeDeclOpt&gt;&gt; placeholder has been selected and the legal declarations (according to the BETA grammar) is shown in the pop-up menu.</P>

<P> </P>
<CENTER><IMG ALIGN=TOP SRC=images/edit-code-level2.gif></CENTER>
<P> </P>
<CENTER><A NAME=figure_15><STRONG CLASS=figure>Figure 15</STRONG></A></CENTER>
<P> </P>

<P> The PatternDecl entry is selected and the result is:

<P> </P>
<CENTER><IMG ALIGN=TOP SRC=images/edit-code-level3.gif></CENTER>
<P> </P>
<CENTER><A NAME=figure_16><STRONG CLASS=figure>Figure 16</STRONG></A></CENTER>
<P> </P>


<A NAME=HEADING9-14></A>
<H1> Text Editing and Parsing</H1>
<P> Structure editing has its greatest force at the higher levels of editing, i.e. for creating the overall structure of the program or for moving around large chunks of code. At the detailed level the textediting technique is more useful. </P>
<P> Text editing can at any time be used as an alternative to structure editing. Text editing is activated either by just starting to type or by selecting the Textedit command in the Edit menu. If you start typing at the keyboard, the typed characters will replace the current selection in the code editor window. Text editing mode may alternatively be entered without deleting the current selection, by means of the Textedit  command or by pressing the &lt;space&gt; key. In that case the text cursor will be positioned in the start of the current selection. </P>
<P> Text editing mode can be terminated by selecting the Parse Text command in the Edit menu, or by one of the short-cuts: Ctrl t or Ctrl &lt;space&gt. The possibly modified text will immediately be parsed and any parse errors will be reported (but only one at a time). Note that semantic checking is not done by the editor. In this example a parse error is detected.</P>
<P> In Fig. 17 the placeholder &lt;&lt;NameDecl&gt;&gt; is selected and the name hello is typed. After that the &lt;&lt;DoPartOpt&gt;&gt; is selected and the text </P>
<P> </P>

<PRE CLASS=beta>
'hello world -&gt; putline
</PRE>
<P> is typed. When textediting is exited the syntax error is immediately reported:</P>

<P> </P>
<CENTER><IMG ALIGN=TOP SRC=images/edit-code-level4.gif></CENTER>
<P> </P>
<CENTER><A NAME=figure_17><STRONG CLASS=figure>Figure 17</STRONG></A></CENTER>
<P> </P>

<A NAME=HEADING9-26></A>
<H1> Checking</H1>
<P> After correcting the syntax error the program looks like below:  </P>

<P> </P>
<CENTER><IMG ALIGN=TOP SRC=images/edit-code-level4B.gif></CENTER>
<P> </P>
<CENTER><A NAME=figure_18><STRONG CLASS=figure>Figure 18</STRONG></A></CENTER>
<P> </P>


<P> Now we want to call the checker. This is done by means of the Check Current command in the Tools menu. But the compiler does not accept unexpanded nonterminals. Therefore the following dialog is popped up:</P>

<P> </P>
<CENTER><IMG ALIGN=TOP SRC=images/edit-code-level5.gif></CENTER>
<P> </P>
<CENTER><A NAME=figure_19><STRONG CLASS=figure>Figure 19</STRONG></A></CENTER>
<P> </P>


<P> Notice that in this example all nonterminals are optionals (is indicated by the Opt suffix). An easy way to remove unexpanded optionals is to select the whole program and use the Remove Optionals in the Edit menu. The result is:</P>

<P> </P>
<CENTER><IMG ALIGN=TOP SRC=images/edit-code-level6.gif></CENTER>
<P> </P>
<CENTER><A NAME=figure_20><STRONG CLASS=figure>Figure 20</STRONG></A></CENTER>
<P> </P>

<P> Now the checker is called again and the semantic error is detected and shown by means of the semantic error viewer: </P>

<P> </P>
<CENTER><IMG ALIGN=TOP SRC=images/edit-code-level7.gif></CENTER>
<P> </P>
<CENTER><A NAME=figure_21><STRONG CLASS=figure>Figure 21</STRONG></A></CENTER>
<P> </P>

<P> In this case there is only one semantic error, but in general the Fragment Forms pane will contain a list of fragment forms with semantic errors and the Semantic Errors pane will for each fragment form in the upper pane show a list of semantic errors. By selecting in the two panes the different semantic errors can be inspected. By clicking in the Semantic Errors pane the code editor will select the corresponding structure. The first semantic error will always be selected automatically. In the example the following selection is made: </P>

<P> </P>
<CENTER><IMG ALIGN=TOP SRC=images/edit-code-level8.gif></CENTER>
<P> </P>
<CENTER><A NAME=figure_22><STRONG CLASS=figure>Figure 22</STRONG></A></CENTER>
<P> </P>


<HR>
<P>
<TABLE border=0 width="100%">
<TR>
<TD width="40%" align="left">
<ADDRESS>Editor - Tutorial</ADDRESS>
</TD>
<TD width="20%" align="center"><FONT SIZE="-1">&#169; <A HREF="http://www.mjolner.com">Mj&oslash;lner Informatics</A></FONT></TD>
<TD width="40%" align="right"><SCRIPT TYPE="text/javascript" LANGUAGE=JavaScript SRC="../javascript/lastmod.js"></SCRIPT></TD>
</TABLE>
<P>
<P><A HREF=sif-tut-10.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=sif-tut-8.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=sif-tut-7.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF="../index.html"><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF="../mjolner-tut/index.html#_toc"><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=../mjolner-tut/inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>


</BODY>
</HTML>
