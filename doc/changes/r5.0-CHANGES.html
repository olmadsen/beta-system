<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd"
>
<HTML>
<HEAD>
<META http-equiv="Content-Type" CONTENT="text/html; CHARSET=ISO-8859-1">
<TITLE>CHANGES in Release 5.0 of the Mjølner System</TITLE>

<LINK REL=stylesheet HREF="../style/miadoc.css" TYPE="text/css">

</HEAD>
<BODY>

<!--++++++++++++++++++++++++++++++-->
<H1>CHANGES in Release 5.0 of the Mjølner System</H1>

<A NAME="contents"><H2>Contents</H2></A>

The following describes the most notable new features and 
bug fixes in release 5.0 of the Mjølner System, compared to the 
last official release, r4.1.

<UL>
<LI><A HREF="#news">New features in r5.0</A>
  <UL>
  <LI><A HREF="#news_general">General new features</A>
  <LI><A HREF="#news_tool">Tool specific new features</A>
  <LI><A HREF="#news_lib">Library specific new features</A>
  <LI><A HREF="#news_os">Platform specific new features</A>
  </UL>
<LI><A HREF="#fixes">Behind the scenes</A>
</UL>


<!--++++++++++++++++++++++++++++++-->
<HR>

<A NAME="news"><H2>New features in r5.0</H2></A>

<A NAME="news_general"><H3>General new features</H3></A>

<DL>

<DT><B>Elimination of version numbers in paths</B>
<DD>There are no longer version numbers in the paths to libraries.
This menas much easier upgrade to new releases, since no version
numbers have to be changed. E.g. <CODE>betaenv</CODE> is now
refered as <CODE>~beta/basiclib/betaenv</CODE>.

<DT><B>Support for string-literal concatenation</B>
<DD>String literals, e.g. <CODE>'Hello, World!'</CODE> can now
be written as multiple string literals with whitespace between them
e.g. 
<PRE class=beta>
'Hello, '
'World!' -&gt; putline
</PRE>
which will make <CODE>Hello, World!</CODE> print out.
This will allow long string literals to be written en a more
readable fashing in the source code<BR>
Notice that this removes the old feature of using double
ticks (<CODE>''</CODE>) in a string literal when a single tick
is wanted in the output. Use backslash-tick (<CODE>\'</CODE>)
instead.

<DT><B>Implementation of MainPart SLOTs</B>
<DD>MainPart SLOTs are now fully implemented. This means that
the following is now possible:


<BLOCKQUOTE>
<TABLE border=3 cellpadding=5 bgcolor="wheat">
<CAPTION ALIGN=bottom><CODE><STRONG>foobar.bet</STRONG></CODE></CAPTION>
<TR><TD><CODE>
ORIGIN ...<BR>
BODY 'foo'<BR>
...<BR>
foo: bar&lt;&lt;SLOT foo:MainPart&gt;&gt;<BR>
...
</CODE></TD>
</TABLE>
<P>
<TABLE border=3 cellpadding=5 bgcolor="wheat">
<CAPTION ALIGN=bottom><CODE><STRONG>foo.bet</STRONG></CODE></CAPTION>
<TR><TD><CODE>
ORIGIN 'foobar'<BR>
-- foo: MainPart --<BR>
(# ... #)
</CODE></TD>
</TABLE>
</BLOCKQUOTE>

<DT><B>Preliminary COM support</B>
<DD>Microsoft COM technology is now partly supported by BETA.
See library <CODE>comlib</CODE>.
Notice that these features are currently not documented.

<DT><B>New basic patterns</B>
<DD>The following basic patterns have been introduced
<P>
<TABLE border bgcolor="white">
<TR><TD><CODE>int8</CODE>  </TD><TD><DD>signed 8-bit integer</TD>
<TR><TD><CODE>int8u</CODE> </TD><TD><DD>unsigned 8-bit integer</TD>
<TR><TD><CODE>int16</CODE> </TD><TD><DD>signed 16-bit integer</TD>
<TR><TD><CODE>int16u</CODE></TD><TD><DD>unsigned 8-bit integers (replaces pattern <CODE>shortInt</CODE>)</TD>
<TR><TD><CODE>int32</CODE> </TD><TD><DD>signed 32-bit integer (identical to pattern <CODE>integer</CODE>)</TD>
<TR><TD><CODE>int32u</CODE></TD><TD><DD>unsigned 32-bit integer</TD>
<TR><TD><CODE>int64</CODE> </TD><TD><DD>signed 64-bit integer</TD>
<TR><TD><CODE>int64u</CODE></TD><TD><DD>unsigned 64-bit integer</TD>
</TABLE>
<P>
For the 64 bit integers, limitations exists on their possible usage.
See <A HREF="../bibliography/index.html#mia90-02">[MIA 90-02]</A>.

<DT><B>16-bit characters</B>
<DD>Support has been added for 16-bit characters.
  The library <CODE>basiclib/wtext.bet</CODE> defines patterns 
  <CODE>wstream</CODE> and <CODE>wtext</CODE>
  that are 16-bit versions of <CODE>stream</CODE> and <CODE>text</CODE>.<BR>
  Operations supporting conversion between stream/text and 
  wstream/wtext are available.
  In future version, wstream and wtext will replace stream/text.
  Currently most of the Mjølner system is still based on 
  stream/text.

<DT><B>Documentation in HTML</B>
<DD>The documentation of the Mjølner System is now primarily in HTML,
which in more convenient online than the PDF format used in previous
releases. The page you are currently watching is part of this
documentation.
The main entry to this documentation can be found by clicking 
<A HREF="../index.html">here</A>. The latest version of this
documentation may always be found at
<BLOCKQUOTE>
<A HREF="http://www.mjolner.com/mjolner-system/documentation/">
<CODE>http://www.mjolner.com/mjolner-system/documentation/</CODE>
</A>
</BLOCKQUOTE>


</DL>

<!--++++++++++++++++++++++++++++++-->
<HR>

<A NAME="news_tool"><H3>Tool specific new features</H3></A>

<DL>

<DT><B><CODE>Mjolner</CODE> tool</B>
<DD>A new tool called <CODE>mjolner</CODE> integrates the 
previously stand alone tools <CODE>sif</CODE> (source browser and editor), 
<CODE>freja</CODE> (CASE tool), <CODE>frigg </CODE>(interface builder), 
<CODE>beta</CODE> (compiler), and <CODE>valhalla</CODE> (debugger).
Among the mentioned, only the compiler is kept as a stand alone tool.

<DT><B><CODE>Valhalla</CODE></B>
<DD><CODE>Valhalla</CODE> is now integrated into the
<CODE>mjolner</CODE> tool. This means that the long-wanted
edit-run-debug-edit-rerun... cycle is now possible.<BR>
A new feature in the valhalla part of <CODE>mjolner is
</CODE> <EM>dynamic evaluators</EM>, which allows you to open
a code editor in the context of an object view, type in a BETA
pattern, get the pattern compiled in the context of
the object being displayed, and finally running the code.
This allows for unlimited inspection of objects and their
surroundings without learning another query-language, and
also for modification of objects before continuing the program being
debugged.

<DT><B><CODE>freja</CODE> tool</B>
<DD><CODE>Freja</CODE>, which is now integrated in the
<CODE>mjolner</CODE> tool, is now available on all platforms.


</DL>

<!--++++++++++++++++++++++++++++++-->
<HR>

<A NAME="news_lib"><H3>Library specific new features</H3></A>

<DL>

<DT><B>OpenGL library</B>
<DD>Using <CODE>guienv/openGL</CODE> one can now program OpenGL
programs in BETA.

<DT><B><CODE>guienv</CODE></B>
<DD>
A number of useful features have been added, most of them to the
<CODE>utils</CODE> directory.
</OL>

<DT><B><CODE>comlib</CODE> library</B>
<DD>A new library with preliminary support for Microsoft COM
in BETA.

<DT><B><CODE>bifrost</CODE></B>
<DD>
Support for zooming of BifrostCanvas added.


</DL>

<!--++++++++++++++++++++++++++++++-->
<HR>

<A NAME="news_os"><H3>Platform specific new features</H3></A>

<A NAME="news_pc"><H4>PC specific news</H4></A>
<DL>
<DT><B>Elimination of SDK environment variable</B>
<DD>The user no longer have to do a lot of manual setup
of e.g. <CODE>SDK</CODE> environment variable.

<DT><B>Borland no longer supported</B>
<DD>Using the tools from Borland as SDK is no longer supported in the
Mjølner System. Use the Microsoft or GNU SDKs instead.

<DT><B>GNU implementation completed</B>
<DD>The Mjølner System using the GNU SDK is now comparable with
the version using Microsoft as SDK.

<DT><B><CODE>valhalla</CODE> now works under Windows 95</B>
<DD>The previous version of <CODE>valhalla</CODE> failed to continue
after having hit a breakpoint when running under Win95. This error
has been fixed.

<DT><B>Execution scripts eliminated</B>
<DD>Most of the scripts for invoking the compiler etc. in
<CODE>%BETALIB%\bin</CODE> has been eliminated. Instead the 
EXE files are invoked directly. The EXE files are placed in
<CODE>%BETALIB%\bin\&lt;target&gt;</CODE>, where
<CODE>&lt;target&gt;</CODE> is one of <CODE>nti_ms</CODE> or
<CODE>nti_gnu</CODE>, depending on whether the Microsoft or GNU SDK is
used.

<DT><B>Argument expansion</B>
<DD>Arguments given on the command line are now expanded in a UNIX
like manner. See pattern <CODE>Argument</CODE> in <CODE>betaenv</CODE>.




</DL>

<A NAME="news_unix"><H4>UNIX specific news</H4></A>

<DT><B>SUN SPARC Solaris 2.6 and 2.7</B>
<DD>BETA now works under Solaris 2.6 and 2.7

<DT><B>GCC 2.8</B>
<DD>BETA now works with <CODE>gcc 2.8</CODE> produced files
(specifically on linux).

<DT><B>linux <CODE>libc5.0</CODE></B>
<DD>BETA now works with <CODE>libc5.0</CODE> on linux.

<DT><B>linux RedHat 6.0</B>
<DD>BETA now works with RedHat 6.0 on linux.

<DT><B>HP-UX 10</B>
<DD>BETA now works on HPPA Risc 1.1 or later machines running HP-UX 10.




<A NAME="news_mac"><H4>Macintosh specific news</H4></A>


<!--++++++++++++++++++++++++++++++-->
<HR>

<A NAME="fixes"><H2>Behind the scenes</H2></A>

The following is a far from complete list of the bug fixes,
significant reimplementations etc.,  that are
included in release 5.0. These are not immediately visible to the
user, but should show themselves in the form of better behaviour
of the BETA programs.

<DL>

<DT><B>Serious memory leak eliminated</B>
<DD>&nbsp;

<DT><B>Garbage collection for old objects completely rewritten</B>
<DD>&nbsp;

<DT><B><CODE>container</CODE> libraries partly reimplemented</B>
<DD>&nbsp;

<DT><B>Persistence completely reimplemented</B>
<DD>The low-level parts of <CODE>persistentstore</CODE> have been
completely reimplemented, yielding a performance boost, since 
linearization objects graphs is now linear in the size of the graph, 
where it was previously quadratic.

</DL>

<HR>
<P>
<TABLE border=0 width="100%">
<TR>
<TD width="40%" align="left">
<ADDRESS>CHANGES in Release 5.0 of the Mjølner System</ADDRESS>
</TD>
<TD width="20%" align="center"><FONT SIZE="-1">&#169; <A HREF="http://www.mjolner.com">Mj&oslash;lner Informatics</A></FONT></TD>
<TD width="40%" align="right"><SCRIPT TYPE="text/javascript" LANGUAGE=JavaScript SRC="../javascript/lastmod.js"></SCRIPT></TD>
</TABLE>


</BODY>
</HTML>
