
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd"
>
<HTML>
<HEAD>
<META http-equiv="Content-Type" CONTENT="text/html; CHARSET=ISO-8859-1">
<TITLE> HashTable Example</TITLE>
<LINK REL=stylesheet HREF="../style/miadoc.css" TYPE="text/css">

</HEAD>
<BODY>
<A NAME=HEADING22></A>
<A HREF="containers-23.html"><IMG ALIGN="BOTTOM" ALT="Next" BORDER=0 SRC="../images/next.gif">
</A> <A HREF="containers-21.html"><IMG ALIGN="BOTTOM" ALT="Previous" BORDER=0 SRC="../images/prev.gif">
</A> <IMG ALIGN="BOTTOM" ALT="Up" BORDER=0 SRC="../images/upg.gif">
 <A HREF="../index.html"><IMG ALIGN="BOTTOM" ALT="Top" BORDER=0 SRC="../images/top.gif">
</A> <A HREF="index.html#_toc"><IMG ALIGN="BOTTOM" ALT="Contents" BORDER=0 SRC="../images/content.gif">
</A> <A HREF="inx.html"><IMG ALIGN="BOTTOM" ALT="Index" BORDER=0 SRC="../images/index.gif">
</A><P>
 <P>
<A NAME=HEADING22-0></A>
<H1> HashTable Example</H1>

<PRE class=beta>
ORIGIN '~beta/containers/hashTable';
-- program: Descriptor --
(* This demo program illustrates the usage of the hashTable and
 * extensibleHashTable patterns.  The first part of the demo
 * illustrates inserting and deleting elements from the hashtables,
 * the middle part illustrates the diff and sect operations, and the
 * last part of this program illustrates the possibilities for
 * specifying extend the hashTable dynamically (illustrated by the
 * hashTable4 object).  The use of the statistics operations are also
 * illustrated here.
 * 
 * At the end of this file, a copy of the output of this program is
 * given
 *)
  (#
     intHashTable: hashTable (* a hashTable containing integerObjects *)
       (# element::&lt; integerObject; hashFunction::&lt;  (#  do e-&gt;value #); 
       #);
     intEHashTable: extensibleHashTable
     (* a hashTable containing integerObjects *)
       (# element::&lt; integerObject; hashFunction::&lt;  (#  do e-&gt;value #); 
       #);
     hashtable1: @intHashTable
       (# rangeInitial::&lt;  (#  do 2-&gt;value #) #);
     hashtable2: @intHashTable
       (# rangeInitial::&lt;  (#  do 4-&gt;value #) #);
     hashtable3: @intHashTable;
     hashtable4: @intEHashTable
       (# rangeInitial::&lt;  (#  do 2-&gt;value #) #);
     i: [10] ^integerObject;
     
  do (* initializing the integerObjects *)
     (for int: 10 repeat
       &amp;integerObject[]-&gt;i[int][]; int-&gt;i[int]
     for);
     (* initializing hashTable1 and putting some integerObjects into it. *)
     hashtable1.init;
     'hashtable1.capacity: '-&gt;puttext;
     hashtable1.capacity-&gt;putInt;
     newline;
     'hashtable1.range: '-&gt;puttext;
     hashtable1.range-&gt;putInt;
     newline;
     (for int: 4 repeat i[int][]-&gt;hashtable1.insert for);
     'hashtable1.elements: '-&gt;puttext;
     hashtable1.scan
       (#  do current-&gt;putint; ','-&gt;put #);
     newline;
     'hashtable1.size: '-&gt;puttext;
     hashtable1.size-&gt;putInt;
     newline;
     newline;
     (* initializing hashTable2 and putting some integerObjects into it. *)
     hashtable2.init;
     'hashtable2.capacity: '-&gt;puttext;
     hashtable2.capacity-&gt;putInt;
     newline;
     'hashtable2.range: '-&gt;puttext;
     hashtable2.range-&gt;putInt;
     newline;
     (for int: 4 repeat i[int+3][]-&gt;hashtable2.insert for);
     'hashtable2.elements: '-&gt;puttext;
     hashtable2.scan
       (#  do current-&gt;putint; ','-&gt;put #);
     newline;
     'hashtable2.size: '-&gt;puttext;
     hashtable2.size-&gt;putInt;
     newline;
     newline;
     (* initializing hashTable3 and putting some integerObjects into it. *)
     hashtable3.init;
     (for int: 4 repeat i[int+6][]-&gt;hashtable3.insert for);
     'hashtable3.elements: '-&gt;puttext;
     hashtable3.scan
       (#  do current-&gt;putint; ','-&gt;put #);
     newline;
     newline;
     (* deleting integerObject 3 from hashTable3 *)
     '3-&gt;hashtable3.delete: '-&gt;puttext;
     i[3][]-&gt;hashtable3.delete;
     hashtable3.scan
       (#  do current-&gt;putint; ','-&gt;put #);
     newline;
     newline;
     (* illustrating the diff, and sect operations on hashTables *)
     'hashtable2-&gt;hashtable3; hashtable1[]-&gt;hashtable3.diff: '-&gt;puttext;
     hashtable2-&gt;hashtable3;
     hashtable1[]-&gt;hashtable3.diff;
     hashtable3.scan
       (#  do current-&gt;putint; ','-&gt;put #);
     newline;
     'hashtable2-&gt;hashtable3; hashtable1[]-&gt;hashtable3.sect: '-&gt;puttext;
     hashtable2-&gt;hashtable3;
     hashtable1[]-&gt;hashtable3.sect;
     hashtable3.scan
       (#  do current-&gt;putint; ','-&gt;put #);
     newline;
     (* Illustrating the use of extensibleHashTable: 
      * Initializing hashTable4 and putting some integerObjects into it.
      *)
     hashtable4.init;
     'hashtable4.capacity: '-&gt;puttext;
     hashtable4.capacity-&gt;putInt;
     newline;
     'hashtable4.range: '-&gt;puttext;
     hashtable4.range-&gt;putInt;
     newline;
     (for int: 4 repeat i[int+3][]-&gt;hashtable4.insert for);
     'hashtable4.elements: '-&gt;puttext;
     hashtable4.scan
       (#  do current-&gt;putint; ','-&gt;put #);
     newline;
     'hashtable4.size: '-&gt;putText;
     hashtable4.size-&gt;putInt;
     newline;
     (* illustrating extending an expensibleHashTable *)
     'hashtable4.statistics(# do screen[]-&gt;print #): '-&gt;putline;
     hashtable4.statistics
       (#  do screen[]-&gt;print #);
     (for int: hashTable4.range repeat
       int-&gt;putint;
       '-&gt;hashtable4.scanIndexed(# ... #): '-&gt;puttext;
       i[int][]-&gt;hashTable4.hashFunction
         -&gt;hashtable4.scanIndexed (#  do current-&gt;putint; ' '-&gt;put #);
       'found'-&gt;putline;
       
     for);
     '3-&gt;hashTable4.extend(# do hashTable4.rehash #)'-&gt;putline;
     3-&gt;hashTable4.extend (#  do hashTable4.rehash #);
     (for int: 10 repeat
       int-&gt;putint;
       '-&gt;hashtable4.has: '-&gt;puttext;
       (if i[int][]-&gt;hashtable4.has
        // true then 'yes'-&gt;putline
        else
           'no'-&gt;putline
       if);
       
     for);
     (for int: hashTable4.range repeat
       int-&gt;putint;
       '-&gt;hashtable4.scanIndexed(# ... #): '-&gt;puttext;
       i[int][]-&gt;hashTable4.hashFunction
         -&gt;hashtable4.scanIndexed
           (# end::&lt;  (#  do 'found'-&gt;putline #)
           do current-&gt;putint; ' '-&gt;put
           #);
       
     for);
     'hashtable4.range: '-&gt;puttext;
     hashtable4.range-&gt;putInt;
     newline;
     'hashtable4.elements: '-&gt;puttext;
     hashtable4.scan
       (#  do current-&gt;putint; ','-&gt;put #);
     newline;
     'hashtable4.size: '-&gt;putText;
     hashtable4.size-&gt;putInt;
     newline;
     'hashtable4.statistics(# do screen[]-&gt;print #): '-&gt;putline;
     hashtable4.statistics
       (#  do screen[]-&gt;print #);
     (************ OUTPUT ***************
      * hashtable1.capacity: -1
      * hashtable1.range: 2
      * hashtable1.elements: 3,1,4,2,
      * hashtable1.size: 4
      * 
      * hashtable2.capacity: -1
      * hashtable2.range: 4
      * hashtable2.elements: 5,6,7,4,
      * hashtable2.size: 4
      * 
      * hashtable3.elements: 7,8,9,10,
      * 
      * 3-&gt;hashtable3.delete: 7,8,9,10,
      * 
      * hashtable2-&gt;hashtable3; hashtable1[]-&gt;hashtable3.diff: 5,6,7,
      * hashtable2-&gt;hashtable3; hashtable1[]-&gt;hashtable3.sect: 4,
      * hashtable4.capacity: -1
      * hashtable4.range: 2
      * hashtable4.elements: 7,5,6,4,
      * hashtable4.size: 4
      * hashtable4.statistics(# do screen[]-&gt;print #):
      * Histogram: (2,2)
      * Maximum Collisions: 2
      * Minimum Collisions: 2
      * Average Collisions: 2
      * 1-&gt;hashtable4.scanIndexed(# ... #): 7 5 found
      * 2-&gt;hashtable4.scanIndexed(# ... #): 6 4 found
      * 3-&gt;hashTable4.extend(# do hashTable4.rehash #)
      * 1-&gt;hashtable4.has: no
      * 2-&gt;hashtable4.has: no
      * 3-&gt;hashtable4.has: no
      * 4-&gt;hashtable4.has: yes
      * 5-&gt;hashtable4.has: yes
      * 6-&gt;hashtable4.has: yes
      * 7-&gt;hashtable4.has: yes
      * 8-&gt;hashtable4.has: no
      * 9-&gt;hashtable4.has: no
      * 10-&gt;hashtable4.has: no
      * 1-&gt;hashtable4.scanIndexed(# ... #): 6 found
      * 2-&gt;hashtable4.scanIndexed(# ... #): 7 found
      * 3-&gt;hashtable4.scanIndexed(# ... #): found
      * 4-&gt;hashtable4.scanIndexed(# ... #): 4 found
      * 5-&gt;hashtable4.scanIndexed(# ... #): 5 found
      * hashtable4.range: 5
      * hashtable4.elements: 6,7,4,5,
      * hashtable4.size: 4
      * hashtable4.statistics(# do screen[]-&gt;print #):
      * Histogram: (1,1,0,1,1)
      * Maximum Collisions: 1
      * Minimum Collisions: 0
      * Average Collisions: 1
      *********************************)
  #)  
</PRE>
<!-- TOC -->
<HR>
<P>
<TABLE border=0 width="100%">
<TR>
<TD width="40%" align="left">
<ADDRESS>Containers Reference Manual</ADDRESS>
</TD>
<TD width="20%" align="center"><FONT SIZE="-1">&#169; <A HREF="http://www.mjolner.com">Mj&oslash;lner Informatics</A></FONT></TD>
<TD width="40%" align="right"><SCRIPT TYPE="text/javascript" LANGUAGE=JavaScript SRC="../javascript/lastmod.js"></SCRIPT></TD>
</TABLE>
<P>
<A HREF="containers-23.html"><IMG ALIGN="BOTTOM" ALT="Next" BORDER=0 SRC="../images/next.gif">
</A> <A HREF="containers-21.html"><IMG ALIGN="BOTTOM" ALT="Previous" BORDER=0 SRC="../images/prev.gif">
</A> <IMG ALIGN="BOTTOM" ALT="Up" BORDER=0 SRC="../images/upg.gif">
 <A HREF="../index.html"><IMG ALIGN="BOTTOM" ALT="Top" BORDER=0 SRC="../images/top.gif">
</A> <A HREF="index.html#_toc"><IMG ALIGN="BOTTOM" ALT="Contents" BORDER=0 SRC="../images/content.gif">
</A> <A HREF="inx.html"><IMG ALIGN="BOTTOM" ALT="Index" BORDER=0 SRC="../images/index.gif">
</A><P>
</BODY>
</HTML> 