<H1> <A NAME="LINK-beta-intro-_Toc403635898"><A NAME=MARKER-9-133></A>Nested Patterns</A></H1>
<P> One of the characteristics of Algol-like languages is block-structure<A NAME=MARKER-2-135></A>, which allows for arbitrary nesting<A NAME=MARKER-2-136></A> of procedures. The possibility of nesting has been carried over to BETA where patterns can be arbitrarily nested. Block-structure is a powerful mechanism that extends the modeling capabilities of languages. However, besides Simula and BETA, none of the mainstream object-oriented languages supports block-structure. In most object-oriented languages, an object may be characterized by data attributes (instance variables) and procedure attributes. In BETA, an object may in addition be characterized by class pattern attributes<A NAME=MARKER-2-137></A>. </P>
<A NAME=HEADING24-2></A>
<H1> BETA supports general block-structure</H1>
<P> In the examples presented so far, there have been two levels of nesting. The outer level corresponds to class patterns, like employee, and the inner level corresponds to procedure patterns, like computeSalary. In procedural languages like Algol and Pascal it is common practice to define procedures with local procedures. This is also possible in BETA.</P>
<A NAME=HEADING24-4></A>
<H1> Nested Class Patterns</H1>
<P> The possibility of nesting classes is a powerful feature which is not possible in languages like C++ and Eiffel. The following example shows a class pattern that describes a product of our company:</P>
<PRE CLASS=beta>
productDescription:
  (# name: @text;
     price: @integer;
     noOfSoldUnits: @integer;
     order:
       (# orderDate: @date;
          c: ^customer;
          print:&lt;
            (#
            do name[] -&gt; puttext;
               'Price: '-&gt;puttext; price -&gt; putint; ' '-&gt;put;
               ' No of units sold: '-&gt;puttext; 
               noOfSoldUnits-&gt;putint; ' '-&gt;put;
               orderDate.print;
               C.print;
               inner
            #)
       #)
  #);
</PRE>
<P> One of the attributes of a productDescription object is the class pattern order. An instance of order describes an order made on this product by some customer. The attributes of an order object include the date of the order, the number of units ordered, the customer ordering the product, and a print operation. Consider the objects:</P>
<PRE CLASS=beta>
P1,P2: @product; o1,o2: @P1.order; o3,o4: @P2.order
</PRE>
<P> The objects o1 and o2 are instances of P1.order whereas o3 and o4 are instances of P2.order. The block-structure makes it possible to refer to global names in enclosing objects<A NAME=MARKER-2-138></A>. In the above example, the print operation refers to names in the enclosing order object. This resembles most object-oriented languages where operations inside a procedure refer to names in the enclosing object. The print operation, however, also refers to names in the surrounding productDescription object. Execution of say o1.print will thus print the values of P1.name, P1.price, P1.noOfSoldUnits, o1.orderDate, and o1.c.</P>












