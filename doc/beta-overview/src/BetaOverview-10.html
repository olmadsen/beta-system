<H1>7.1  Virtual procedure pattern</H1>
<DL>
<DT><DD>The attribute <CODE>ComputeSalary</CODE> of pattern <CODE>Employee</CODE> is an example of a virtual procedure pattern. In this example the do-part of the virtual definition in <CODE>Employee</CODE> is very simple, only consisting of an <EM>inner</EM>-imperative. The extended definitions of <CODE>ComputeSalary</CODE> in <CODE>Worker</CODE> and <CODE>Salesman</CODE> both includes the code <CODE>noOfHours*80 </CODE>and<CODE> 0<EM>->totalHours</EM></CODE>. This code may instead be defined in the definition of <CODE>ComputeSalary</CODE> in <CODE>Employee</CODE> as shown below:
</DL>
<PRE CLASS=beta>
Employee:
  (# ...
     ComputeSalary:&lt; 
     (#<EM> </EM>salary: @ integer<EM> 
     do</EM> noOfHours*80<EM>-></EM>salary<EM>; inner</EM>; 0<EM>-></EM>totalHours 
        <EM>exit</EM> salary
     #)
  #);
Worker: Employee
  (# 		...
     ComputeSalary::&lt; (#<EM>do</EM> seniority*4+salary ->salary; <EM>inner</EM> #)
  #);
Salesman: Employee
  (# 		...
     ComputeSalary::&lt;
     (#<EM>do</EM> noOfSoldUnits*6+salary ->salary; 0 ->noOfSoldUnits<EM>; inner</EM> #)
  #)
</PRE>
<DL>
<DT><DD>The extended definitions of <CODE>ComputeSalary</CODE> in <CODE>Worker</CODE> and <CODE>Salesmen</CODE> have an <EM>inner</EM> to make it possible to make further extensions of <CODE>ComputeSalary</CODE> in subpatterns of <CODE>Worker</CODE> and <CODE>Salesman</CODE>.
</DL>







<!-- TOC -->




