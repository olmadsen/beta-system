<H1>8  Multiple Threads</H1>
<DL>
<DT><DD>A BETA object may be the basis for an execution thread. Such a thread will consist of a stack of objects currently being executed. An object which can be used as the basis for an execution thread has to be declared as an object of kind component as shown in the following declaration:
</DL>
<PRE CLASS=beta>
A: @ | Activity
</PRE>
<DL>
<DT><DD>The symbol<CODE> '|'</CODE> describes that the object <CODE>A</CODE> is a component. A component (thread) may be executed as a coroutine or it may be forked as a concurrent process. Consider the following description of <CODE>Activity</CODE>:
</DL>
<PRE CLASS=beta>
Activity:
  (#
     <EM>do </EM>cycle
     (#
        <EM>do</EM>		GetOrder; <EM>suspend</EM>;
        ProcessOrder; <EM>suspend</EM>;
        DeliverOrder; <EM>suspend
  #)#)</EM>
</PRE>
<DL>
<DT><DD>The component object may be invoked by an imperative
</DL>
<PRE CLASS=beta>
A
</PRE>
<DL>
<DT><DD>which implies that the do-part is executed. The execution of <CODE>A</CODE> is temporarily suspended when <CODE>A</CODE> executes a <EM>suspend</EM>-imperative. In the above example this happens after the execution of <CODE>GetOrder</CODE>. A subsequent invocation of <CODE>A</CODE> will resume execution after the <EM>suspend</EM>-imperative. In the above example this means that <CODE>ProcessOrder</CODE> will be executed. If <CODE>B</CODE> is also an instance of <CODE>Activity</CODE>, then the calling object may alternate between executing <CODE>A</CODE> and <CODE>B</CODE>:
</DL>
<PRE CLASS=beta>
cycle(#<EM>do</EM> A; ... B; ... #)
</PRE>
<DL>
<DT><DD>The above example shows how to use components as deterministic coroutines in the sense that the calling object controls the scheduling of the coroutines. In section 8.1 below another example of using coroutines will be given.
</DL>
<P> It is also possible to execute component objects concurrently. By executing</P>
<PRE CLASS=beta>
A.fork; B.fork
</PRE>
<DL>
<DT><DD>the component objects <CODE>A</CODE> and <CODE>B</CODE> will be executed concurrently. As for the deterministic coroutine situation, <CODE>A</CODE> and <CODE>B</CODE> will temporarily suspend execution when they execute a <EM>suspend</EM>-imperative. Further examples of concurrent objects will be given below in section 8.2.
</DL>
<P> </P>







<!-- TOC -->




