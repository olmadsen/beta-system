<body>
<H2> 6. Imperatives </H2>

<H3> 6.1 General If-Imperative </H3>
A general if-imperative has the form:

<PRE class=beta>
(if E0 
 // E1 then ... 
 // E2 then ... 
 ...
 // En then ...
if) 
</PRE>

<P> with a possible else-part.

<P> The value of <tt>E0</tt>, <tt>E1</tt>, <tt>E2</tt>, ...,
<tt>En</tt> must be of type int, bool, char, real, iref or cref.

<P> It is thus not possible to compare a list of values as in:

<PRE class_beta>
(# P: (# ... exit(e1,e2,e3) #);
   A: (# ... exit(f1,f2,f3) #);
do (if P
    // A then ...
    // (g1,g2,g3) then ...
   if)
#)
</PRE>

<A NAME=HEADING2-1005></A>
<H3> 6.2  Simple If-Imperative</H3>
<P> Often the following If imperative is used:</P>
<PRE class=beta>
(if boolExp // true
 then ...
 else ...
if);
</PRE>

<P> The current version of the compiler supports an extension to the
BETA language called <em>Simple If Imperative</em><A
NAME=MARKER-2-18></A>.  This extension means, that the case-selector
// may be omitted, if the evaluation on the left hand side exits a
boolean. That is, the above may be written</P>

<PRE class=beta>
(if boolExp
 then ...
 else ...
if);
</PRE>

<P> Like in the general if-statement, the else part is optional.</P>
<A NAME=HEADING2-1021></A>

<H3> 6.3 The labeled compound imperative </H3>
The labeled compound imperative:

<PRE class=beta>(L: imp1; imp2; ...; impN :L)</PRE>

<P>  has been eliminated from the language. 
Instead the following construct may be used:</P>

<PRE class=beta>L: (# do imp1; imp2; ... ; impN; #)</PRE>

<P> Inserted items with no declarations and no superpattern will be
inlined in the enclosing code. There will thus be no execution
overhead compared to the old (never implemented) labeled compound
imperative statement.</P>

<H3> 6.4 Leave- and Restart Imperative </H3>
It is in general not possible to use leave P or restart P where P is a pattern. P must in general be a label.  <I>However</I>, the following has been implemented:</P>

<PRE class=beta>
P: (#
   do ...
      leave P
      ... 
      restart P;
      ...
   #)
</PRE>
<P>  Leave/restart from an inserted item, however, is <I>not</I> supported by the current version of the compiler:</P>
<PRE class=beta>
P: (#
   do ...
      (#
      do ...
         leave P; (* ILLEGAL *)
         ... 
         restart P; (* ILLEGAL *)
         ...
      #)
      ...
   #)
</PRE>


<H3> 6.5 Inserted items</H3>

If P is a pattern then an inserted item ([MMN93], section 5.10.2) may
be specified as:

<PRE class=beta>(# ...  do ...; P; ... #)</PRE>

<P> Inserted items are implemented as dynamic items (&amp;P). 

<P> Inserted components ([MMN93Madsen93], section 5.10.3):

<PRE class=beta>do ...; |(# ... #); ...</PRE>

<P> have not been implemented. </P>

</body>
