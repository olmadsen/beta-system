
<H1>Imperatives </H1>

<H2>General If-Imperative </H2>
A general if-imperative has the form:

<BETA>
(if E0 
 // E1 then ... 
 // E2 then ... 
 ...
 // En then ...
if) 
</BETA>

<P> with a possible else-part.

<P> The value of <tt>E0</tt>, <tt>E1</tt>, <tt>E2</tt>, ...,
<tt>En</tt> must be of type int, bool, char, real, iref or cref.

<P> It is thus not possible to compare a list of values as in:

<BETA>
(# P: (# ... exit(e1,e2,e3) #);
   A: (# ... exit(f1,f2,f3) #);
do (if P
    // A then ...
    // (g1,g2,g3) then ...
   if)
#)
</BETA>


<H2>Simple If-Imperative</H2>
<P> Often the following If imperative is used:
<BETA>
(if boolExp // true
 then ...
 else ...
if);
</BETA>

<P> The current version of the compiler supports an extension to the
BETA language called <INX><em>Simple If Imperative</em></INX>.  This extension means, that the case-selector
// may be omitted, if the evaluation on the left hand side exits a
boolean. That is, the above may be written

<BETA>
(if boolExp
 then ...
 else ...
if);
</BETA>

<P> Like in the general if-statement, the else part is optional.


<H2>The labeled compound imperative </H2>
The labeled compound imperative:

<BETA>(L: imp1; imp2; ...; impN :L)</BETA>

<P>  has been eliminated from the language. 
Instead the following construct may be used:

<BETA>L: (# do imp1; imp2; ... ; impN; #)</BETA>

<P> Inserted items with no declarations and no superpattern will be
inlined in the enclosing code. There will thus be no execution
overhead compared to the old (never implemented) labeled compound
imperative statement.

<H2>Leave- and Restart Imperative </H2>
It is in general not possible to use leave P or restart P where P is a pattern. P must in general be a label.  <I>However</I>, the following has been implemented:

<BETA>
P: (#
   do ...
      leave P
      ... 
      restart P;
      ...
   #)
</BETA>
<P>  Leave/restart from an inserted item, however, is <I>not</I> supported by the current version of the compiler:
<BETA>
P: (#
   do ...
      (#
      do ...
         leave P; (* ILLEGAL *)
         ... 
         restart P; (* ILLEGAL *)
         ...
      #)
      ...
   #)
</BETA>


<H2>Inserted items</H2>

If P is a pattern then an inserted item ([MMN93], section 5.10.2) may
be specified as:

<BETA>(# ...  do ...; P; ... #)</BETA>

<P> Inserted items are implemented as dynamic items (&amp;P). 

<P> Inserted components ([MMN93Madsen93], section 5.10.3):

<BETA>do ...; |(# ... #); ...</BETA>

<P> have not been implemented. 


