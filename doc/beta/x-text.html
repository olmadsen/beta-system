<body>
<H2> 5. Pattern text and wtext</H2>
Pattern <tt>text</tt> represents 8-bit ASCII texts.

<P>Pattern <tt>wtext</tt> represents 16-bit UniCode texts.
For details see the library <tt>basiclib/wtext.bet</tt>.
Operations supporting conversion between <tt>text</tt> and
<tt>wtext</tt> are available. In a future version of BETA,
<tt>wtext</tt> may replace <tt>text</tt>. 

<H3> 5.1  String Literals as References</H3>

<P> The pattern <tt>Text</tt> enters and exits a char-repetition. This means,
that a text may be initialized using constant strings as follows:</P>

<PRE class=beta>
   t: @text;
do 'hello' -&gt; t;
</PRE>

<P> Many operations involving texts, however, takes <I>references</I>
to texts as enter/exit parameters. This is mainly for efficiency
reasons.</P> <P> To allow easy invocation of such operations on string
literals, the following is <I>also</I> allowed:</P>

<PRE class=beta>
   t: ^text;
do 'hello' -&gt; t[];
</PRE>

<P> The semantics of this is, that a text object is instantiated,
initialized by the constant string, and finally assigned to the text
reference. It thus corresponds to the following code:
<PRE class=beta>
do &text[] -> t[];
   'hello' -> t
</PRE>

<A NAME=HEADING2-977></A>
<H3> 5.2  Special Characters in String Literals</A></H3>

<P> The following <em>special characters</em><A NAME=MARKER-2-17> are
allowed in BETA string literals.</P>

<TABLE border class=opaque><CAPTION><P> </P>
</CAPTION><TR VALIGN=TOP><TD><P> \a alert (bell) character</P>
<P> \b backspace<A NAME=MARKER-2-1></A></P>
<P> \f formfeed<A NAME=MARKER-2-2></A></P>
<P> \n newline<A NAME=MARKER-2-3></A></P>
<P> \r carriage return<A NAME=MARKER-2-4></A></P>
<P> \t horizontal tab<A NAME=MARKER-2-5></A></P>
</TD><TD><P> \v vertical tab<A NAME=MARKER-2-6></A></P>
<P> \\ backslash<A NAME=MARKER-2-7></A></P>
<P> \? question mark<A NAME=MARKER-2-8></A></P>
<P> \' single quote<A NAME=MARKER-2-9></A></P>
<P> \&quot; double quote<A NAME=MARKER-2-10></A></P>
<P> \ooo octal number<A NAME=MARKER-2-11></A></P>
</TD></TR></TABLE>

<P> <tt>\ooo</tt> can also be <tt>\o</tt> or <tt>\oo</tt>, if the
character immediately following <tt>\o</tt> or <tt>\oo</tt>
respectively, is not a digit.

<P>Previous versions of BETA has allowed <tt>''</tt> to represent a
quote <tt>'</tt> in strings as in <tt>'Tom''s Cottage'</tt>.  <b>This
is no longer allowed</b>. Quote must be represented using <tt>\'</tt>
as in:

<PRE CLASS=beta> 'Tom\'s Cottage' </PRE>

<H3> 5.3 Text Literal Concatenation </H3>

A text literal cannot contain newlines. Alternatively a text literal
may be written as a sequence of strings separated by white space as in:

<PRE class=beta>
'Lisa Nelson, '
'2454 West Street, '
'Palo Alto, CA 94304' -> T[]
</PRE>

This corresponds to:

<PRE class=beta>
'Lisa Nelson, 2454 West Street, Palo Alto, CA 94304' -> T[]
</PRE>

<H3> 5.4 Text literals </H3>
Text literals like <tt>'Hello'</tt> may be considered as abbreviations
of char repetition constructors like <tt>('H','e','l','l','o')</tt>.
Consider:
<PRE class=beta>Q: [1]@char</PRE>
<p>The evaluation:</p>
<PRE class=beta>'Hello' -> Q</PRE>
may considered as an abbreviation for:
<PRE class=beta>('H','e','l','l','o') -> Q</PRE>

</body>
