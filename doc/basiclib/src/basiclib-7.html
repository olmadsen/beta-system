<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd"
>
<HTML>
<HEAD>
<META http-equiv="Content-Type" CONTENT="text/html; CHARSET=ISO-8859-1">
<TITLE> Basic Object Patterns</TITLE>
<LINK REL=stylesheet HREF=../style/miadoc.css TYPE=text/css>

</HEAD>
<BODY>


<A NAME=HEADING7></A>


<P><A HREF=basiclib-8.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=basiclib-6.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=basiclib-3.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF="../index.html"><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF="index.html#_toc"><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>
<P> The Basic Libraries</P>


<A NAME=HEADING7-0></A>
<H1> Basic Object Patterns</H1>
<P> The basic object oriented patterns are the object<A NAME=MARKER-2-30></A> pattern and the object oriented variants of the basic patterns.</P>
<A NAME=HEADING7-2></A>
<H1> The Object Pattern</H1>
<P> The object pattern functions as the implicit superpattern: for all patterns which do not have any explicit superpattern:. The pattern object is defined as follows:</P>
<PRE CLASS=beta>
object: (* general superpattern: *)
   (# _struc:
        (#
        exit this(object)##
        #);
     _new:
        (# O: ^object
        do ... 
        exit O[]
        #)
   do inner
   #);
</PRE>
<P> The attribute _struc<A NAME=MARKER-2-31></A> returns a reference to the structure of the current object (i.e. a pattern reference to the pattern from which this object was created). The attribute _struc is maintained in v1.6 for backward-compatability reasons.  It will be removed in next release, since it will become obsolite, since O## is allowed in the case where O is the name of an object. However, previous releases of the compiler disallows this construct in some cases due to an error.  Only in these cases, it is recommended to use the O._struc construct.</P>
<P> The attribute _new<A NAME=MARKER-2-32></A> returns a new object, that is qualified exactly as THIS(object).  This new object is default initialized.</P>
<H2> Objects of simple types</H2>
<P> All patterns except char, integer, real, boolean, true and false are subpatterns of Object. To enable handling integers, reals, characters and booleans like any other objects in the system, the patterns charObject<A NAME=MARKER-2-33></A>, integerObject<A NAME=MARKER-2-34></A>, realObject<A NAME=MARKER-2-35></A>, booleanObject<A NAME=MARKER-2-36></A>, trueObject<A NAME=MARKER-2-37></A>, and falseObject<A NAME=MARKER-2-38></A> have been introduced. They are genuine patterns, corresponding to the basic patterns, described above. They are specializations of Object that can be used instead of the basic patterns. They have all properties ordinary patterns have (in contrast to the basic patterns).</P>
<A NAME=HEADING7-22></A>
<H1> The charValue, integerValue, booleanValue and realValue Patterns</H1>
<P> The charValue<A NAME=MARKER-2-39></A>, integerValue<A NAME=MARKER-2-40></A>, booleanValue<A NAME=MARKER-2-41></A>, and realValue<A NAME=MARKER-2-42></A> patterns are object oriented variants of the basic patterns (i.e. built-in patterns). They are used in all cases where a value of the given type is needed. E.g. a booleanValue may be used as superpattern for patterns returning boolean results.</P>
<A NAME=HEADING7-24></A>
<H1> The charObject, integerObject, booleanObject, trueObject, falseObject and realObject Patterns</H1>
<P> These patterns are subpatterns: of the charValue, integerValue, etc. patterns above, and gives the final functionality to allow these variants of the basic patterns to be used a genuine patterns.</P>
<P> These patterns can for instance be utilized when programming general data structures. Consider a data structure list which defines its element type as a virtual Object. </P>
<PRE CLASS=beta>
list: 
(# element :&lt; object;
   insert: (# e: ^element enter e[] do ... #)
   remove: (# e: ^element do ... exit e[] #)
#)
</PRE>
<P> When list is applied in a specific application, the element type is bound. The following is an example of how a list of integers and a list of editors can be declared and manipulated: </P>
<PRE CLASS=beta>
(# integerList: @list(# element::&lt; integerObject #);  
   editor: 
     (# window: ...
        menus: ...
        cut: ...
        copy: ...
        paste: ...
     #);    
   ed: ^editor;
   editorList: @list(# element::&lt; editor #); 
   io: ^integerObject;
do &amp;integerObject[] -&gt; io[]; 7 -&gt; io;
   io[] -&gt; integerList.insert;
   ...
   editorList.remove -&gt; ed[];
   ...
#)
</PRE>




<HR>
<P>
<TABLE border=0 width="100%">
<TR>
<TD width="40%" align="left">
<ADDRESS>Basic Libraries</ADDRESS>
</TD>
<TD width="20%" align="center"><FONT SIZE="-1">&#169; <A HREF="http://www.mjolner.com">Mj&oslash;lner Informatics</A></FONT></TD>
<TD width="40%" align="right"><SCRIPT TYPE="text/javascript" LANGUAGE=JavaScript SRC="../javascript/lastmod.js"></SCRIPT></TD>
</TABLE>
<P>
<P><A HREF=basiclib-8.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=basiclib-6.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=basiclib-3.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF="../index.html"><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF="index.html#_toc"><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>


</BODY>
</HTML>
