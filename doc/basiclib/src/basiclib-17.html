<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd"
>
<HTML>
<HEAD>
<META http-equiv="Content-Type" CONTENT="text/html; CHARSET=ISO-8859-1">
<TITLE> Using the formatio Fragment</TITLE>
<LINK REL=stylesheet HREF=../style/miadoc.css TYPE=text/css>

</HEAD>
<BODY>


<A NAME=HEADING17></A>


<P><A HREF=basiclib-18.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=basiclib-16.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=basiclib-16.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF="../index.html"><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF="index.html#_toc"><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>
<P> The formatio Library</P>


<A NAME=HEADING17-0></A>
<H1> Using the formatio Fragment</H1>
<P> A program using the formatio fragment will have the following structure:</P>
<PRE CLASS=beta>
INCLUDE '~beta/basiclib/formatio
--- program: descriptor ---
(# ...
   r: @real;
do ...
   'real value: %e' -&gt; putformat(# do r-&gt;e #);
   ..
#)
</PRE>
<A NAME=HEADING17-11></A>
<H1> Illustrating putFormat</H1>
<A NAME=putformatDemo.bet><H4 CLASS=betacaption>putformatDemo.bet</H4></A>
<PRE CLASS=beta>
ORIGIN '~beta/basiclib/formatio';
--- program: descriptor ---
(#
do 'string=%s, integer=%i, real=%f\n\n'
     -&gt; putFormat(# do 'abc'-&gt;s; -30-&gt;i; 3.14-&gt;f #);
   
   '(1234567){12345678}[123456789]\n' -&gt; putFormat;
   '(%7i){%8i}[%9i]\n\n' -&gt; putFormat(# do 27-&gt;i; 30-&gt;i; -45-&gt;i #);
   
   '&quot;%%s,%%s,%%s&quot; = %s,%s,%s\n\n'
     -&gt; putFormat(# do '27'-&gt;s; 'Hello'-&gt;s; '-45'-&gt;s #);
   
   '  123456789   1234567890123456       12345678\n' -&gt; putFormat;
   'x=%9.3f,y=%16.e,z=%.8f\n\n' 
     -&gt; putFormat(# do 27.5-&gt;f; 30.5-&gt;e; -45.5-&gt;f #);
   
   '  1234567890   1234567890   12345678\n' -&gt; putFormat;
   'x=%*.*f,y=%*.2e,z=%8.*f\n\n'
     -&gt; putFormat(# do 10-&gt;width; 3-&gt;precision; 27.5-&gt;f; 30.5-&gt;e; -45.5-&gt;f #);
   
#)
</PRE>
<A NAME=HEADING17-37></A>
<H1> Illustrating getFormat</H1>

<A NAME=getformatDemo.bet><H4 CLASS=betacaption>getformatDemo.bet</H4></A>
<PRE CLASS=beta>
ORIGIN '~beta/basiclib/formatio';
--- program: descriptor ---
(# i1, i2, i3, i4, i5: @integer;
   s1, s2: ^text;
   r1, r2, r3: @real;
   chr: @char;
   t, fmt: ^text;
do '123,%456, 789 JorgenLKnudsen 1.2,2+2=43.45, 67.89 abc, 101, 0x101, 0101, 101xxx'-&gt;t[];
   0-&gt;t.pos;
   
   'input:\t&quot;%s&quot;\n\n' -&gt; putFormat(# do t[]-&gt;s #); newline;
   
   '%i,%%%i, %i' -&gt; fmt[] -&gt; t.getFormat(# do i-&gt;i1; i-&gt;i2; i-&gt;i3 #);
   'format:\t%s\nread:\t%i, %i, %i\n\n'
     -&gt; putFormat(# do fmt[]-&gt;s; i1-&gt;i; i2-&gt;i; i3-&gt;i #);
   
   '%6s%c%s' -&gt; fmt[] -&gt; t.getFormat(# do s-&gt;s1[]; c-&gt;chr; s-&gt;s2[] #);
   'format:\t&quot;%s&quot;\nread:\t&quot;%s&quot;, &quot;%c&quot;, &quot;%s&quot;\n\n'
     -&gt; putFormat(# do fmt[]-&gt;s; s1[]-&gt;s; chr-&gt;c; s2[]-&gt;s #);
   
   '%f,2+2="4%"e, %f' -&gt; fmt[] -&gt; t.getFormat(# do f-&gt;r1; e-&gt;r2; f-&gt;r3 #);
   'format:\t&quot;%s&quot;\nread:\t%f, %f, %f\n\n'
     -&gt; putFormat(# do fmt[]-&gt;s; r1-&gt;f; r2-&gt;f; r3-&gt;f #);
      
   '%x, %o, %i, %i, %i%s' -&gt; fmt[] 
     -&gt; t.getFormat(# do x-&gt;i1; o-&gt;i2; i-&gt;i3; i-&gt;i4; i-&gt;i5; s-&gt;s1[] #);
   'format:\t&quot;%s&quot;\nread:\t%i, %i, %i, %i, %i, &quot;%s&quot;\n'
     -&gt; putFormat(# do fmt[]-&gt;s; i1-&gt;i; i2-&gt;i; i3-&gt;i; i4-&gt;i; i5-&gt;i; s1[]-&gt;s #);
   
   '123,%456, 124 %JorgenLKnudsen 1.2,2+2=43.45, 67.89 abc, 111, 0x111, 0111, 111xxx'-&gt;t[];
   0-&gt;t.pos;
   '\n\ninput:\t&quot;%s&quot;\n\n' -&gt; putFormat(# do t[]-&gt;s #); newline;
   
   '%i,%%%i, %i %6s%c%s%f' -&gt; fmt[] -&gt; t.getFormat(# do i-&gt;i1; i; i-&gt;i2; s; c; s; f-&gt;r1; #);
   'format:\t%s\nread:\t%i, %i, %f\n\n'
     -&gt; putFormat(# do fmt[]-&gt;s; i1-&gt;i; i2-&gt;i; r1-&gt;f; #);
   
#)
</PRE>
<P> </P>




<HR>
<P>
<TABLE border=0 width="100%">
<TR>
<TD width="40%" align="left">
<ADDRESS>Basic Libraries</ADDRESS>
</TD>
<TD width="20%" align="center"><FONT SIZE="-1">&#169; <A HREF="http://www.mjolner.com">Mj&oslash;lner Informatics</A></FONT></TD>
<TD width="40%" align="right"><SCRIPT TYPE="text/javascript" LANGUAGE=JavaScript SRC="../javascript/lastmod.js"></SCRIPT></TD>
</TABLE>
<P>
<P><A HREF=basiclib-18.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=basiclib-16.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=basiclib-16.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF="../index.html"><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF="index.html#_toc"><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>


</BODY>
</HTML>
