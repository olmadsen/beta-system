<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd"
>
<HTML>
<HEAD>
<META http-equiv="Content-Type" CONTENT="text/html; CHARSET=ISO-8859-1">
<TITLE> Regular Expression Registers</TITLE>
<LINK REL=stylesheet HREF=../style/miadoc.css TYPE=text/css>

</HEAD>
<BODY>


<A NAME=HEADING21></A>


<P><A HREF=basiclib-22.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=basiclib-20.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=basiclib-20.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF="../index.html"><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF="index.html#_toc"><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>
<P> The regexp Library</P>


<A NAME=HEADING21-0></A>
<H1> Regular Expression Registers</H1>
<P> The special regexp parenthesis (i.e. \( ... \)) are used for three different purposes: </P>
<UL>
<LI>to make the regexp operators work on entire sub-regexp: e.g.
<LI>123*4 matches 124, 1234, 12334, 123334, etc., whereas 1\(23\)*4 matches 124, 1234, 123234, 12323234, etc. (and not 12334, 123334, etc.).
<LI>to delimit alternatives: e.g. 1\(2\|3\)4 matches 124 and 134.
<LI>to mark a matched substring for future reference. In regexg_replace, \0, \1, \2, ..., \9 substrings will be replaced with the matched substring. We will here give a short introduction to accessing these registers from a BETA program.
</UL>
<P> We would like to give a little more details on the (3) purpose. Let us assume, that we invoke:</P>
<P> </P>
<PRE CLASS=beta>
'sum: \([0-9]+\)\.\([0-9]\) US$'
  -&gt; t.regexp_search 
        (# 
        do 'The amount is: '-&gt;puttext;
           (1-&gt;regs.start+1,1-&gt;regs.end)-&gt;t.sub-&gt;puttext;
           ' dollars and '-&gt;puttext;
           (2-&gt;regs.start+1,2-&gt;regs.end)-&gt;t.sub-&gt;puttext;
           ' cents'-&gt;putline
        #)
</PRE>
<P> </P>
<P> The intent is to find some amount i the t text variable. The amount should be found in a context of the form: 'sum: XXX.YYY US$', where XXX and YYY may be any number. If found, the amount will be written on standard screen in the form: 'The amount is: XXX dollars and YYY cents'.</P>
<P> Note the use of i-&gt;regs.start and i-&gt;regs.end, which returns the character positions of the i'th matched substring (in this case the 1'st and 2'nd substring, containing the amount of dollars and the amount of cents, respectively). As it can be seen, these constructs can be used within the action-parts of all regexp operations to gain access to the matched substrings (note that the 0'th substring is the entire string matched).</P>




<HR>
<P>
<TABLE border=0 width="100%">
<TR>
<TD width="40%" align="left">
<ADDRESS>Basic Libraries</ADDRESS>
</TD>
<TD width="20%" align="center"><FONT SIZE="-1">&#169; <A HREF="http://www.mjolner.com">Mj&oslash;lner Informatics</A></FONT></TD>
<TD width="40%" align="right"><SCRIPT TYPE="text/javascript" LANGUAGE=JavaScript SRC="../javascript/lastmod.js"></SCRIPT></TD>
</TABLE>
<P>
<P><A HREF=basiclib-22.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=basiclib-20.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=basiclib-20.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF="../index.html"><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF="index.html#_toc"><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>


</BODY>
</HTML>
