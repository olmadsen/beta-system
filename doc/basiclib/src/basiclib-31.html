<H2> Using the SystemEnv Fragment</H2>
<P> A program using the systemEnv fragment will have the following structure:</P>
<BETA>
INCLUDE '~beta/basiclib/systemenv'
--- program: descriptor ---
systemenv
(# process: @ |system(# ... #);
do ...
   process[] -> fork;
   ...
#)
</BETA>
<A NAME=HEADING31-11></A>
<H3> The Monitor Example</H3>
<P> The following is an example of a producer/consumer system with a shared buffer (implemented as a 20 element character buffer, protected as a monitor. The producer and consumer are concurrent objects:</P>

<BETA SRC="$BETALIB/basiclib/demo/systemenv/buffer.bet" LIST="buffer.bet">
<A NAME=HEADING31-49></A>
<H3> The Monitor with Wait Example</H3>
<P> This example is similar to the previous, except that wait is used instead of condition to control the medium-term scheduling of access to the buffer. </P>

<BETA SRC="$BETALIB/basiclib/demo/systemenv/OCbuf.bet" LIST="OCbuf.bet">
<A NAME=HEADING31-85></A>
<H3> The Ports Example</H3>
<P> The following is an example of three communicating objects: S, R1 and R2. R1 and R2 are similar (instances of the same Rtype pattern). </P>
<P> Rtype defines two ports: p1 and p2, with a get entry in p1 and a put entry in p2. The get entry prints the value of the x attribute on standard output, and put prints the y attribute. Rtype objects repeatedly accepts p1 communications followed by p2 communications (i.e. since in this example, only get is define in p1, and only put in p2, this implies get followed by put). Note that the use of ports, allows specializations of Rtype to define new entries in p1 and/or p2, such that these communications follow the same communication structure. </P>
<P> The S object defines two internal objects, C1 and C2, which are executed alternating. C1 is responsible for the communication with R1 and C2 is responsible with the communication with R2. It is in this way ensured that the communication pattern between S and R1 follows the get followed by put pattern (the same for S and R2), but these two communication patterns may be non-deterministically interleaved.</P>

<BETA SRC="$BETALIB/basiclib/demo/systemenv/altex1.bet" LIST="altex1.bet">
<A NAME=HEADING31-121></A>
<H3> The ObjectPort Example</H3>
<P> This example illustrates the use of the ObjectPort facility. The S object defines f1, f2, and f3 communication entries, where f1 is controlled by an objectPort. This enables S to control exactly which object which is allowed to communicate f3's in an accept. Note, that initially, R.R1 is allowed, and later R.R3 is allowed:</P>

<BETA SRC="$BETALIB/basiclib/demo/systemenv/sys1.bet" LIST="sys1.bet">
<P> </P>





