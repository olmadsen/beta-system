<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>

<HEAD>




<TITLE> Interfacing to External Pascal Procedures</TITLE>
<LINK REL=stylesheet HREF=../style/miadoc.css TYPE=text/css>

</HEAD>
<BODY>


<A NAME=HEADING81></A>


<P><A HREF=basiclib-82.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=basiclib-80.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=basiclib-78.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF=../index.html><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF=index.html><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>
<P> Using the external Fragment</P>


<A NAME=HEADING81-0></A>
<H1> Interfacing to External Pascal Procedures</H1>
<P> When interfacing to Pascal or another programming language with a similar activation record organization the pattern Pascal must be called in the do-part of the External specialization. The BETA compiler will then generate a call to an external routine with the same name as the BETA pattern, using the Pascal style of passing parameters. </P>
<P> A pattern of the form</P>
<PRE CLASS=beta>
foo: external
(# enter ... do Pascal exit ... #)
</PRE>
<P> describes the interface to an external Pascal function with entry-point foo (_foo). (Note the exit parameters that must be present in Pascal function interfaces.</P>
<P> A Pascal procedure can be interfaced to through a pattern of the form </P>
<PRE CLASS=beta>
foo: external
(# enter ... do Pascal #)
</PRE>
<P> If the entry-point of the Pascal function or procedure needs to be explicitly specified, a pattern of the form </P>
<PRE CLASS=beta>
foo: external
(# enter ... do 'X$bar' -&gt; Pascal ... #)
</PRE>
<P> can be used to describe the interface to an external Pascal procedure, where the entry-point for the Pascal procedure is X$bar instead of foo. </P>
<P> A pattern of the form </P>
<PRE CLASS=beta>
foo: external
(# enter ... do '$...' -&gt; PascalTrap exit ... #)
</PRE>
<P> or</P>
<PRE CLASS=beta>
foo: external
(# enter ... do '{$...,$...,...}' -&gt; PascalTrap exit ... #)
</PRE>
<P> describes the interface to an external Pascal procedure that is called using Motorola traps. The string in the first example is in the form of a single hexadecimal number, preceded with a $ (e.g. '$A9FF'). The string in the second example is in the form of a comma separated list of hexadecimal numbers, each preceded with a $ and enclosed with braces (e.g. '{$A9FF,$02F4}'). Decimal numbers may be used for specifying the traps. This is done by leaving out the $.</P>











<HR>
<P>
<TABLE cols=3 border=0 width=100%>
<TR>
<TD width="33%" align="left">
<ADDRESS>Basic Libraries - Reference Manual</ADDRESS>
</TD>
<TD width="34%" align="center"><FONT size=-1>&COPY; <A HREF="http://www.mjolner.com">Mj&oslash;lner Informatics</A></FONT></TD>
<TD width="33%" align="right"><FONT size=-1><SCRIPT LANGUAGE=JavaScript SRC="../javascript/lastmod.js"></SCRIPT></FONT></TD>
</TABLE>
<P>
<P><A HREF=basiclib-82.html><IMG ALIGN=BOTTOM SRC="../images/next.gif" ALT=Next BORDER=0></A>
<A HREF=basiclib-80.html><IMG ALIGN=BOTTOM SRC="../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF=basiclib-78.html><IMG ALIGN=BOTTOM SRC="../images/up.gif" ALT=Up BORDER=0></A>
<A HREF=../index.html><IMG ALIGN=BOTTOM SRC="../images/top.gif" ALT=Top BORDER=0></A>
<A HREF=index.html><IMG ALIGN=BOTTOM SRC="../images/content.gif" ALT=Contents BORDER=0></A>
<A HREF=inx.html><IMG ALIGN=BOTTOM SRC="../images/index.gif" ALT=Index BORDER=0></A></P>


</BODY>
</HTML>
