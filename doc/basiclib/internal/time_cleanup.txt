Subject: Millisekund måling
To: steph@cs.au.dk (Stephanie Elisabeth Fournier Munck)
Date: Wed, 14 Apr 1999 13:25:29 +0200 (MET DST)

Jeg har spurgt om mulighed for millisekund måling i BETA.
Det er der, men det ligger pt i basiclib/basicsystemenv.

I et guienv program kan du bruge det ved at have origin i 
guienv/guienvsystemenv, og ellers tilpasse det som beskrevet i
den fil.

Herefter kan du bruge funktionen timeStamp, der returnerer 
det givne tidspunkt i sekunder med decimaler (er en real).
Så en difference mellem sådanne to vil være antal sekunder
mellem de to hændelser.

timeStamp beregner tiden så nøjagtigt som det er muligt på
platformen.

/Peter

-----------------------------------

CPN: Bruger GetTickCount (WIN32 external) fordi "det er den eneste
måde at få et nøjagtigt tidsstempel på".

-----------------------------------

To: <datpete@mjolner.dk>
Subject: RE: sysutils manual
Date: Wed, 11 Aug 1999 14:46:51 +0100

Ok, så er jeg enig i, at der skal ryddes op :-)

--- jlk

> -----Original Message-----
> From: datpete@mjolner.dk [mailto:datpete@mjolner.dk]
> Sent: 11. august 1999 15:45
> To: Jorgen Lindskov Knudsen
> Cc: datpete@mjolner.dk; jlk@mjolner.dk
> Subject: Re: sysutils manual
>
>
> Jorgen Lindskov Knudsen writes:
> >
> > Men den er jo platformspecifik, hvorfor den ikke 'tæller med' i
> diskussionen
> > omkring div. time ting :-)
>
> Njaaaah, ikke helt: Hvis man kigger efter er koden replikeret i
> basiclib/private/basicsystemenv_mac.bet og
> basiclib/private/basicsystemenv_unix.bet.
>
> Implementationerne er forskellige, men interfacet er identisk, hvorfor
> det burde erklæres 'højere oppe' Og hvorfor så ikke i een af "time*"
> filerne? Det er så vidt jeg kan se ikke en systemenv specifik ting.
>
> Og hvorfor er den der? Eller rettere: hvorfor er preciseTime ikke er
> præcis nok?
>
> Stadig noget rod, efter min mening (:-)
> Men måske Morten kan uddybe dette senere....
>
> /Peter
>
> >
> > --- jlk
> >
> > > -----Original Message-----
> > > From: datpete@mjolner.dk [mailto:datpete@mjolner.dk]
> > > Sent: 10. august 1999 12:33
> > > To: Jorgen Lindskov Knudsen
> > > Cc: datpete@mjolner.dk; gram@mjolner.dk; mia-beta@mjolner.dk;
> > > toby@mjolner.dk
> > > Subject: Re: sysutils manual
> > >
> > >
> > > Jorgen Lindskov Knudsen writes:
> > > >
> > > > Peter skriver:
> > > >
> > > > > ... Generelt er der rod i vores time
> > > > > ting. Der er:
> > > > >
> > > > > sysutils/time
> > > > > sysutils/timeHistory
> > > > > basiclib/timeDate
> > > > > basiclib/timehandler
> > > > >
> > > > > og så er der vist flere. F.eks. mener jeg at cpn folkene
> blev henvist
> > > > > til et sted i systemenv for at finde funktioner til at måle
> > > > > milisekundtid nøjagtigt(?)
> > > >
> > > >
> > > > Jeg har kigget lidt på det hyer, og kan ikke rigtigt se, at der
> > > er behov for
> > > > nogen stor oprydning:
> > > >
> > > > 1) CPN2000 folkene fik (så vidt jeg husker) en henvisning til
> > > preciseTime i
> > > > sysutils/time, så det er dækket af din liste.
> > > >
> > >
> > > Det viste sig bare at denne ikke var præcis nok (:-), og derefter
blev
> > > de henvist til getTimeAsDouble i
> > > basiclib/private/basicsystemenv_nt.bet
> > >
> > > Tingene herfra burde nok over i den nye "systemtime.bet" I
> snakkede om.
> > >
> > > /Peter
> > >
> >
> >
>
>

From: <datpete@mjolner.dk>
To: "Jorgen Lindskov Knudsen" <jlk@mjolner.dk>
Cc: <datpete@mjolner.dk>,
	<jlk@mjolner.dk>
Subject: Re: sysutils manual

Jorgen Lindskov Knudsen writes:
>
> Men den er jo platformspecifik, hvorfor den ikke 'tæller med' i
diskussionen
> omkring div. time ting :-)

Njaaaah, ikke helt: Hvis man kigger efter er koden replikeret i
basiclib/private/basicsystemenv_mac.bet og
basiclib/private/basicsystemenv_unix.bet.

Implementationerne er forskellige, men interfacet er identisk, hvorfor
det burde erklæres 'højere oppe' Og hvorfor så ikke i een af "time*"
filerne? Det er så vidt jeg kan se ikke en systemenv specifik ting.

Og hvorfor er den der? Eller rettere: hvorfor er preciseTime ikke er
præcis nok?

Stadig noget rod, efter min mening (:-)
Men måske Morten kan uddybe dette senere....

/Peter

>
> --- jlk
>
> > -----Original Message-----
> > From: datpete@mjolner.dk [mailto:datpete@mjolner.dk]
> > Sent: 10. august 1999 12:33
> > To: Jorgen Lindskov Knudsen
> > Cc: datpete@mjolner.dk; gram@mjolner.dk; mia-beta@mjolner.dk;
> > toby@mjolner.dk
> > Subject: Re: sysutils manual
> >
> >
> > Jorgen Lindskov Knudsen writes:
> > >
> > > Peter skriver:
> > >
> > > > ... Generelt er der rod i vores time
> > > > ting. Der er:
> > > >
> > > > sysutils/time
> > > > sysutils/timeHistory
> > > > basiclib/timeDate
> > > > basiclib/timehandler
> > > >
> > > > og så er der vist flere. F.eks. mener jeg at cpn folkene blev
henvist
> > > > til et sted i systemenv for at finde funktioner til at måle
> > > > milisekundtid nøjagtigt(?)
> > >
> > >
> > > Jeg har kigget lidt på det hyer, og kan ikke rigtigt se, at der
> > er behov for
> > > nogen stor oprydning:
> > >
> > > 1) CPN2000 folkene fik (så vidt jeg husker) en henvisning til
> > preciseTime i
> > > sysutils/time, så det er dækket af din liste.
> > >
> >
> > Det viste sig bare at denne ikke var præcis nok (:-), og derefter blev
> > de henvist til getTimeAsDouble i
> > basiclib/private/basicsystemenv_nt.bet
> >
> > Tingene herfra burde nok over i den nye "systemtime.bet" I snakkede om.
> >
> > /Peter
> >
>
>

From: <datpete@mjolner.dk>
To: "Jorgen Lindskov Knudsen" <jlk@mjolner.dk>
Cc: <datpete@mjolner.dk>,
	<gram@mjolner.dk>,
	<mia-beta@mjolner.dk>,
	<toby@mjolner.dk>
Subject: Re: sysutils manual
Date: Tue, 10 Aug 1999 11:33:21 +0100

Jorgen Lindskov Knudsen writes:
>
> Peter skriver:
>
> > ... Generelt er der rod i vores time
> > ting. Der er:
> >
> > sysutils/time
> > sysutils/timeHistory
> > basiclib/timeDate
> > basiclib/timehandler
> >
> > og så er der vist flere. F.eks. mener jeg at cpn folkene blev henvist
> > til et sted i systemenv for at finde funktioner til at måle
> > milisekundtid nøjagtigt(?)
>
>
> Jeg har kigget lidt på det hyer, og kan ikke rigtigt se, at der er behov
for
> nogen stor oprydning:
>
> 1) CPN2000 folkene fik (så vidt jeg husker) en henvisning til preciseTime
i
> sysutils/time, så det er dækket af din liste.
>

Det viste sig bare at denne ikke var præcis nok (:-), og derefter blev
de henvist til getTimeAsDouble i
basiclib/private/basicsystemenv_nt.bet

Tingene herfra burde nok over i den nye "systemtime.bet" I snakkede om.

/Peter

From: "Jorgen Lindskov Knudsen" <jlk@mjolner.dk>
To: <mia-beta@mjolner.dk>,
	<toby@mjolner.dk>
Subject: RE: sysutils manual
Date: Sun, 8 Aug 1999 15:57:50 +0100

OK, så vil mit modificerede forslag være at flytte den ind i sysutils/time.

--- jlk

> -----Original Message-----
> From: Ole Lehrmann Madsen [mailto:olm@daimi.cs.au.dk]
> Sent: 8. august 1999 16:30
> To: datpete@mjolner.dk; gram@mjolner.dk; jlk@mjolner.dk
> Cc: mia-beta@mjolner.dk; toby@mjolner.dk
> Subject: RE: sysutils manual
>
>
> > > sysutils/timeHistory
> >
> > virker som en ganske specifik operation (gad vide, hvem der bruger den -
> > operationen holder en 'history' af CPUtime - 'guderne' må vide
> hvorfor :-)
> >
> Her er så et svar fra guderne:-)
> Den blev lavet da vi havde brug for at lave tidsmålinger
> på nogle ting - alle havde deres egen udgave og for at sikre
> at tiden og historien blev ens hver gang blev
> den lagt et sted hvor den kan genbruges.
> Så selv om den er lille synes jeg den skal bevares. Den gør vel
> ingen skade?
> Jeg har et antal test programmer der bruger den.
>
> ---olm
>
> > Forslag: fjernes helt, eller flyttes hen til den kode, der anvender den.
> > Operationen består af ca. 10 linier, så et helt fragment er overkill.
> >
> > > basiclib/timeDate
> >
> > er et 'komplet' tid og dato bibliotek, uden overlap med
> sysutils/time (måske
> > kan man sige, at formatTime overlapper med putTime, men det kan jeg ikke
> > gennemskue).
> >
> > > basiclib/timehandler
> >
> > Bør omdøbes til 'timerHandler', da den indeholder den
> funktionalitet at man
> > kan sætter timers op i systemenv programmer.  Overlapper ikke
> med andet i
> > denne liste, men der er også et timer-begreb i guienv.bet, og
> her ser ud til
> > at være et overlap, men der er jo to forskellige
> anvendelsesområder, så det
> > er nok ok.
> >
> > KONKLUSION:
> >
> > Jeg mener, at der kun er behov for:
> > 1) fjernelse af sysutils/timeHistory
> > 2) omdøbning af timeHandler til timerHandler (såvel fragmentnavn som
> > operationsnavn).
> > 3) evt. en undersøgelse af, om formatTime kan fjernes.
> > 4) man kunne omdøbe sysutils/time til til sysutils/systemTime, som er en
> > mere præcis karakteristik, og vil undgå den ny forvirring om,
> hvad er er i
> > fragmentet.
> >
> > --- jlk
> >
>
>

From: "Ole Lehrmann Madsen" <olm@daimi.cs.au.dk>
To: <datpete@mjolner.dk>,
	<gram@mjolner.dk>,
	<jlk@mjolner.dk>
Cc: <mia-beta@mjolner.dk>,
	<toby@mjolner.dk>
Subject: RE: sysutils manual
Date: Sun, 8 Aug 1999 15:30:04 +0100

> > sysutils/timeHistory
>
> virker som en ganske specifik operation (gad vide, hvem der bruger den -
> operationen holder en 'history' af CPUtime - 'guderne' må vide hvorfor :-)
>
Her er så et svar fra guderne:-)
Den blev lavet da vi havde brug for at lave tidsmålinger
på nogle ting - alle havde deres egen udgave og for at sikre
at tiden og historien blev ens hver gang blev
den lagt et sted hvor den kan genbruges.
Så selv om den er lille synes jeg den skal bevares. Den gør vel ingen skade?
Jeg har et antal test programmer der bruger den.

---olm

> Forslag: fjernes helt, eller flyttes hen til den kode, der anvender den.
> Operationen består af ca. 10 linier, så et helt fragment er overkill.
>
> > basiclib/timeDate
>
> er et 'komplet' tid og dato bibliotek, uden overlap med sysutils/time
(måske
> kan man sige, at formatTime overlapper med putTime, men det kan jeg ikke
> gennemskue).
>
> > basiclib/timehandler
>
> Bør omdøbes til 'timerHandler', da den indeholder den funktionalitet at
man
> kan sætter timers op i systemenv programmer.  Overlapper ikke med andet i
> denne liste, men der er også et timer-begreb i guienv.bet, og her ser ud
til
> at være et overlap, men der er jo to forskellige anvendelsesområder, så
det
> er nok ok.
>
> KONKLUSION:
>
> Jeg mener, at der kun er behov for:
> 1) fjernelse af sysutils/timeHistory
> 2) omdøbning af timeHandler til timerHandler (såvel fragmentnavn som
> operationsnavn).
> 3) evt. en undersøgelse af, om formatTime kan fjernes.
> 4) man kunne omdøbe sysutils/time til til sysutils/systemTime, som er en
> mere præcis karakteristik, og vil undgå den ny forvirring om, hvad er er i
> fragmentet.
>
> --- jlk
>


From: "Jorgen Lindskov Knudsen" <jlk@mjolner.dk>
To: <datpete@mjolner.dk>,
	"Flemming Gram Christensen" <gram@mjolner.dk>
Cc: <mia-beta@mjolner.dk>,
	<toby@mjolner.dk>
Subject: RE: sysutils manual
Date: Sun, 8 Aug 1999 15:09:00 +0100

Peter skriver:

> ... Generelt er der rod i vores time
> ting. Der er:
>
> sysutils/time
> sysutils/timeHistory
> basiclib/timeDate
> basiclib/timehandler
>
> og så er der vist flere. F.eks. mener jeg at cpn folkene blev henvist
> til et sted i systemenv for at finde funktioner til at måle
> milisekundtid nøjagtigt(?)


Jeg har kigget lidt på det hyer, og kan ikke rigtigt se, at der er behov for
nogen stor oprydning:

1) CPN2000 folkene fik (så vidt jeg husker) en henvisning til preciseTime i
sysutils/time, så det er dækket af din liste.

2) Hvad angår listen, så har jeg flg. kommentarer:

> sysutils/time

indeholder 'systemTime', 'preciseTime' og 'cpuTime', som er operationer til
at skaffe den tilsvarende tid, og formatTime, som giver en text-rep. af et
tidspunkt.

> sysutils/timeHistory

virker som en ganske specifik operation (gad vide, hvem der bruger den -
operationen holder en 'history' af CPUtime - 'guderne' må vide hvorfor :-)

Forslag: fjernes helt, eller flyttes hen til den kode, der anvender den.
Operationen består af ca. 10 linier, så et helt fragment er overkill.

> basiclib/timeDate

er et 'komplet' tid og dato bibliotek, uden overlap med sysutils/time (måske
kan man sige, at formatTime overlapper med putTime, men det kan jeg ikke
gennemskue).

> basiclib/timehandler

Bør omdøbes til 'timerHandler', da den indeholder den funktionalitet at man
kan sætter timers op i systemenv programmer.  Overlapper ikke med andet i
denne liste, men der er også et timer-begreb i guienv.bet, og her ser ud til
at være et overlap, men der er jo to forskellige anvendelsesområder, så det
er nok ok.

KONKLUSION:

Jeg mener, at der kun er behov for:
1) fjernelse af sysutils/timeHistory
2) omdøbning af timeHandler til timerHandler (såvel fragmentnavn som
operationsnavn).
3) evt. en undersøgelse af, om formatTime kan fjernes.
4) man kunne omdøbe sysutils/time til til sysutils/systemTime, som er en
mere præcis karakteristik, og vil undgå den ny forvirring om, hvad er er i
fragmentet.

--- jlk


