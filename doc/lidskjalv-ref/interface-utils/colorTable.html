<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd"
>
<!-- Autogenerated file - do not edit -->
<HTML>
<HEAD>
<META http-equiv="Content-Type" CONTENT="text/html; CHARSET=ISO-8859-1">
<TITLE>ColorTable Interface</TITLE>
<LINK REL="stylesheet" HREF="../../style/miadoc.css" TYPE="text/css">
</HEAD>
<BODY>
<P></P>
<A HREF="cursorTable.html"><IMG ALIGN=BOTTOM SRC="../../images/next.gif" ALT=Next BORDER=0></A>
<A HREF="colorDialog.html"><IMG ALIGN=BOTTOM SRC="../../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF="../../index.html"><IMG ALIGN=BOTTOM SRC="../../images/top.gif" ALT=Top BORDER=0></A>
<A HREF="index.html"><IMG ALIGN=BOTTOM SRC="../../images/content.gif" ALT=Content BORDER=0></A>
<A HREF="inx.html"><IMG ALIGN=BOTTOM SRC="../../images/index.gif" ALT=Index BORDER=0></A>
<P></P>
<P>Interface Description</P>
<HR>
<!---------------------------------------------------------->

<H1>ColorTable Interface</H1>
<PRE CLASS=interface>
ORIGIN '../guienv';
BODY 'private/colorTableBody'

(* This fragment adds color-table facilities to guienv.  
 * A 'colorTable' pattern have been added. 
 *
 * colorTable
 * ----------
 *
 * This pattern defines facilities for maintaining mappings between
 * textual names of colors, and their numerical representations (in terms 
 * of 'color' values). 'colorTable' defines four functions:
 *
 * define: defines the text in 'colorName' to refer to the current
 *   color of 'colorValue'.  If 'colorName' is already defined, it
 *   will be redefined to refer to the color of 'colorValue'.
 *
 * lookup: sets the color values of 'colorValue' to the color values
 *   referred to by 'colorName'.  If 'colorName' is not defined in the
 *   colortable, 'colorValue' will be set to 'black'
 *
 * loadFile: load the color definitions found in the file 'filename' into
 *   the color table.
 *
 *   If 'overwrite' is bound to 'trueObject'
 *   (i.e. 'overwrite::trueObject'), then the new color definitions
 *   will replace any previously existing color definition with the
 *   same color name.
 *
 *   If 'merge' is not bound to 'trueObject' - i.e. not
 *   'merge::trueObject', then clear the color table.
 *
 *   If 'filename' is empty, or cannot be read, the result will be
 *   that all color definitions will be erased, i.e. a way to clear
 *   all existing color definitions is merely by executing:
 *
 *      ct.loadFile; ('ct' assumed to be an instance of 'colorTable')
 *
 * scan: scans the defined colornames in the color table and their
 *   color values.
 *
 * In multi-fragment guienv programs it can be a problem to
 * reach the single colortable instans. This problem can be 
 * solved using the object-pool. 
 * 
 * Main fragment:
 * ct:@colortable;
 * ...
 * ct[]-&gt;objectPool.put;
 * 
 * Other fragment:
 * ct:^colortable;
 * ...
 * objectPool.get(# type::&lt;colortable; #)-&gt;ct[];
 * 
 * see basiclib reference manual p 12&amp;23
 *)

--- guienvlib: attributes ---
<B>colorTable</B><A name="colorTable.1(20)"></A>:
  (# &lt;&lt;SLOT colortablelib: attributes&gt;&gt;;
     <B>define</B><A name="colorTable.1:define.2(21)"></A><A name="define.2(21)"></A>:
       (* defines the text in 'colorName' to refer to the current
        * color of 'colorValue'.  If 'colorName' is already defined,
        * it will be redefined to refer to the color of 'colorValue'.
        *)
       (# colorName: ^text; colorValue: @color
       enter (colorName[], colorValue)
       ...
       #);
     <B>lookup</B><A name="colorTable.1:lookup.2(22)"></A><A name="lookup.2(22)"></A>:
       (* sets the color values of 'colorValue' to the color values
        * referred to by 'colorName'.  If 'colorName' is not defined
        * in the colortable, 'colorValue' will be set to 'black'
        *)
       (# colorName: ^text; colorValue: @color
       enter colorName[]
       ...
       exit colorValue
       #);
     <B>load</B><A name="colorTable.1:load.2(23)"></A><A name="load.2(23)"></A>:
       (* reads color definitions from a stream
        * into the color table.
        *
        * If 'overwrite' is bound to 'trueObject'
        * (i.e. 'overwrite::trueObject'), then the new color
        * definitions will replace any previously existing color
        * definition with the same color name.
        *
        * If 'merge' is not bound to 'trueObject' - i.e. not
        * 'merge::trueObject', then clear the color table.
        *)
       (# colorstream: ^stream;
          overwrite:&lt; booleanValue;
          merge:&lt; booleanValue;
       enter colorstream[]
       ...
       #);
     <B>loadFile</B><A name="colorTable.1:loadFile.2(24)"></A><A name="loadFile.2(24)"></A>:
       (* load the color definitions found in the file 'filename'
        * into the color table.
        *
        * If 'overwrite' is bound to 'trueObject'
        * (i.e. 'overwrite::trueObject'), then the new color
        * definitions will replace any previously existing color
        * definition with the same color name.
        *
        * If 'merge' is not bound to 'trueObject' - i.e. not
        * 'merge::trueObject', then clear the color table.
        *
        * If 'filename' is empty, or cannot be read, the result will
        * be that all color definitions will be erased, i.e. a way to
        * clear all existing color definitions is merely by executing:
        *
        *      ct.load; ('ct' assumed to be an instance of 'colorTable')
        *)
       (# filename: ^text;
          overwrite:&lt; booleanValue;
          merge:&lt; booleanValue;
       enter filename[]
       ...
       #);
     <B>scan</B><A name="colorTable.1:scan.2(25)"></A><A name="scan.2(25)"></A>:
       (* scans the defined colornames in the color table and their color
        * values.
        *)
       (# currentName: ^text; currentColor: @color;
       ...
       #);
     <B>private</B><A name="colorTable.1:private.2(26)"></A><A name="private.2(26)"></A>: @...
  #)
</PRE>
<!---------------------------------------------------------->
<HR>
<P></P>
<TABLE cols=3 border=0 width=100%>
<TR>
<TD width="40%" align="left"><ADDRESS>Interface Description</ADDRESS></TD>
<TD width="20%" align="center"><FONT size=-1>&COPY; <A HREF="http://www.mjolner.com">Mj&oslash;lner Informatics</A></FONT></TD>
<TD width="40%" align="right"><SCRIPT LANGUAGE=JavaScript SRC="../../javascript/lastmod.js"></SCRIPT></TD>
</TABLE>
<P></P>
<A HREF="cursorTable.html"><IMG ALIGN=BOTTOM SRC="../../images/next.gif" ALT=Next BORDER=0></A>
<A HREF="colorDialog.html"><IMG ALIGN=BOTTOM SRC="../../images/prev.gif" ALT=Previous BORDER=0></A>
<A HREF="../../index.html"><IMG ALIGN=BOTTOM SRC="../../images/top.gif" ALT=Top BORDER=0></A>
<A HREF="index.html"><IMG ALIGN=BOTTOM SRC="../../images/content.gif" ALT=Content BORDER=0></A>
<A HREF="inx.html"><IMG ALIGN=BOTTOM SRC="../../images/index.gif" ALT=Index BORDER=0></A>
</BODY>
</HTML>
