<H1>The <INX>guienv</INX> Library</H1>
<P> Guienv is the most basic library of the Lidskjalv libraries.  Guienv implements the most often used elements of a graphical user interface, such as menus, windows, etc. along with a lot of supporting facilities.</P>

<P> The prime elements of guienv is the definition of the menu system and the facilities for defining windows along with facilities for handling the events (such as mouse button press), originating from the user interface (menus, windows, etc.).</P>
<P> The most important classes, defined in guienv are:</P>

<UL>
<LI><INX>interfaceObject</INX> is the root of the hierarchy of interface components in Lidskjalv. 
</UL>

<UL>
<LI><INX>menuBar</INX> is a class, defining the facilities for defining menubars. The global menubar (if any) is accessed through the <INX>applicationMenubar</INX> attribute. <INX>StandardMenubar</INX> defines the standard menubar, used by most applications.
</UL>

<UL>
<LI><INX>menu</INX> is a class, defining the facilities for menus, both menus of menubars, menus associated with buttons, and popup menus.
</UL>

<UL>
<LI><INX>window</INX> defines the facilities for defining and manipulation windows.
</UL>
<P> The rest of the attributes defines various other facilities for accessing different other aspects of the window system.</P>
<P> The most important class in Lidskjalv is interfaceObject. It defines the facilities available for controlling all interface components in guienv.</P>

<P> <INX>interfaceObject</INX> implements the basic facilities for all interaction:</P>
<UL>
<LI><INX>open</INX> and <INX>close</INX> is invoked when the <INX>interfaceObject</INX> is opened and closed on the screen.
<LI><INX>enableEventType</INX> and <INX>disableEventType</INX> are used to control which interactions, this interfaceObject is willing to respond to (default is that all event types are enabled). 
<LI>Most attributes relate to event handling. Event is the superpattern for all event patterns (such as <INX>mouseDovn</INX> and <INX>refresh</INX>). These events are invoked by the underlying system as the result of, e.g. user interactions.  
</UL>

<P> Event <INX>handling</INX> in guienv is handled through defining virtual further bindings in which the actions to be executed as the result of an event, is specified.  Each interfaceObject type defined a series of event virtuels in the <INX>eventhandler</INX> virtual pattern, and users of these interfaceObjects may then further bind this eventhandler, and in this further binding specify the actions to be executed for the particuler events, defined for that type of interfaceObject.</P>

<P> The basic eventhandler (defined in interfaceObject) defines the following events: <INX>onMouseDown</INX>, <INX>onMouseUp</INX>, <INX>onKeyDown</INX><A NAME=MARKER-2-59></A>, <INX>onRefresh</INX>, <INX>onActivate</INX>, and <INX>onDeactivate</INX>.  Some of these events carry global information on the state of the keyboard and mouse.</P>

<P> In order to support more dynamic event handling, it is also possible dynamically to attach actions before or after the predefined actions for an event.  This is done by specifying an instance of (a subpattern of) <INX>action</INX> and then either prepend or append it to the already attached actions (using the <INX>prependAction</INX> or <INX>appendAction</INX> operations).  An action can be retracted again by the <INX>deleteAction</INX> operation.</P>

<P> Parallel to the event hierarchy is an action hierarchy. An action (e.g. <INX>mouseDownAction</INX> and <INX>refreshAction</INX>) can be associated with an event, such that the actions will be invoked either before or after the events itself.  These actions are defined in separate libraries, see chapters 10-12.</P>
<P> In order to control the interfaceObject's sensibility to individuel event types, the operations <INX>enableEventType</INX> and <INX>disableEventType</INX> are available.</P>




<H2> Event handling</H2>

<P> One of the strengths of the Lidskjalv libraries is the ease with which the event handling is conducted.  Essentially, the Lidskjalv libraries takes care of all the details of the event dispatching and handling.  The Lidskjalv libraries essentially converts all event occurrences into invocation of special virtual patterns within the appropriate user interface object (e.g. the one below the mouse pointer).  In the Lidskjalv documentation, these virtual patterns are often referred to as the event patterns (or simply events).  The application programmer only has to further bind these event patterns of the individual user interface objects to specify the actions to be taken in response to user interaction.</P>










