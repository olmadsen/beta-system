<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<!-- Autogenerated file - do not edit -->
<HEAD>
<TITLE>Binarystream Interface</TITLE>
<LINK REL="stylesheet" HREF="../../style/miadoc.css" TYPE="text/css">
<SCRIPT TYPE="text/javascript" LANGUAGE="JavaScript" SRC="../../javascript/hashfromparent.js"></SCRIPT>
<SCRIPT TYPE="text/javascript" LANGUAGE="JavaScript" SRC="../../javascript/printframe.js"></SCRIPT>
<BASE TARGET="_top">
</HEAD>
<BODY onLoad='HashFromParent()'>
<H1><A name="binarystream">Binarystream Interface</A></H1>
<PRE CLASS=interface>
ORIGIN '~beta/basiclib/betaenv';
(*
 * COPYRIGHT
 *   Copyright Mjolner Informatics, 1995-98
 *   All rights reserved.
 * 
 * For constructing an in-memory byte stream in a repetition
 * that can be saved and/or restored on a file.
 * Used by the compiler and valhalla for generating
 * and reading '.db' files.
 *)
BODY 'private/binarystreambody';

---LIB:attributes---

<B>BinaryStream</B><A name="BinaryStream.1(1)"></A>:
  (# <B>put</B><A name="BinaryStream.1:put.2(2)"></A><A name="put.2(2)"></A>: @
       (# ch: @char 
       enter ch 
       ... 
       #);
     <B>putShort</B><A name="BinaryStream.1:putShort.2(3)"></A><A name="putShort.2(3)"></A>: @
       (# V: @integer 
       enter V 
       ... 
       #);
     <B>putLong</B><A name="BinaryStream.1:putLong.2(4)"></A><A name="putLong.2(4)"></A>: @
       (# V: @integer 
       enter V 
       ... 
       #);
     <B>putText</B><A name="BinaryStream.1:putText.2(5)"></A><A name="putText.2(5)"></A>: @
       (# T: ^text
       enter T[] 
       ... 
       #);
     <B>get</B><A name="BinaryStream.1:get.2(6)"></A><A name="get.2(6)"></A>: @ 
       (# ch: @char 
       ... 
       exit ch 
       #);
     <B>getShort</B><A name="BinaryStream.1:getShort.2(7)"></A><A name="getShort.2(7)"></A>:  @
       (# V: @integer 
       ... 
       exit V 
       #);
     <B>getLong</B><A name="BinaryStream.1:getLong.2(8)"></A><A name="getLong.2(8)"></A>: @
       (# V: @integer 
       ... 
       exit V 
       #);
     <B>getText</B><A name="BinaryStream.1:getText.2(9)"></A><A name="getText.2(9)"></A>: @
       (# T: ^text
       ... 
       exit T[] 
       #);
     <B>save</B><A name="BinaryStream.1:save.2(10)"></A><A name="save.2(10)"></A>:
       (# openFailed:&lt; Exception;
          FN: ^text
       enter FN[] 
       do ...
       #);
     <B>restore</B><A name="BinaryStream.1:restore.2(11)"></A><A name="restore.2(11)"></A>:
       (# notFound:&lt; Exception;
          FN: ^text 
       enter FN[]
       do ...
       #);
     <B>fragRestore</B><A name="BinaryStream.1:fragRestore.2(12)"></A><A name="fragRestore.2(12)"></A>:
       (# notFound:&lt; Exception;
          FN: ^text 
       enter FN[]
       do ...
       #);
     (* The folowing exceptions may not be sufficient;
      * the exception model is clumsy since the current version 
      * is a quick merge of the two binarystream versions used by
      * the compiler and valhalla. The compiler uses the exceptions below
      * but they are not used by valhalla; continue is therefore 
      * set to true. Valhalla uses the openFailed/notFound execptions
      * in save,restore and fragRestore
      *)
     <B>AccessError</B><A name="BinaryStream.1:AccessError.2(13)"></A><A name="AccessError.2(13)"></A>:&lt; 
       Exception(# FN: ^text enter FN[] do true -&gt; continue; INNER #);
     <B>NoSpaceError</B><A name="BinaryStream.1:NoSpaceError.2(14)"></A><A name="NoSpaceError.2(14)"></A>:&lt; 
       Exception(# FN: ^text enter FN[] do true -&gt; continue; INNER #);
     <B>WriteError</B><A name="BinaryStream.1:WriteError.2(15)"></A><A name="WriteError.2(15)"></A>:&lt; 
       Exception(# FN: ^text enter FN[] do true -&gt; continue; INNER #);

     <B>rep</B><A name="BinaryStream.1:rep.2(16)"></A><A name="rep.2(16)"></A>: @ ...            
  #)
</PRE>
<!---------------------------------------------------------->
<HR>
<P></P>
<TABLE cols=3 border=0 width=100%>
<TR>
<TD width="40%" align="left"><ADDRESS>Binarystream Interface</ADDRESS></TD>
<TD width="20%" align="center"><FONT size=-1>&COPY; <A HREF="http://www.mjolner.com">Mj&oslash;lner Informatics</A></FONT></TD>
<TD width="40%" align="right"><SCRIPT LANGUAGE=JavaScript SRC="../../javascript/lastmod.js"></SCRIPT></TD>
</TABLE>
</BODY>
</HTML>
