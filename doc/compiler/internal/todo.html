<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd"
>
<HTML>
<HEAD>
<META http-equiv="Content-Type" CONTENT="text/html; CHARSET=ISO-8859-1">
<TITLE>TODO</TITLE>
<LINK REL="stylesheet" HREF="../../style/miadoc.css" TYPE="text/css">
</HEAD>

<BODY>
<H1>Compiler TODO</H1>

<OL>
<LI>    Evt. genindføre tidligere semantiske check, som advarede mod
muligt farlige external kald (farlig brug af @@/cstruct hvis
allokering indblandet).
<LI>Sgi: <A HREF="sgi_n32.txt">N32 objekt fil format</A>
<LI>Sgi: <A HREF="sgi_component_exit.txt">Component Exit problem?</A>
<LI>Nti: <A HREF="http://www.cs.au.dk/~datpete/dll.html">DLL generering</A>
<LI>LIB_ITEM eliminering: <A HREF="library.txt">Forslag til automatisering</A>
<LI>Switch til at udføre ubetinget BUILD. Skal så sættes hvis switch
12 sættes
<LI>switch der gør, at compileren ikke laver det ofte tidskrævende
check for at alle slots er bundne lige inden job fil starter
<LI>Concurrency on all platforms
<LI>System exceptions 
<LI>COM support
<LI>General leave/restart from a nested descriptor
<LI>Memory leak problem - the new GC has apparently not solved this problem
<LI>Profiler (via sekvensdiagrammer?)
<LI>Optimering (FG)
<LI>Automatisk generering af LIB_ITEM i directory lokalt for LIB_DEF?
<LI>Compiler skal rapportere semantiske fejl med angivelse af linienummer
<LI>xxx-betadata.o -&gt; xxx..bd
<LI>Beta -&gt; Java Bytecode<BR>
In addition to implementing a codegenerator for Java byte code this also
includes Java specific bodies for all platform dependent libraries such as 
basiclib, guienv, etc.
<LI>Evt tillade f.eks. nti* i selektorer (delvist implementeret).
Hvad ønskes mere end det nuværende nti_gnu, nti_ms, nti?
<LI>RCM til Mac og PC.
<LI>Statisk allokerede objekter. 
Et interface til at allokere objekter som ikke må flyttes af garbage
kollektoren (så man fx kan benytte deres adresse som OID).
Kan laves som interface til AOAcalloc.
<LI>Support for multiple NT resource files (Sdk=ms)<BR>
Solution: build a temporary file with #includes in.
<LI>Possibility to change the default size of IOA and AOA from the program<BR>
.
Solution: This can be fixed by introducing a property BETART and/or
a --betart option to the compiler.
The value is a string, and this string should be emitted into the
beta-data file, identified by a clobal variable BETA_RT (corresponding
 to
the global variable BETA_DATA in the beta-data file.

Given this, the runtime system could read this variable upon startup
and initialize heaps etc from the specification.

Presumably the variable (i.e. program-specified BETART) should be deal
t with
*before* reading the BETART env.variable, since this will allow the 
env.variable to override the program-specified values (useful for e.g.
 
debugging).

In case there are multiple BETART properties in the dependency graph
the compiler should either concatenate the strings met, or choose the
last one met (corresponding to what happens if several BETARUN propert
ies
are met).

<LI>The pattern RshSupport should ONLY use the mjolnerrc file to determine
if rsh is possible. I.e. it should NOT contain an explicit case statem
ent.
The case statement prevents rsh from working in a cross-development
situation where a new target has been introduced, and is not yet
included in the case staement.

In the mjolnerrc file a machine name of NONE should mean that
rshSupport should return false. Currently there is used a (stupid) nam
e
"FindesIkke" in the mjolnerrc file. This should be replaced by NONE.

<LI><A HREF="nti_subsystem.txt">NTI SUBSYSTEM link directive</A>

<LI>jeg vil foreslå, at objektfiler, der inkluderes via BUILD tilføjes i
det shared library, som filen med BUILD direktivet er del af (hvis
noget). I dag er disse objektfiler del af den statisk linkede del af
programmet. Det kræver muligvis, at default værdien af CC variablen,
som den sættes op i XXXasmlink, ændres til at generere PIC kode. Men
det er en mindre sag. Det springende punkt er, om dependency/asmlink
kan håndtere at flytte disse objektfiler fra statis link delen til
shared lib delen.

</OL>


<HR>
<P>
<TABLE border=0 width="100%">
<TR>
<TD width="40%" align="left">
<ADDRESS>Compiler TODO</ADDRESS>
</TD>
<TD width="20%" align="center"><FONT SIZE="-1">&#169; <A HREF="http://www.mjolner.com">Mj&oslash;lner Informatics</A></FONT></TD>
<TD width="40%" align="right"><SCRIPT TYPE="text/javascript" LANGUAGE=JavaScript SRC="../../javascript/lastmod.js"></SCRIPT></TD>
</TABLE>

</BODY>
</HTML>

