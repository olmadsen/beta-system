<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<TITLE>Processmanager Interface</TITLE>
<LINK REL="stylesheet" HREF="../../style/miadoc.css" TYPE="text/css">
</HEAD>
<BODY>
<P></P>
<A HREF="socketgenerator.html"><IMG ALIGN=BOTTOM SRC="../../images/next.gif" ALT=Next BORDER=0></A>
<A HREF="errorcallback.html"><IMG ALIGN=BOTTOM SRC="../../images/prev.gif" ALT=Prev BORDER=0></A>
<A HREF="../index.html"><IMG ALIGN=BOTTOM SRC="../../images/top.gif" ALT=Top BORDER=0></A>
<A HREF="index.html"><IMG ALIGN=BOTTOM SRC="../../images/content.gif" ALT=Content BORDER=0></A>
<A HREF="inx.html"><IMG ALIGN=BOTTOM SRC="../../images/index.gif" ALT=Index BORDER=0></A>
<P></P>
<P>Interface Description</P>
<HR>
<!---------------------------------------------------------->

<H1>Processmanager Interface</H1>
<PRE CLASS=interface>
ORIGIN '~beta/basiclib/basicsystemenv';
LIB_DEF 'processmanager' '../lib';

(*
 * COPYRIGHT
 *       Copyright (C) Mjolner Informatics, 1992-97
 *       All rights reserved.
 *)

BODY 'private/processmanagerbody';
INCLUDE '~beta/basiclib/file';

--- systemlib:attributes ---
<B>BetaEnvStop</B><A name="BetaEnvStop.1(173)"></A>: (# <B>T</B><A name="BetaEnvStop.1:T.2(174)"></A><A name="T.2(174)"></A>: ^Text; <B>I</B><A name="BetaEnvStop.1:I.2(175)"></A><A name="I.2(175)"></A>: @Integer;
             enter (I,T[])
             do (I,T[]) -&gt; Stop;
             #);

<B>Process</B><A name="Process.1(176)"></A>:
  (* Notice, this(Process) can only be executed once.
   *
   * Two program executions of the same Process,
   * can be executed by instantiating and executing two different BETA 
   * objects from the same Process.
   *)
  (#
     &lt;&lt;SLOT ProcessLib:attributes&gt;&gt;;
     
     <B>name</B><A name="Process.1:name.2(177)"></A><A name="name.2(177)"></A>: ^Text;
     <B>init</B><A name="Process.1:init.2(178)"></A><A name="init.2(178)"></A>:&lt; (# enter name[] ... #);
     
     <B>argType</B><A name="Process.1:argType.2(179)"></A><A name="argType.2(179)"></A>:
       (# argument: @Text;
          putArg:
            (# t: ^Text;
            enter t[]
            ...
            #);
          append: @putArg;
          scanArguments: (* calls INNER for each argument *)
            (# current: @Text; 
            ...
            #);
       #);
     <B>argument</B><A name="Process.1:argument.2(180)"></A><A name="argument.2(180)"></A>: @argType; (* arguments to this(Process) *)
     
     (* operations *)
     
     <B>start</B><A name="Process.1:start.2(181)"></A><A name="start.2(181)"></A>: (* starts this(Process)'s program execution *)
       (# error:&lt; ProcessManagerException;
          twoCurrent:&lt; ProcessManagerException;
       ...
       #);
     
     <B>stop</B><A name="Process.1:stop.2(182)"></A><A name="stop.2(182)"></A>: (* stops this(Process)'s program execution *)
       (# error:&lt; ProcessManagerException;
       ...
       #);
     
     <B>awaitStopped</B><A name="Process.1:awaitStopped.2(183)"></A><A name="awaitStopped.2(183)"></A>: (* Returns when THIS(Process) stops *)
       (# error:&lt; ProcessManagerException;
       ...
       #);
     
     <B>stillRunning</B><A name="Process.1:stillRunning.2(184)"></A><A name="stillRunning.2(184)"></A>: (* Returns true if 
                    * THIS(Process) is still running 
                    *)
       (# error:&lt; ProcessManagerException;
          value: @Boolean;
       ...
       exit value
       #);
     
     (* input/output redirection *)
     
     <B>connectToProcess</B><A name="Process.1:connectToProcess.2(185)"></A><A name="connectToProcess.2(185)"></A>:  (* connect output of this(process) 
                         * to toProcess's input
                         * In Unix shell terms: 
                         *    this(Process) | toProcess
                         *)
       (# error:&lt; ProcessManagerException;
          toProcess: ^Process;
       enter toProcess[]
       ...
       #);
     
     <B>connectInPipe</B><A name="Process.1:connectInPipe.2(186)"></A><A name="connectInPipe.2(186)"></A>:  (* connect output of fromProcess 
                      * to input of  this(process) 
                      * In Unix shell terms: 
                      *    fromProcess | this(Process)
                      *)
       (# error:&lt; ProcessManagerException;
          fromProcess: ^Process;
       enter fromProcess[]
       ...
       #);
     
     <B>redirectFromFile</B><A name="Process.1:redirectFromFile.2(187)"></A><A name="redirectFromFile.2(187)"></A>:  (* redirect input to this(process) 
                         * from inputFile
                         * In Unix shell terms: 
                         *    this(Process) &lt; inputFile
                         *)
       (# error:&lt; ProcessManagerException;
          inputFile: ^File;
       enter inputFile[]
       ...
       #);
     
     <B>redirectToFile</B><A name="Process.1:redirectToFile.2(188)"></A><A name="redirectToFile.2(188)"></A>:  (* redirect output of this(process)
                       * to outputFile
                       * In Unix shell terms: 
                       *    this(Process) &gt; outputFile
                       *)
       (# error:&lt; ProcessManagerException;
          outputFile: ^File;
       enter outputFile[]
       ...
       #);
     
     <B>redirectFromChannel</B><A name="Process.1:redirectFromChannel.2(189)"></A><A name="redirectFromChannel.2(189)"></A>:  (* redirect input to this(process) 
                            * from inputChannel 
                            *)
       (# error:&lt; ProcessManagerException;
          inputChannel: ^Stream;
       enter inputChannel[]
       ...
       #);
     
     <B>redirectToChannel</B><A name="Process.1:redirectToChannel.2(190)"></A><A name="redirectToChannel.2(190)"></A>:  (* redirect output of this(process) 
                          * to outputChannel 
                          *)
       (# error:&lt; ProcessManagerException;
          outputChannel: ^Stream;
       enter outputChannel[]
       ...
       #);
     
     (* Callbacks: called when the proper action has occurred *)
     
     <B>onStart</B><A name="Process.1:onStart.2(191)"></A><A name="onStart.2(191)"></A>:&lt; (# do INNER #);
     <B>onStop</B><A name="Process.1:onStop.2(192)"></A><A name="onStop.2(192)"></A>:&lt; (# do INNER #);
     
     <B>doDebug</B><A name="Process.1:doDebug.2(193)"></A><A name="doDebug.2(193)"></A>: @Boolean;
     <B>private</B><A name="Process.1:private.2(194)"></A><A name="private.2(194)"></A>: @...;
  #);

<B>ProcessManagerException</B><A name="ProcessManagerException.1(195)"></A>: Exception
  (# <B>message</B><A name="ProcessManagerException.1:message.2(196)"></A><A name="message.2(196)"></A>: ^Text;
  enter message[]
  ...
  #)
</PRE>
<!---------------------------------------------------------->
<HR>
<P></P>
<TABLE border=0 width=100%>
<TR><TD><ADDRESS>Interface Description</ADDRESS></TD>
<SCRIPT LANGUAGE=JavaScript SRC="../../javascript/lastmod.js"></SCRIPT>
</TABLE>
<P></P>
<A HREF="socketgenerator.html"><IMG ALIGN=BOTTOM SRC="../../images/next.gif" ALT=Next BORDER=0></A>
<A HREF="errorcallback.html"><IMG ALIGN=BOTTOM SRC="../../images/prev.gif" ALT=Prev BORDER=0></A>
<A HREF="../index.html"><IMG ALIGN=BOTTOM SRC="../../images/top.gif" ALT=Top BORDER=0></A>
<A HREF="index.html"><IMG ALIGN=BOTTOM SRC="../../images/content.gif" ALT=Content BORDER=0></A>
<A HREF="inx.html"><IMG ALIGN=BOTTOM SRC="../../images/index.gif" ALT=Index BORDER=0></A>
</BODY>
</HTML>
