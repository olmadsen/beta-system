
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd"
>
<HTML>
<HEAD>
<META http-equiv="Content-Type" CONTENT="text/html; CHARSET=ISO-8859-1">
<TITLE> Error Callbacks</TITLE>
<LINK REL=stylesheet HREF=../style/miadoc.css TYPE=text/css>
</HEAD>
<BODY>
<A NAME=HEADING21></A>
<A HREF="process-22.html"><IMG ALIGN="BOTTOM" ALT="Next" BORDER=0 SRC="../images/next.gif">
</A> <A HREF="process-20.html"><IMG ALIGN="BOTTOM" ALT="Previous" BORDER=0 SRC="../images/prev.gif">
</A> <A HREF="process-20.html"><IMG ALIGN="BOTTOM" ALT="Up" BORDER=0 SRC="../images/up.gif">
</A> <A HREF="../index.html"><IMG ALIGN="BOTTOM" ALT="Top" BORDER=0 SRC="../images/top.gif">
</A> <A HREF="index.html#_toc"><IMG ALIGN="BOTTOM" ALT="Contents" BORDER=0 SRC="../images/content.gif">
</A> <A HREF="inx.html"><IMG ALIGN="BOTTOM" ALT="Index" BORDER=0 SRC="../images/index.gif">
</A><P>
 Error Handling<P>
<A NAME=HEADING21-0></A>
<H1> Error Callbacks</H1>
 An error callback is a virtual pattern which is invoked in response to the occurrence of some error.  Whenever an error<A NAME=MARKER-2-56></A> condition is detected on a socket, a corresponding<P>
 virtual pattern is instantiated and executed. These patterns are specializations of errCB, as declared in errorCallback. Such virtual patterns are hereafter denoted error callback patterns. To catch and treat an error, extend the corresponding error callback.<P>
 If an error callback is not extended and the corresponding error occurs, an exception is executed and the program terminates. If the error callback is extended, the following holds:<P>
  if abort is executed in the extending dopart, the operation (but not the program) is aborted. You may execute leave within a specialization of abort. Do not leave an error callback from any other point, as this may put the object or the process into an unstable state. If you abort but do not leave, the operation aborts, but control flow is like when the operation succeeds; in this case, any exited values are dummy values, reflecting that the operation failed. Do not use them! Actually, do not abort without leave!<P>
  if continue is executed in the extending dopart, there will be an attempt to recover and finish the operation after the execution of the error callback terminates. For many types of errors, no general recovery is possible at the operation level. But you could close a couple of files in response to a resourceError and then execute continue. In case of timeout, you can always choose to take another turn with continue.<P>
  if fatal is executed in the extending dopart, an exception will be executed and the program will be terminated. So the execution of the error callback will not return. This is also the default, but with hierarchical error callbacks, you may need fatal to undo a continue at a higher level.<P>
 In case it happens more than once that an operation from the set {abort,continue,fatal} is executed, the one executed as the last takes precedence.<P>
<!-- TOC -->
<HR>
<P>
<TABLE border=0 width="100%">
<TR>
<TD width="40%" align="left">
<ADDRESS>Process Reference Manual</ADDRESS>
</TD>
<TD width="20%" align="center"><FONT SIZE="-1">&#169; <A HREF="http://www.mjolner.com">Mj&oslash;lner Informatics</A></FONT></TD>
<TD width="40%" align="right"><SCRIPT TYPE="text/javascript" LANGUAGE=JavaScript SRC="../javascript/lastmod.js"></SCRIPT></TD>
</TABLE>
<P>
<A HREF="process-22.html"><IMG ALIGN="BOTTOM" ALT="Next" BORDER=0 SRC="../images/next.gif">
</A> <A HREF="process-20.html"><IMG ALIGN="BOTTOM" ALT="Previous" BORDER=0 SRC="../images/prev.gif">
</A> <A HREF="process-20.html"><IMG ALIGN="BOTTOM" ALT="Up" BORDER=0 SRC="../images/up.gif">
</A> <A HREF="../index.html"><IMG ALIGN="BOTTOM" ALT="Top" BORDER=0 SRC="../images/top.gif">
</A> <A HREF="index.html#_toc"><IMG ALIGN="BOTTOM" ALT="Contents" BORDER=0 SRC="../images/content.gif">
</A> <A HREF="inx.html"><IMG ALIGN="BOTTOM" ALT="Index" BORDER=0 SRC="../images/index.gif">
</A><P>
</BODY>
</HTML> 