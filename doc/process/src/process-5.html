
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd"
>
<HTML>
<HEAD>
<META http-equiv="Content-Type" CONTENT="text/html; CHARSET=ISO-8859-1">
<TITLE> Child Processes</TITLE>
<LINK REL=stylesheet HREF=../style/miadoc.css TYPE=text/css>
</HEAD>
<BODY>
<A NAME=HEADING5></A>
<A HREF="process-6.html"><IMG ALIGN="BOTTOM" ALT="Next" BORDER=0 SRC="../images/next.gif">
</A> <A HREF="process-4.html"><IMG ALIGN="BOTTOM" ALT="Previous" BORDER=0 SRC="../images/prev.gif">
</A> <A HREF="process-4.html"><IMG ALIGN="BOTTOM" ALT="Up" BORDER=0 SRC="../images/up.gif">
</A> <A HREF="../index.html"><IMG ALIGN="BOTTOM" ALT="Top" BORDER=0 SRC="../images/top.gif">
</A> <A HREF="index.html#_toc"><IMG ALIGN="BOTTOM" ALT="Contents" BORDER=0 SRC="../images/content.gif">
</A> <A HREF="inx.html"><IMG ALIGN="BOTTOM" ALT="Index" BORDER=0 SRC="../images/index.gif">
</A><P>
 Manipulating Processes<P>
<A NAME=HEADING5-0></A>
<H1> <A NAME=MARKER-9-3></A><A NAME=MARKER-8-4></A>Child Processes</H1>
 The fragment processmanager is concerned with child processes. An instance of the process pattern in this fragment is attached to a binary file by initializing it with a file specification, like <P>
<PRE CLASS=beta>
  '/bin/someApplication' -&gt; aProcess.init;
</PRE>

 In the following, aProcess denotes an instance of the pattern process<A NAME=MARKER-2-5></A>, which has been attached to a binary file.<P>

 One has the option to set up arguments for an instantiation of the binary, using aProcess.argument.append, once for each argument. Afterwards, the process can be instantiated with aProcess.start<A NAME=MARKER-2-6></A>. In the following, this instantiation is referred to as the child process. When it has been started, it is possible to change its life cycle and to adjust to it: aProcess.stop causes the child process to be killed, aProcess.awaitStopped<A NAME=MARKER-2-7></A> causes this process to sleep until the child process terminates, and aProcess.stillRunning<A NAME=MARKER-2-8></A> is a predicate which returns true if the child process has not yet terminated.<P>
 The onStart<A NAME=MARKER-2-9></A> virtual is a hook, into which one can put code to be executed immediately after the child process has been started, and the onStop virtual is a hook which is executed when stop has stopped the process. Please notice that onStop will NOT be executed in the (typical) case when the child process terminates for any other reason, e.g. when it terminates normally.<P>

 The remaining pattern attributes of process are concerned with inter-process communication. The network of inter-process communication must be defined before the child processes are started. ConnectToProcess<A NAME=MARKER-2-14></A> and connectInPipe<A NAME=MARKER-2-15></A> enter a reference to another process object and connect the referred child processes in a pipeline. redirectFromFile<A NAME=MARKER-2-10></A> arranges for the child process to take standard input from the specified file, and redirectToFile<A NAME=MARKER-2-11></A> makes it redirect standard output to the given file.<P>
 RedirectFromChannel<A NAME=MARKER-2-12></A> enters the writeEnd of a pipe and makes the child process accept standard input from that pipe, and redirectToChannel<A NAME=MARKER-2-13></A> enters the readEnd of a pipe and makes the child process send standard output to it. The entered parameter is declared to be a (specialization of a) stream. The reason for this is that a future release may accept a broader range of types of objects entered; it should, for instance, be possible to use sockets.<P>
 ConnectErrToProcess<A NAME=MARKER-2-16></A>,
redirectErrToFile<A NAME=MARKER-2-19></A> and
redirectErrToChannel<A NAME=MARKER-2-18></A> work
like connectToProcess, redirectToFile and redirectToChannel with the
exception that they use the standard error from the process, rather
than the standard output.  It is possible to connect both the standard output
and the standard error to the same stream.<P>
<!-- TOC -->

