

<!-- **************************************** -->
<!-- *** AUTOGENERATED FILE - DO NOT EDIT *** -->
<!-- **************************************** -->


<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd"
>
<HTML>
<HEAD>
<META http-equiv="Content-Type" CONTENT="text/html; CHARSET=ISO-8859-1">
<TITLE>Mjolner Tool Workshop</TITLE>
<LINK REL="stylesheet" HREF="../style/miadoc.css" TYPE="text/css">
<SCRIPT TYPE="text/javascript" LANGUAGE="JavaScript1.2" SRC="../javascript/ns-resize.js"></SCRIPT>
<SCRIPT TYPE="text/javascript" LANGUAGE="JavaScript1.2" SRC="../javascript/fix-styles.js"></SCRIPT>
<SCRIPT TYPE="text/javascript" LANGUAGE="JavaScript1.2" SRC="../javascript/navigation.js"></SCRIPT>
<META NAME="AUTHOR" CONTENT="Mjølner Informatics A/S">
<META NAME="COPYRIGHT" CONTENT="&#169; 2001 Mjølner Informatics A/S">
<META NAME="DOCNUMBER" CONTENT="MIA 01-44">
<LINK REL="Next" HREF="./ex5.html">
<LINK REL="Prev" HREF="./ex3.html">
<LINK REL="Start" HREF="../index.html">
<LINK REL="First" HREF="index.html">
<LINK REL="Last" HREF="inx.html">
<LINK REL="Contents" HREF="index.html">
<LINK REL="Index" HREF="inx.html">
<LINK REL="Copyright" HREF="../copyright.html">
<LINK REL="Help" HREF="../help.html">
<LINK REL="Author" HREF="mailto:support@mjolner.com?Subject=MIADOC Manual Comment">
<SCRIPT TYPE="text/javascript" LANGUAGE="JavaScript1.2">
<!--
var lnk = new Array(8);
var itm = new Array(8);
var ttl = new Array(8);
var img = '../images';

lnk[0] = "./ex5.html"
itm[0] = "Next"
ttl[0] = "Next: ./ex5.html"
lnk[1] = "./ex3.html"
itm[1] = "Previous"
ttl[1] = "Previous: ./ex3.html"
lnk[2] = "#_top"
itm[2] = "Page Top"
ttl[2] = "Top of Page"
lnk[3] = "index.html"
itm[3] = "Content"
ttl[3] = "Table of Contents"
lnk[4] = "inx.html"
itm[4] = "Index"
ttl[4] = "Alphabetic Index"
lnk[5] = ""
itm[5] = "PDF"
ttl[5] = "No PDF File Available"
lnk[6] = "../help.html"
itm[6] = "Help"
ttl[6] = "Help on these online manuals"
lnk[7] = "../index.html"
itm[7] = "Manuals"
ttl[7] = "Online Manuals Main Page"
//-->
</SCRIPT>
</HEAD>
<BODY onLoad="on_load();">

<!-- Generic stuff - Some versions of Netscape fail if the following is moved to a js-file -->

<LAYER id="SideBar" onMouseover="pull()" onMouseout="draw()" style="position:absolute;left:-95px;width:80px;layer-background-color:#669999;padding:5px;line-height:25px; ">
<SCRIPT TYPE="text/javascript" LANGUAGE="JavaScript1.2">
<!--
if (document.getElementById || document.all){
  document.write('<DIV id="SideBar2" onMouseover="pull(event)" onMouseout="draw(event)" STYLE="position:absolute;left:-80px;top:15px;width:100px;background-color:#669999;padding:5px;line-height:25px;" TITLE="Navigation Bar: Slides out when cursor is moved out">');
}
if ((document.all && (navigator.userAgent.indexOf("Mac")==-1))) {
  document.write('<IMG SRC="'+img+'/navigation-light.gif" STYLE="position:absolute;left:84;top:5" WIDTH=13 HEIGHT=63 ALT="">');
} else {
  document.write('<IMG SRC="'+img+'/navigation-light.gif" ALIGN=RIGHT WIDTH=13 HEIGHT=63 ALT="">');
}
for (i=0;i<=lnk.length-1;i++){
  if (lnk[i] != ""){
    document.write('<A HREF="'+lnk[i]+'" onClick="out();" CLASS=SideBar TITLE="'+ttl[i]+'">'+itm[i]+'</A><BR>\n');
  } else {
    document.write('<A HREF="javascript:warn(\''+ttl[i]+'\')" onClick="out();" CLASS=SideBarDisabled TITLE="'+ttl[i]+'">'+itm[i]+'</A><BR>\n');
  }
  if (i==5){
    document.write('<HR ALIGN=LEFT WIDTH=60>\n');
  }
}
if (document.getElementById || document.all)
  document.write('</DIV>\n');
else
  document.write('&nbsp;\n');
SetupSideBar();
//-->
</SCRIPT>
</LAYER>
<!-- end generic stuff -->

<A NAME="_top"></A>
<h2><A NAME="H2_4">1.4 Exercise 4: The fragment system</A></H2>
This exercise is about the fragment system and how it is represented in the Mjolner tool.


<h3><A NAME="H3_1">1.4.1 Hiding details of your implementation</A></H3>
Load the file <a href="useloops.bet">useloops.bet</a> in the Mjolner tool.
<p>
If you click the '+' next to the 'useloops' icon <IMG SRC="images/image063.png" WIDTH="17" HEIGHT="18" ALT="[505 bytes 17x18 PNG]" TITLE="[505 bytes 17x18 PNG]"> in the Projects window, you will see that the program INCLUDEs the file 'loops' (symbolized by a single up-arrow: <IMG SRC="images/image065.png" WIDTH="17" HEIGHT="18" ALT="[337 bytes 17x18 PNG]" TITLE="[337 bytes 17x18 PNG]">). 
<p>
Click the line that says<code> <IMG SRC="images/image065.png" WIDTH="17" HEIGHT="18" ALT="[337 bytes 17x18 PNG]" TITLE="[337 bytes 17x18 PNG]">loops</code>. We would like to save the do-parts in another file; our implementation file. 
<p>
While viewing 'loops' choose 'SLOTs-&gt;Create Implementation File...' and type<code> loopsbody</code>. Now you have created a new file 'loopsbody' whose ORIGIN is 'loops' (symbolized by a double up-arrow: <IMG SRC="images/image068.png" WIDTH="17" HEIGHT="18" ALT="[339 bytes 17x18 PNG]" TITLE="[339 bytes 17x18 PNG]">). Conversely, 'loops' now has BODY 'loopsbody' (symbolized by a down arrow: <IMG SRC="images/image070.png" WIDTH="17" HEIGHT="18" ALT="[346 bytes 17x18 PNG]" TITLE="[346 bytes 17x18 PNG]">).
<p>
Go back to 'loops' by double-clicking<code> <IMG SRC="images/image068.png" WIDTH="17" HEIGHT="18" ALT="[339 bytes 17x18 PNG]" TITLE="[339 bytes 17x18 PNG]">loops </code>in the Projects window.
<p>
Mark the do-part of<code> upTo </code>(press and hold the mouse button from the middle of 'do' to somewhere in the do-part).
<p>
<center><IMG SRC="images/image073.png" WIDTH="536" HEIGHT="405" ALT="[7kb 536x405 PNG]" TITLE="[7kb 536x405 PNG]"></center><br><br>
<p>
Choose 'SLOTs-&gt;Make DoPart SLOT', and name it<code> upToImplementation</code>. Now the implementation of<code> upTo </code>is automatically moved down into 'loopsbody'. 
<p>
Double-click<code> &lt;&lt;SLOT upToImplementation: DoPart&gt;&gt;</code>. This takes you directly to the code in 'loopsbody' (or click the Definiton button <IMG SRC="images/image023.png" WIDTH="32" HEIGHT="18" ALT="[421 bytes 32x18 PNG]" TITLE="[421 bytes 32x18 PNG]"> in the toolbar or press ctrl-d).
<p>
The Mjolner tool keeps track of your current implementation file at all times. This is the file into which the implementaion is moved when you choose 'SLOTs-&gt;Make DoPart SLOT'. When you use 'SLOTs-&gt;Create Implementation File...' to create a new file, that file becomes the current implementation file. If you wish to change it, use the SLOTs menu.
<p>
Move the do-parts of<code> downTo </code>and<code> stepTo </code>down into 'loopsbody' as well. This can be done in one step by selecting both<code> downTo </code>and<code> stepTo </code>and choosing 'SLOTs-&gt;Make DoPart SLOT'.


<h3><A NAME="H3_2">1.4.2 Browsing through SLOTs and fragment forms</A></H3>
A SLOT is something of the form<code> &lt;&lt;SLOT blahblah: DoPart&gt;&gt;</code>. The coresponding fragment form contains a line such as<code> ---blahblah: DoPart---</code>.
<p> 
Using the Mjolner tool you can easily jump from a SLOT to the corresponding fragment form or vice versa.
<p>
While viewing 'loops', double-click the<code> stepTo </code>SLOT. This causes the implementation of<code> stepTo </code>to be displayed. In the Fragment Forms window you can see that it contains three do-parts and that currently 'stepToImplementation' is displayed. 
<p>
Jump down to the implementation of<code> downTo </code>by clicking the line above.
To find the SLOT mathing the 'downTo' fragment form, click the 'ToSlot' button <IMG SRC="images/image076.png" WIDTH="32" HEIGHT="18" ALT="[628 bytes 32x18 PNG]" TITLE="[628 bytes 32x18 PNG]"> in the toolbar or right click in the Form window and select 'Follow-&gt;Link To SLOT'. 
<p>
<center><IMG SRC="images/image079.gif" WIDTH="242" HEIGHT="273" ALT="[17kb 242x273 GIF]" TITLE="[17kb 242x273 GIF]"><br><br>
(Note that this screenshot is from version 5.1 of the Mjolner tool)</center>
<p>
Now the tool searches through the chain of ORIGINs (adhering to the rules for doing so) looking for a matching SLOT. It ends up finding such a SLOT in 'loops'.
<p>
<center><IMG SRC="images/image080.png" WIDTH="436" HEIGHT="367" ALT="[7kb 436x367 PNG]" TITLE="[7kb 436x367 PNG]"></center><br><br>
<p>
Three patterns are defined in 'loops':<code> upTo</code>,<code> downTo </code>and<code> stepTo</code>. To be precise, they are defined in a<code> lib:attributes </code>fragment form. as can be seen in the upper right corner of the tool. But which slot will this fragment form be inserted into, i.e. where is the SLOT corresponding to<code> lib:attributes</code>? Find out the same way as above. Of course, the matching SLOT is located in 'betaenv'. 


<!-- Footer -->
<P></P>
<!--+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
<HR>
<P></P>
<TABLE border=0 width="100%">
<TR>
<TD width="40%" align="left"><ADDRESS>Mjolner Tool Workshop</ADDRESS></TD>
<TD width="20%" align="center"><FONT size=-1><A HREF="../copyright.html">&#169;</A> 2001 <A HREF="http://www.mjolner.com">Mj&oslash;lner Informatics</A></FONT></TD>
<TD width="40%" align="right">
<DIV STYLE="font:smaller">[Modified: Tuesday May 22<SUP>nd</SUP> 2001 at 19:19]
</DIV>
</TD>
</TABLE>
<P></P>
<!-- End Footer -->
</BODY>
</HTML>
