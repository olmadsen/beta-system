<h2>Exercise 3: Editing using syntactic code fragments</h2>

A central feature of the Mjolner tool is that it enables you to copy and move around large chunks of code quite easily -- without running into syntactic errors such as missing brackets etc. Unfortunately, it is difficult to illustrate the usefulness of this feature in a small example. Therefore this exercise consists of a description of the techniques required to use syntactic editing. 
<p>
Load the file <a href="syntaxedit.bet">syntaxedit.bet</a>.


<h3>Marking code fragments </h3>

First of all, you need to know how to mark a chunk of code. In the Mjolner tool it is impossible to mark something that is not a "whole", for instance you cannot select half a descriptor. The tool will always expand the marking until it fits a syntactic category.
<p>
<center><png src="images/image036.png"><png src="images/image038.png"></center><br>
<p>
In the example above, the selection becomes the entire pattern.
<p>
Another example: Mark from the middle of one pattern to the middle of the next.
<p>
<center><png src="images/image041.png"><png src="images/image043.png"></center><br>
<p>
The tool selects both patterns.
<p>
Try marking different chunks of code and observe what is being selected. For example, try marking the following:
<p>
<ul>
<li><code>UnregisteredVehicle: Vehicle ...;</code> 
<br><png src="images/image045.png"><br><br>

<li><code>Person: ... </code>until<code> aPerson: @person</code>
<br><png src="images/image047.png"><br><br>

<li>Inside<code> Person.print </code>mark<code> 'living at'-&gt;puttext</code>
<br><png src="images/image049.png"><br><br>

<li>Inside<code> Person.print </code>mark the entire do-part
<br><png src="images/image051.png"><br><br>
</ul>
<p>
Experiment with the use of Alt+Up (overview), Alt+Left (abstract recursively),
Alt+Right (detail) and Alt+Down (detail recursively).


<h3>Code fragments: Cut, copy & paste</h3>

The tool supports cut, copy, paste, undo and redo on the usual keys:
<p>
<table border=1>
<tr>
<td><b>Command</b>
<td><b>Keyboard shortcut</b>
<tr>
<td><b>cut<br>copy<br>paste<br>undo<br>redo</b>
<td>Ctrl+X<br>Ctrl+C<br>Ctrl+V<br>Ctrl+Z<br>Ctrl+Y
</table>
<p>
Now we want to move the Person pattern down to aPerson: @person:
<p>
<ol>
<li>Mark the Person pattern.<br>
<png src="images/image053.png"><br><br>

<li>Press Ctrl+X to cut.<br>
<png src="images/image055.png"><br><br>

<li>Mark Moped: UnregisteredVehicle.<br>
<png src="images/image057.png"><br><br>

<li>Press Enter to insert code.<br>
<png src="images/image059.png"><br><br>

<li>Press Ctrl+V to paste.<br>
<png src="images/image061.png"><br><br>
</ol>
<p>
Now try undoing it all using Ctrl+Z.
<p>
Notice that the<code> Person </code>pattern could have been thousands of lines of code, and it would still be very simple to move it around or copy it.
<p>
You can apply this to all sorts of other code fragments: imperatives, descriptors, do-parts, enter-parts, exit-parts, variabels, superpattern-prefixes. But it does take a little practice to be able to use it efficiently.



