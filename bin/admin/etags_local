#!/usr/local/bin/perl -s
#-*-Perl-*-

push(@INC, $ENV{'BETALIB'} . "/bin/admin");

require "env.perl";

print "Creating emacs TAGS file.\n";


foreach $curdir (&GetDirsRecursively(".")) {
    next if ($curdir =~ /CVS$/);
    print "*** Searching $curdir ***\n";
    @files = &GetFilesInDirs($curdir);
    foreach $file (@files) {
	if ($file =~ /CHANGES|\.(bet|c|h|make|text|txt|gram|html|php)$/) {
            print "  $file\n" if ($v);
	    push @Files, $file;
	}
    }
}

print "Tagging (be patient) ...";
system("etags -o $betalib/TAGS -l none @Files");
print " done.\n"
