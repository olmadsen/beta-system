#!/usr/local/bin/perl5 -s
#-*-Perl-*-

require "dirlist";

print "Creating emacs TAGS file in $betalib.\n";

foreach $dir (@Dirs) {
    if ($dir =~ m/^doc$/){
	print "*** SKIPPING $dir ***\n";
	next;
    }
    print "*** Searching $dir ***\n";

    foreach $curdir (&GetDirsRecursively("$betalib/$dir")) {
	@files = &GetFilesInDirs($curdir);
	foreach $file (@files) {
	    if ($file =~ /CHANGES|\.(bet|c|h|make|text|txt|gram)$/) {
		push @Files, $file;
	    }
	}
    }
}

print "Tagging (be patient) ...";
system("etags -o $betalib/TAGS -l none @Files");
print " done.\n"
