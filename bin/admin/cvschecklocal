#!/usr/local/bin/perl5 -s


$find = "find . -type d -name CVS -print -prune";
$cvsupdate = "cvs -n update 2>&1| grep -v \"cvs update: Updating\"";

open(LST,"$find|");

$path = "abe";

while ( <LST> ) {
   $line = $_;
   if ( index($line,$path) != 0 ) {
      $path = substr($line,0,length($line)-4);
      if ( ! $l ) { print "==========================================\n"; };
      print "CVS working directory found in: $path\n";
      if ( ! $l ) { 
         system("sh -c 'cd $path; $cvsupdate'");
      }
   }

}
close LST;
