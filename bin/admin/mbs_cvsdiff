#!/usr/local/bin/perl5 -s
#-*-Perl-*-

require "dirlist";

print "checking if cvs commit is needed (by means of cvs diff) in $betalib\n";

foreach $dir (@Dirs) {
    if ($CvsTags{$dir} =~ /^\%(\S+)/) {
	next if ($1 eq 'IGNORE');
	next if ($1 eq 'NONCVS');
	print "Unknown '%'-tag in CvsTag: \"$1\", skipping $dir\n";
	next;
    }
    $basedir = "$betalib/$dir";
    next if (!-d &path($basedir));
    print "****  cvs diff in $basedir ****\n";
    chdir &path($basedir) or die "Unable to chdir: $!";
    &cvs('diff');
# Not a good idea, as diff returns -1 if it finds something... exit(1) if ($?);
}
