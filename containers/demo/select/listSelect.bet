origin '~beta/basiclib/betaenv';
include '~beta/containers/list';
include 'person';
(* An example of using the list-container pattern.
 * PersonList is a list of person-objects.
 * The generate pattern in person.bet is used to
 * create the list S1.
 * S1 is csanned using scan; All male persons with an
 * age below 23 are selected using scan and where
 * and appended to the list S2
 *)
---lib:attributes---
PersonList: list
  (# element::< person;
     display:
       (#
       do scan(# do current.display #)
       #);
  #);

---program:descriptor---
(# S1: @PersonList; S2: @PersonList
do S1.init;
   generate(#do current[]-> S1.append #);
   
   S2.init;
   
   S1.scan
   (# where:: (#do (current.isMale) and (current.age < 35) -> value #)
   do
      current[] -> S2.append
   #);
   

   'S1:'->putline;
   S1.display;
   
   '\nS2:'->putline;
   S2.display;
#)
