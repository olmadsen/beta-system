origin '~beta/basiclib/betaenv';
include '~beta/containers/container';
(* A simple person pattern and
 * a generator for person objects.
 * Used by listSelect and mySelect.
 *)
---lib:attributes---
person:
  (# name: ^text;
     isMale: @boolean;
     age: @integer;
     salary: @integer;
     display:<
       (#
       do name[] -> puttext; ' '->put;
          age -> putint;
          ' '->put;
          salary->putint;
          newline
       #)          
  enter(name[],isMale,age,salary)
  exit this(person)[]
  #);

generate:
  (# current: ^person
  do ('Peter Jensen',true,31,450000) -> person -> current[];
     inner;
     ('Peter Hansen',true,21,250000) -> person -> current[];
     inner;
     ('Lise Larsen',false,41,500000) -> person -> current[];
     inner;
     ('Kirsten Olesen',false,36,300000) -> person -> current[];
     inner;
     ('Lars Bak',true,41,350000) -> person -> current[];
     inner
  #)
