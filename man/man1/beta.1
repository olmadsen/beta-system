.TH beta 1 "Sept-15-1995" "MBS r3.1" "Mjolner Informatics" 
.\"  Copyright (c) 1990-95 Mjolner Informatics

.SH NAME
beta \- BETA Compiler (version 5.1)
.SH SYNOPSIS
.hy 0
.na
.B beta
.RB "[\|" \-\-help | \-h "\|]"
.RB "[\|" \-\-repeat | \-r "\|]"
.RB "[\|" \-\-noRepeat "\|]"
.RB "[\|" \-\-link "\|]"
.RB "[\|" \-\-noLink | \-x "\|]"
.RB "[\|" \-\-static "\|]"
.RB "[\|" \-\-dynamic "\|]"
.RB "[\|" \-\-list "\|]"
.RB "[\|" \-\-noList | \-l "\|]"
.RB "[\|" \-\-debug "\|]"
.RB "[\|" \-\-noDebug | \-d "\|]"
.RB "[\|" \-\-code "\|]"
.RB "[\|" \-\-noCode | \-c "\|]"
.RB "[\|" \-\-checkQua "\|]"
.RB "[\|" \-\-noCheckQua | \-Q "\|]"
.RB "[\|" \-\-checkNone "\|]"
.RB "[\|" \-\-noCheckNone | \-N "\|]"
.RB "[\|" \-\-checkIndex "\|]"
.RB "[\|" \-\-noCheckIndex | \-I "\|]"
.RB "[\|" \-\-warn "\|]"
.RB "[\|" \-\-noWarn | \-w "\|]"
.RB "[\|" \-\-warnQua "\|]"
.RB "[\|" \-\-noWarnQua | \-q "\|]"
.RB "[\|" \-\-verbose "\|]"
.RB "[\|" \-\-quiet "\|]"
.RB "[\|" \-\-mute "\|]"
.RB "[\|" \-\-traceCheck "\|]"
.RB "[\|" \-\-noTraceCheck "\|]"
.RB "[\|" \-\-traceCode "\|]"
.RB "[\|" \-\-noTraceCode "\|]"
.RB "[\|" \-\-out 
.I file
.IB | " \-o"
.IR file "\|]"
.RB "[\|" \-\-preserve |  \-p "\|]"
.RB "[\|" \-\-noPreserve "\|]"
.RB "[\|" \-\-job "\|]"
.RB "[\|" \-\-noJob | \-j "\|]"
.RB "[\|" \-\-switch
.IR sw-1 ... sw-n
.RB "[\|" 0 "\|]"
.RB | " \-s"
.IR sw-1 ... sw-n
.RB "[\|" 0 "\|]"\c
]
.RB "[\|" \-\-linkOpts
.I string\c
]
.IR files ...
.ad b
.hy 1
.PP
.SH AVAILABILITY
The Mjolner BETA Compiler is available as part of the Mjolner BETA System from
Mjolner Informatics. 
.PP
.SH DESCRIPTION
.I beta
is an efficient compiler for the object oriented programming language BETA.
The compiler is using native code generation, automatic garbage collection, and
separate compilation.  The compiler also allows for easy interfacing into code
and data structures, originating from sources written in other languages such
as C, Pascal and assembly language.  The Mjolner BETA System includes (besides
this BETA compiler), a persistent store for BETA objects, a source-level
debugger, a hyper structure editor and a wide variety of libraries and
application frameworks (data structures, window system frameworks,
metaprogramming system, etc.), an object-oriented database for BETA objects
(prerelease), a distributed object system for BETA objects (experimental), etc.
.PP
.SH OPTIONS

.TP
.B 
 \-h
.PD 0
.TP
.B \-\-help
Print this help info
.PD

.PD 0
.TP
.B
 \-r
.TP
.B \-\-repeat
Run compiler in repeating mode
.TP
.B\-\-noRepeat 	
Do not run compiler in repeating mode (default)
.PD

.TP
.B \-\-link 	
Link program (default) 
.PD 0
.TP
.B
 \-x
.TP
.B \-\-noLink
Do not link program
.PD

.TP
.B \-\-static
Use static linking
.PD 0
.TP
.B \-\-dynamic
Use dynamic linking (default)
.PD

.TP
.B \-\-list 	
Generate .lst file, if semantic errors (default) 
.PD 0
.TP
.B
 \-l
.TP
.B \-\-noList
Do not generate .lst file, if semantic errors 
.PD

.TP
.B \-\-debug 	
Generate debug info to enable debugging (default)
.PD 0
.TP
.B 
 \-d
.TP
.B \-\-noDebug
Do not generate debug info
.PD

.TP
.B \-\-code 	
Generate code (default)
.PD 0
.TP
.B
 \-c
.TP
.B \-\-noCode
Do not generate code
.PD 

.TP
.B \-\-checkQua 	
Generate qualification runtime checks (default)
.PD 0
.TP
.B
 \-Q
.TP
.B \-\-noCheckQua
Do not generate qualification runtime checks
.PD

.TP
.B \-\-checkNone 	 
Generate runtime checks for NONE references (default)
.PD 0
.TP
.B
 \-N
.TP
.B \-\-noCheckNone
Do not generate runtime checks for NONE references
.PD

.TP
.B \-\-checkIndex 	
Generate runtime checks for repetition index out of range (default)
.PD 0
.TP
.B
 \-I
.TP
.B \-\-noCheckIndex
Do not generate runtime checks for repetition index out of range
.PD

.TP
.B \-\-warn 	
Generate warnings (default)
.PD 0
.TP
.B
 \-w
.TP
.B \-\-noWarn
Do not generate warnings
.PD


.TP
.B \-\-warnQua 	
Generate warnings about runtime QUA checks (default)
.PD 0
.TP
.B
 \-q
.TP
.B \-\-noWarnQua
Do not generate warnings about runtime QUA checks
.PD

.PD 0
.TP
.B \-\-verbose 
Verbose compiler info output
.TP
.B \-\-quiet 	
Only compiler info on parse, check, etc. (default)
.TP
.B \-\-mute 
No compiler info output
.PD

.PD 0
.TP
.B \-\-traceCheck 
Trace the compiler during semantic checking
.TP
.B \-\-noTraceCheck
Do not trace the compiler during semantic checking
.PD

.PD 0
.TP
.B \-\-traceCode 
Trace the compiler during code generation
.TP
.B \-\-noTraceCode
Do not trace the compiler during code generation (default)
.PD

.PD 0
.TP
.B
 \-o 
.I file
.TP
.BI "\-\-out " file
Specify name to use for executable
.PD

.PD 0
.TP
.B
 \-p 
.TP
.B \-\-preserve
Preserve generated .job and assembly files
.TP
.B \-\-noPreserve 	
Do not preserve generated .job and assembly files (default)
.PD

.PD 0
.TP
.B \-\-job 	
Execute the .job file (default) 
.TP
.B
 \-j
.TP
.B \-\-noJob
Do not execute the .job file 
.PD

.PD 0
.TP
.B
 \-s
.IR sw-1 ... sw-n
.RB [ 0 ]
.TP
.B "\-\-switch"\c
.IR "sw-1 ... sw-n"\c
.RB "[" "0" "]"
.br
Set/unset one or more compiler switches. Please see the section
.I Compiler switches 
below for details.
.PD

.TP
.BI \-\-linkOpts " string"
Specify text string to be append to the link directive

.PP
Note that short options can be combined, e.g.
.B \-q \-c
can be written as
.B "\-qc"\c
\&.
Long option names are case insensitive, whereas single character options
are case sensitive.
.PP

.TP
.I Compiler switches
.br
This section describes the most interesting compiler switches with respect to
parameterization.  Please consult the compiler reference manual for details.
.RS
.TP 6
.I \ 12:
Force code generation for all fragments in the dependency graph.  Since this
switch may force code generation of standard libraries, it should only be used
by the system administrators and only in the case of serious problems with the
installation.
.TP
.I \ 21:
Continue translation after semantic errors.
.TP
.I \ 191:
Print each descriptor just before it is checked.
.TP
.I \ 192:
Print each declaration just before it is checked.
.TP
.I \ 193:
Print each imperative just before it is checked.
.TP
.I \ 308:
Print each declaration just before code is generated for it.
.TP
.I \ 311:
Print each imperative just before code is generated for it.
.RE
Note that switches 191, 192 and 193 are jointly set by 
.br
.B "\-\-traceCheck"
and that switches 308 and 311 are jointly set by 
.B "\-\-traceCode"\c
\&.
.PP
.SH ENVIRONMENT
The
.I beta
compiler recognizes the environment variables listed below. Please note
that many of these variables are given default values in the Bourne Shell
script 
.I $BETALIB/configuration/r3.0/env.sh
(see the 
.I BETALIB
environment variable below).
If the default values for some of these variables are to be changed
for an entire site-installation, the easiest way to do it is by changing
them directly in this file.
.TP
.B BETALIB
Specifies where 
.I ~beta
is located.  If not set,
.I beta
is assumed to be a username, and 
.I ~beta
being the home directory of that user.  Is used by many tools in the Mjolner
BETA System.
.TP
.B BETAOPTS
Specifies options that the 
.I beta
compiler should be invoked with by default.
.TP
.B BETALINKOPTIONS
Specifies the linker options to be used by the BETA compiler when linking
(using std. UNIX linker).  If set, it totally overwrites the default link
options, the compiler would have used otherwise.
.TP
.B LD_LIBRARY_PATH
This is a colon separated list of directories to search for external libraries
during linking. Notice that not all standard UNIX linkers supports this
variable directly, but the 
.I ..job 
files generated by the beta-compiler will still use this variable.
.TP
.B TMPDIR
Normally, the link-directives in the
.I ..job
files will use 
.I /tmp
for temporary files. If another directory is to be used (e.g. because 
.I /tmp
is full), setting 
.I TMPDIR
to the name of a directory, prior to compilation, will cause the link-directives
to place temporary files in this directory.
.TP
.B MACHINETYPE
Is set automatically by the compiler during the execution of the 
.I ..job
files and 
.I make
files. 
.TP
.B BETART
Is used to set various characteristics of the BETA runtime system.  The
specification consists of a list of entries, separated by ':' (colon).
Colon in the beginning and at the end of the 
.B BETART
value is optional. The specification ignores case except for the case of
the string-entry values.

Entries may appear more than once in
.B BETART.
The last specification will in this case be used.  The semantics of the
different 
.B BETART
entries are given below.

There are three types of entries: boolean-, integer-, and string-entries:
.RS
.TP
.I Boolean-entries:
.br
The default values for all boolean entries are
.I false.
Mentioning the boolean entries in
.B BETART
sets its value to
.I true.
.br
Boolean entries have the form <entry>, where <entry> is one of:
.RS
.TP 10
.I Info
Print information about heap sizes etc. at startup.
.TP
.I InfoIOA
Print information on garbage collection in the infant object area during
execution. 
.TP
.I InfoAOA
Print information on garbage collection in the adult object area during
execution. 
.TP
.I InfoLVRA
Print Information on garbage collection in the large value repetition area
during execution. 
.TP
.I InfoCBFA
Print information about the callback function area during execution. 
.TP
.I InfoLVRAAlloc
Print information on allocation in the large value repetition area during
execution. 
.TP
.I InfoAll
Sets all Info-entries: Info, InfoIOA, InfoAOA, InfoLVRA, InfoCBFA, and
InfoLVRAAlloc.
.TP
.I QuaCont
Continue execution after runtime detection of qualification error in reference
assignment. 
.RE
.TP
.I Integer-entries:
These have the form <entry>=<value>, or <entry>#<value>, where <entry> is one
of the following, and <value> is any positive integer. The default values are
noted in parenthesis below:
.RS
.TP 10
.I IOA
The size in Kb of the infant object area (Default: 512).
.TP 10
.I IOAPercentage
The minimum free fraction in percent of the infant object area. 
(Legal range: 3 to 40, default: 10).
.TP
.I AOA
The size in Kb of one block in the adult object area (Default: 512).
.TP
.I AOAMinFree
The minimum free area in Kb in the adult object area.
If less than this size is free after an AOA garbage collection, then the next allocation
in AOA will cause a new block to be allocated. Please note that it is only meaningful
to specify
.I one
of AOAMinFree and AOAPercentage (below), because they specify conflicting behaviour for
allocation in AOA. (Default: 100).
.TP
.I AOAPercentage
The minimum free fraction in percent of the adult object area. If less than this fraction
is free after an AOA garbage collection, then the next allocation
in AOA will cause a new block to be allocated. Please note that it is only meaningful
to specify
.I one
of AOAMinFree (above) and AOAPercentage, because they specify conflicting behaviour for
allocation in AOA. (Legal range: 3 to 97, default: 0, i.e., AOAMinFree is used).
.TP
.I LVRA
The default size in Kb of one block in the large value repetition area
(Default: 512).
.TP
.I LVRAMinFree
The minimum free area in Kb in the large value repetition area.
If less than this size is free after an LVRA garbage collection, then the next allocation
in LVRA will cause a new block to be allocated. Please note that it is only meaningful
to specify
.I one
of LVRAMinFree and LVRAPercentage (below), because they specify conflicting behaviour for
allocation in LVRA. (Default: 200).
.TP
.I LVRAPercentage
The minimum free fraction in percent of the large value repetition area. 
If less than this fraction
is free after an LVRA garbage collection, then the next allocation
in LVRA will cause a new block to be allocated. Please note that it is only meaningful
to specify
.I one
of LVRAMinFree (above) and LVRAPercentage, because they specify conflicting behaviour for
allocation in LVRA. (Legal range: 3 to 97, default: 0, i.e., LVRAMinFree is used).
.TP
.I CBFA
The size in Kb of one block in the callback function area (Default: 1).
.RE
.TP
.I String-entries:
These have the form <entry>=<value>, or <entry>#<value>, where <entry> is one
of the following, and <value> is any string. The default values are noted in
parenthesis below:
.RS
.TP 10
.I InfoFile
Name of file on which to write all this information (Default: stderr).

.RE
.I Example:
.RS
setenv\ BETART\ "InfoIOA:IOA=1024:InfoFile=info.dump"
.br
(using csh)
.RE
.TP
.B BETARS
Corresponds to
.B BETART.
Is used by valhalla (the source level debugger) for specifying the
.B BETART
entries for the program being debugged (and thus not affecting the behavior of
the debugger itself).  Setting
.B BETART
is in this case used to control the entries of the debugger itself.
.SH FILES
.TP
.I file.bet
The file containing the BETA source-code
.TP
.I file.ast
On a big-endian architecture, this file will contain the abstract syntax tree 
representation of the compiled source code.  
This file is used by many tools in the Mjolner BETA System.
This file used to be called
.I file.group
in previous releases of the Mjolner BETA System.
.TP
.I file.astL
On a little-endian architecture, this file will contain the abstract syntax tree 
representation of the compiled source code.  
This file is used by many tools in the Mjolner BETA System.
.TP
.I file.lst
This file is generated in the case of errors during the compilation process.
It will then contain error-messages etc. along with the source code if errors
are discovered in the source code (syntax errors and semantic errors).
.TP
.I file.o
This file will contain the object-code for the compiled source code.  
.I file.o
files are located in subdirectories named according to the machine type, to
which the source code have been compiled.  Currently, the directories:
.I sun4, sun4s, hpux8, hpux9pa, hpux9mc, linux, nti, 
and
.I mac
can be created.  These directories are automatically created by the compiler,
if not present already.
.TP
.I file.go
Like 
.I file.o
but with debug info included. 
.TP
.I file..job
This file contains commands controlling the assembly and link process (asm and
link instructions, etc.). This file is generated during the compilation
process, and will normally be removed immediately before the compilation
terminates. Like 
.I file.o
the job-file is placed in a subdirectory corresponding to the machine type, 
please see  
.I file.o
for a descriptrion.
.TP
.I file..s
This file will contain the assembly code for the compiled source code files.
This file is also normally removed immediately before the compilation
terminates. Like 
.I file.o
the assembly-file is placed in a subdirectory corresponding to the machine type, 
please see 
.I file.o
for a descriptrion.
.TP
.I file..gs
Like 
.I file..s
but with debug info included.
.TP
.I file..db
file with debug info used by 
.I valhalla(1).
Like 
.I file.o
the debug-file is placed in a subdirectory corresponding to the machine type, 
please see 
.I file.o
for a descriptrion.
.TP
.I file.dump
If a run-time error occurs during execution of the executable, a dump
of the current object and the call chain that activated that object will be
written to this file. Please note, that in some situations, the program state
may be so corrupted that the dump becomes unprecise, or it may fail completely
to produce the dump. Try using 
.I valhalla(1)
and reproduce the error if the dump is not enough to understand the error.
Note that this file was previously named
.I beta.dump
for all applications.
.TP
.I $BETALIB/configuration/r3.0/env.sh
Bourne Shell script used by the tools in the Mjolner BETA System. Contains
default set-up of environment variables for the architectures currently 
supported by the Mjolner BETA System.
.PP
.SH SEE ALSO
.PP
.I valhalla(1)
- Mjolner BETA Source-Level Debugger
.br
.sp
.I betatar(1)
- BETA tar(1) front-end
.br
.sp
.I betawc(1)
- BETA fragment analyser
.br
.sp
.I sif(1)
- to appear
.PP
The USENET newsgroup
.I comp.lang.beta
is intended for discussions about the BETA language and the programs and systems
written in or supporting BETA. Discussions concerning object-oriented
programming principles based on the concepts known from BETA will also
take place in 
.I comp.lang.beta, 
possibly cross-posted to 
.I comp.object.
.br
.sp
The 
.I beta-language-faq
will be cross-posted to 
.I comp.lang.beta, 
and the most frequently asked questions from 
.I comp.lang.beta 
will be included in the subsequent versions of the FAQ.
.sp
Two home pages are accessible on the World Wide Web, at the URLs
.TP
.IR http://www.mjolner.dk/ "  and"
.TP
.IR http://www.daimi.aau.dk/~beta/ .
.sp
.PP
.I "The Mjolner BETA System - BETA Compiler: Reference Manual,"
Mjolner Informatics Report: MIA 90-2.
.PP
.I "The Mjolner BETA System - Using on UNIX Systems,"
Mjolner Informatics Report: MIA 90-4.
.PP
.I "The Mjolner BETA System - Basic Libraries,"
Mjolner Informatics Report: MIA 90-8.
.PP
.I "The Mjolner BETA System - Sif: A Hyper Structure Editor - User's Guide,"
Mjolner Informatics Report: MIA 90-11.
.PP
.I "The Mjolner BETA System - Valhalla: The BETA Source-level Debugger - User's Guide,"
Mjolner Informatics Report: MIA 92-12.
.PP
.I "The Mjolner BETA System - The Bifrost Graphics System: Reference Manual,"
Mjolner Informatics Report: MIA 91-13.
.PP
.I "The Mjolner BETA System - X Window System Libraries,"
Mjolner Informatics Report: MIA 91-16.
.PP
.I "The Mjolner BETA System - The Bifrost Graphics System: Tutorial,"
Mjolner Informatics Report: MIA 91-19.
.PP
.I "The Mjolner BETA System - Persistence in BETA,"
Mjolner Informatics Report: MIA 91-20.
.PP
.I "The Mjolner BETA System - Container Libraries, Reference Manual"
Mjolner Informatics Report: MIA 92-22.
.PP
.I "The Mjolner BETA System - The Mjolner BETA System Tutorial,"
Mjolner Informatics Report: MIA 94-24.
.PP
.I "The Mjolner BETA System - Distribution"
Mjolner Informatics Report: MIA 94-25.
.PP
.I "The Mjolner BETA System - BETA Language Introduction,"
Mjolner Informatics Report: MIA 94-26.
.PP
O. Lehrmann Madsen, B. Moller-Pedersen, K. Nygaard:
.I "Object-Oriented Programming in the BETA Programming Language,"
Addison-Wesley, 1993, ISBN 0-201-62430-3.
.PP
J. L. Knudsen, M. Lofgren, O. L. Madsen, B. Magnusson (Eds.): 
.I "Object-Oriented Environments - The Mjolner Approach,"
Prentice Hall, 1994, ISBN 0-13-009291-6.
.PP
.SH BUGS
The BETA compiler does not currently implement the entire BETA language.  A few
constructs are not supported.  For a precise description of the limitations
(and additions), see the compiler reference manual.
.PP
.SH AUTHORS
The BETA Compiler is developed by Mjolner Informatics as part of the Mjolner
BETA System.  

Questions, bug-reports, etc. may be directed to support@mjolner.dk if the
local support organization cannot find solutions to the problems.

For more information of the Mjolner BETA System, please contact
Mjolner Informatics, Science Park Aarhus, Gustav Wieds Vej 10, DK-8000 Aarhus C,
Denmark, phone: +45 86 20 20 00, fax: +45 86 20 12 22, e-mail:
info@mjolner.dk.
