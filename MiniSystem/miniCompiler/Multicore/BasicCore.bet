BasicCore: @
  (# cores:[4] ^Core;
     Core:
       (# S: ^Object;
          attach:
            (#
            enter S[]
            do
            #);
       do loop:
            (if S[] <> none then
                S
            if)
       #);
     init:
       (#
       do (for i: 4 repeat &Core[] -> cores[i][];
               cores[i][] -> fork (* primitive creating a thread executing cores[i]*)
          for)
       #)
  #)

BasicSystem: @
  (# with BasicCore;
     System:
       (#
          Process:
            (# start: (# ... #)
            do ...
            #);
          Monitor:
            (#
            do
            #);
          Semaphore:
            (#
            do
            #);
          Scheduler:
            (#
            do loop:
                 (#
                 do SQS.removeNext -> active[];
                    ...
                 #)               
            #);
          
          SQS: @ ProcessQueue;
          
          init:
            (#
            do (for i: 4 repeat
                    &Scheduler[] -> cores[i].attach
               for);
               
       #)
  #)

            
     
