test: @
  (# (*with dk.au.cs.Accounts;*) Account: (# go: (#  do 'I' -> put #) #);
     doIt: 
       (# lisa: ^Account;
          S: ^text
       do '2' -> put;
          &Account[] -> lisa[];
          lisa.go;
          (*&dk.au.cs.Accounts.Account[] -> lisa[];*) 
          '3' -> put;
          (*&text[] -> S[];*) 
          '4' -> put
       #);
     joe: ^Account;
     T: ^text;
     fileX: 
       (# open: (# nm: ^text enter nm[] do  #);
          put: 
            (# ch: @ char
            enter ch
            do (1,handle,ch) -> sendMsg
            #);
          puttext: (# T: ^text enter T[] do (1,handle,T[]) -> sendMsg #);
          fun: (#  do (1,handle,'hello') -> sendMsg #);
          handle: @ integer
       #);
     F: @ file;
     hest: (# qqq: @ integer;
              show: (#  do qqq -> putint #) #);
     xhest: hest
       (# zzz: @integer;
          zshow: (# do zzz -> putint#)
       #);
     foo: 
       (# a,b,c: @ integer;
          T: ^hest
       enter (a,b,c)
       do &hest[] -> T[]; a + b + c -> T.qqq
       exit T[]
       #);
     bar: (# x,y,v: @ integer enter (x,y) do x + y -> v exit v #);
     fisk: (#  do  exit 117 #);
     abe: @ 
       (# age: (#  do  exit 17 #);
          height: (# z: @ integer do 34 -> z exit z #)
       #);
     kat: @ 
       (# put: 
            (# V,W: @ integer
            enter (V,W)
            do V + W -> V
            exit V
            #)
       #);
     H: ^hest;
     X: @ integer;
     nestedSubs: @ 
       (# x0: @ char;
          abe: (# x1: @ char #);
          abex: abe(# y: @ char #);
          gox: @ 
            (# kat: abex(# x2: @ char #);
               goy: @ 
                 (# dyr: kat
                      (# x3: @ char;
                         goz: 
                           (# 
                           do 'a' -> x0;
                              'b' -> x1;
                              'c' -> x2;
                              'd' -> x3
                           #)
                      #);
                    bloddyr: dyr(# y2: @ char #);
                    d: ^dyr
                 do &bloddyr[] -> d[];
                    x0 -> put;
                    d.x1 -> put;
                    d.x2 -> put;
                    d.x3 -> put
                 #)
            do goy
            #)
       #);
     P: ^nestedSubs.abe;
     TT: ^text;
     ch: @char
  do 97 -> X;
     'Q' -> put;
     (for i: 10 repeat 
          get -> ch;
          ch -> put;
     for);
     10 -> put;
     
     (*
      &nestedSubs.abe[] -> P[];
      'W' -> P.x1;
      P.X1 -> put;
      nestedSubs.gox;
      * *) 
     'World' -> 'Hello '.puttext -> TT[];
     TT.print;
     (1,2,3) -> foo -> H[];
     H.show;
     (7,8) -> bar -> X;
     X -> putint;
     fisk -> putint;
     (abe.age,abe.height) -> kat.put -> X;
     ',' -> put;
     X -> putint;
     &Account[] -> joe[];
     (*     
      'Hello'.print;
      'myX-File' -> F.open;
      'HelloExDarling' -> F.puttext;
      ' to my'.print;
      F.close;
      ' world'.print;
      (*Account;* )
      '1' -> put;
      &text(81)[] -> T[];
      'x' -> put;
      doIt;
      '5' -> put;
      &Account[] -> joe[];
      (*&dk.au.cs.Accounts.Account[] -> joe[];* ) 
      joe.go;
      '6' -> put;
      (* &text[] -> T[];* ) 
      '7' -> put;
      *) 
     Joe.go
  #)
