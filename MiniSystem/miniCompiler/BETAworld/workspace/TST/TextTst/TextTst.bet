TextTst: @
  (# text:
       (# T: [16] @char; (* T.inx: length of this(text) *)
          putx:
            (# ch: @char
            enter ch 
            do pos + 1 -> pos;
               ch -> T[pos];
               (if pos > T.index then pos  -> T.index if)
            #);
          print:
            (#
            do (for i: T.index repeat T[i] -> put for)
            #);          
          scan:
            (# currentCh: (# enter T[inx] exit T[inx] #);
               inx: @integer
            do (for i: T.index repeat i -> inx; inner for)
            #);
          pos: @integer;
       enter T[]
       exit T[]
       #);     
     S: @text;     
     R: [1] @char;     
     T: ^text;
     S1: @text
  do 'a' -> S.putx;
     (for i: 3 repeat
          'a' + i -> S.putx
     for);
     S.print;
     'efghi' -> R[];
     (for i: 5 repeat
          R[i] -> put 
     for);
     'jkl' -> S;
     S.print;

     S -> S1;
     S1.scan(# do currentCh + 3 -> currentCh #);
     S1.print;
     'o' -> last
  #)
