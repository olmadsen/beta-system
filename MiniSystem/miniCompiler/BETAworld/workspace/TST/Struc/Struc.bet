Struc: @
  (# struc: 
       (# foo: (#  ch: @char enter ch do ch -> put; inner #);
          F1,F2: ##foo;
          bar: 
            (# V:< (#  do inner #); G: ##V
            do inner; G
            #);
          fisk: bar
            (# V::< (#  do 'j' -> put #)
            do V## -> G##
            #);
          snorf: bar
            (# V::< (#  do 'k' -> put #)
            do V## -> G##
            #);
          objDescStruc: 
            (# F3: ##foo
            do foo(#  do ch + 1  -> put;  #)## -> F3##; 'l' -> F3
            #)
       do foo## -> F1##;
          F1## -> F2##;
          'i' -> F2;
          fisk;
          snorf;
          objDescStruc;
       #);
     X: @ 
       (# X1: @ (#  #);
          fisk: (#  do 'a' -> put; 'b' -> Y.foo #)
       do 'e' -> put; 'f' -> Y.foo
       #);
     Y: @ 
       (# bar: 
            (# snorf: 
                 (# ch: @ char
                 enter ch
                 do ch -> put
                 #);
               ch: @ char
            enter ch
            do ch -> put; ch + 1 -> snorf
            #);
          foo: 
            (# ch: @ char
            enter ch
            do ch -> put; ch + 1 -> bar
            #)
       #);
     foo2: (#  do (* foo2 *)  #);
     M: @ 
       (# main: 
            (# foo1: (#  #);
               R1: ^foo1;
               R2: ^foo2;
               G: @ foo1;
               F: @ foo2
            do &foo1[] -> R1[];
               &foo2[] -> R2[];
               X.fisk;
               X
            #)
       #)
  do M.main; struc; 'm' -> last
  #)
