DemoBank: @
  (# Person: (# name: ^text #);
     JoeSmith: @ Person;
     Bank: @ 
       (# open: 
            (# Joe: ^Account
            do &Account[] -> Joe[];
               (2017,JoeSmith[],555) -> Joe.init;
               100 -> Joe.deposit;
               50 -> Joe.withdraw
            #);          
          Account: 
            (# init: (#  enter (accountNo,owner[],balance) do  #);
               deposit: 
                 (# amount: @ integer
                 enter amount
                 do balance + amount -> balance
                 exit balance
                 #);
               withdraw: 
                 (# amount: @ integer
                 enter amount
                 do (if (balance - amount) >= 0 then
                        balance - amount -> balance;
                        (accountNo,amount,balance) -> transactions.add
                    if)
                 exit balance
                 #);
               owner: ^Person;
               balance: @ integer;
               accountNo: @integer
            #);
          transactions: @
            (#
               add:
                 (# accountNo,amount,balance: @integer
                 enter(accountNo,amount,balance)
                 do 'Add: '.print;
                    newline
                    
                 #)
            #)
       #)
  do 'Joe Smith' -> JoeSmith.name[]; Bank.open
  #)
