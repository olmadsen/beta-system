XXX: @
  (# struc:
       (# foo: (# do 'Q' -> put #);
          
          F1,F2: ## foo;
          
          bar: (# V:< (# do inner #);
                  G: ##V             
               do inner;
                  G
               #);
          fisk: bar
            (# V::< (# do 'W' -> put #);          
            do V## -> G##;
            #);
          snorf: bar
            (# V::< (# do 'E' -> put #);
            do V## -> G##
            #);
          
          
       do foo ## -> F1##;     
          F1## -> F2##;     
          F2;
          fisk;
          snorf
          10->put
       #);
     X: @
       (# X1: @
            (#
            #);
          fisk: (# do 'a' -> put; Y.foo #);
       do 'e'-> put; 
          Y.foo
       #);
     Y: @
       (# bar: 
            (# snorf: (# do 'd'->put #);
            do 'c' -> put; snorf
            #)
          foo: (# do 'b'->put; bar #);
       #);
     foo2: (# #);
     M: @
       (# main:
            (# foo1: (# #); R1: ^foo1; R2: ^foo2;
               G: @foo1;
               F: @foo2
            do &foo1[] -> R1[];
               &foo2[] -> R2[];               
               
               X.fisk;
               X
            #)
       #)
          
  do (* M.main;*)
     struc
  #)
