CelsiusToFahrenheit: @
  (# with gui;
     W: @ Window
       (# F: @ Frame
            (# B: @Button
                 (# mouseClicked::
                      (# T: ^text; S: ^text; V: @integer
                      do field.gettext -> T[];                         
                         0 -> T.setPos;
                         &text(12)[] -> S[];
                         T.getInt -> CtoF ->  S.putint;
                         S[] -> area.setText
                      #);
                    echo:: (# do '***Button pressed' -> T[]  #)
                 #);
               Field: @TextField;
               Area: @TextField;
               L: @Label;
               
               open::
                 (#
                 do (F[],'Celsius') -> L.open;
                    (F[]) -> field.open;
                    (F[],'PushConvert') -> B.open;
                    (F[]) -> area.open
                 #);          
               
               echo:: (# do '>>W>>'->T[] #);
            #);
          open:: (# do W[] -> F.open; (100,50) -> F.setSize #)
       #);
     main: @ 
       (# run: 
            (# T: ^Component
            do (T[] (*none*),'Celsius to Fahrenheit') -> W.open;
               (*(200,200) -> W.setSize
                * -- gives cast-error in Java code since we cast to a Jcomponent
                * and  Window is not a Jcomonent *)
       #)#);
     CtoF: 
       (# C,F: @integer
       enter C 
       do ((C * 9) div 5) + 32 -> F
       exit F 
       #)
  do main.run;
  #)
