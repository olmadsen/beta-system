BASIC: @
  (# int:
       (# v: @integer;
          add: (# x: ^int enter x[] do v + x.v -> v exit this(int)[] #);
          sub: (# x: ^int enter x[] do v - x.v -> v exit this(int)[] #);
       #);
     bool:
       (# B: @boolean;
          iff:< 
            (# thenn:< (# do 'A'->put; inner; 'B'->put #);
               elsee:< (# do inner #);
            do 'Z'->put;  inner
            #);
          ifff:<
            (# thenn,elsee: ##object
            enter(thenn##,elsee##)
            do inner
            #)
       #);
     Ttrue: bool
       (# iff::< 
            (# thenn::< (# do 'C'->put; inner; 'D'-> put #);
            do 'Y'->put; thenn
            #) 
          ifff::< (# do thenn #);
       #);
     Ffalse: bool 
       (# iff::<(# do elsee #);
          ifff::< (# do elsee #)
       #);
     
     main: @
       (#    
          go:
            (# A,B,C: @int; D,T: ^int; 
               boo: @Ttrue;
               doIt: @ Ttrue
                 (# iff::
                    (# thenn:: (#do 'Q' -> put#);
                       elsee:: (# do 'W' -> put#)
                    #)
                 #);
               fisk: @Ffalse;
            do 3 -> A.v;
               6 -> B.v;
               12 -> C.v;
               C[] -> (B[] -> A.add).sub-> D[];  (* A + B - C -> D *)
               D.v -> putint; (* D = -3 *)
               10 -> put;
               doIt.iff
             (*  fisk.iff(# thenn::(# do '?' -> put #);
                          elsee:: (# do 'V' -> put #)
                       #)*)
            #);
          go2:
            (# A,B: ## Object;
               AA: (# do 'A' -> put #);
               BB: (# do 'B' -> put #);
               bbb: ^bool
            do 
               &Ttrue[] -> bbb[];
               (AA##,BB##) -> bbb.ifff;
               &Ffalse[] -> bbb[];
               (AA##,BB##) -> bbb.ifff;
               10 -> put;
            #)
       #);
     TTT: @
       (# show:
            (# fisk: (# do 'F' -> put #);
               F: ^Fisk
            do &fisk[] -> F[];
               F
            #)
       #)
  do (*main.go;*)
     TTT.show;
     10 -> put;
     main.go2
  #)
