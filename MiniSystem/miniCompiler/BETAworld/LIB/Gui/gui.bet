Gui: @
  (# Component:
       (# setBackground:
            (# 
            do
               (guiService,handle,3,'+++') -> sendMsg -> handle;
               'H'->put;               handle -> putint;
            #);
          setPosition:
            (# x,y: @integer; args: ^text
            enter(x,y)
            do &text[] -> args[];  '#'->put;
               x -> args.putint; ' ' -> args.putx; y -> args.putint;
              (* 'S'->put; args.dump;
               args.print;*)
               args[] -> dump;
               (guiService,handle,4,args[]) -> sendMsg -> handle;
            #);
          dump: (# T: ^text enter T[] do T.print #);
          snort:
            (# t1,t2: ^text
            do &text[] -> t1[];
               &text[] -> t2[];
               'Anne'-> t1[]; (* 'anne' is a repetition
                               * the rep is assigne to t1 
                               * - should be &text[] -> t1[]; 'Anne' -> t1.T[]
                               *)
               t1[] -> t2[];
            #);
          
         handle: @ integer
       #);
     Window: Component
       (# open:< 
            (# name: ^text
            enter name[]
            do (guiService,0,1,name[]) -> sendMsg -> handle;
               
               inner
            #);
          
          Frame: Component (* this(window).handle should be father.handle *)
            (# open:<
                 (# N: ^text;
                    father: ^component;
                    h: @integer
                 enter father[]
                 do 'R'->PUT; 
                    '***' -> N[];
                   (* (if father[] = 0 then
                        this(Window).handle -> h
                     else*)
                        father.handle -> h
                   (* if);*)
                    (guiService,h,2,N[]) -> sendMsg -> handle;
                    'T'->put;
                    inner
                 #)
            #);         
       #);
     guiService: (#  exit 2 #);
     xhandle: @ integer
  #)
