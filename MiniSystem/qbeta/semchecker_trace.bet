ORIGIN 'qsemchecker'
---sem_ptn_checkActualArgs:descriptor---
(#
do (if traceGetVQual then
       '**** Pattern:checkActualArgs:' -> puttext; dopt -> puthead;
       '**   actualArgs: '->puttext; actualArgs.doPT -> putline;
       '**   fArgs('->puttext;
       OG.IS.scanNonBoundItemArgs
       (#do currentArg.dopt -> puttext; ','  -> put #);
       ')'->putline;
       '\n**   encOG:' -> puttext; 
       (if encOG[] <> none then encOG.doPT -> putHead else 'none'->putHeadN if)
   if)
#)
---sem_ptn_argAtInx:descriptor---
(#
do (if traceGetVqual or traceUnit then 
       '**   argAtInx: ' -> puttext; inx -> putint;
       ' in:PTN:' -> puttext; dopt->puthead;
       '**   theOI: ' -> puttext; theOI.dopt -> putheadN;
       '**   fArg: ' -> puttext; fArgs[inx].dopt -> putheadN;
       '**   aArg: ' -> puttext; current.dopt -> putheadN;
       '**   theOI.f.f:label: '-> puttext; theOI.father.father.label -> putline;
       theOI.father.father.dopt -> putheadN;
       '**   encOG:' -> puttext; encOG.doPT -> putheadN;
       (if theOI.savedOGS[] <> none then
           '**   savedOGS: '->puttext; theOI.savedOGS.print;
        else
           ' none: '->putLine;
   if)if)
#)
---sem_getOGSofArg:descriptor---
(# dclOGx,OGsuper: ^ObjectDescriptor; pnx,onx: @integer; isR: @boolean;
   OGSx: ^OGsequence; ATdx: ^Decl; pn: @integer
do (if traceGetVqual then
       '**** PTN:getOGsequenceOfArg: ' -> puttext; doPT -> putheadN;
       '**   theOI: ' -> puttext; theOI.doPT -> putline;
       '**   theOI.on:'->puttext; theOI.on -> putint; 
       ',pn:' -> puttext; theOI.pn -> putint; 
       ' viaIncl: ' ->puttext; theOI.ptnId.viaIncl[] <> none ->putboolean;
       ' OGS.DOG.super: ' -> puttext;
       (if OGS.DOG.super.isEmpty then 
           'isEmpty' -> putline
        else
           OG.super.doPT -> putline
       if);
       '**   fArgs[inx]: ' -> puttext; fArgs[inx].dopt -> putline;
       (fArgs[inx].sig.id[]->Name) -> OG.IS.localsearch ->  (ATdx[],pn);
       '**   pathTo:parDecl:pn:'->puttext; pn -> putint; newline;
       ('**   OGS:',0,0) -> OGs.print;
       '**   OGS.DOG:'->puttext; OGS.DOG.dopt -> putheadN;
       (if ('Signature'->(fArgs[inx].origin.label).equal) then
           '**   fArgs[inx].origin.label:isSignature'->putline ;
           '**   dclOG:OGofScope: ' -> putline;
           fArgs[inx].origin.OGofScope -> dclOGx[];
           dclOGx.dopt -> putheadN
       if);
   if);
#)
---sem_getOGSofArg_encOG:descriptor--
(#
do (if traceGetVqual then
       '**   getOGsequenceOfArg:aArgs:' -> puttext; 
       actualArgs.dopt -> putheadN;
       '**   fArgs.origin.OG=theFargsOG: '->puttext; theFargOG.dopt -> puthead;
       ('**   OGS: ',0,0) -> OGs.print;
       '**   theFargOG:'->putline; theFargOG.doPT -> putheadN;
   if);
#)
---sem_getOGSofArg_end:descriptor--
(#
do (if traceGetVqual then       
       '**   pn:aplOG:to:dclOG: ' -> puttext; pn -> putint; newline;
       ('**   OGS:after:OGS.PRE(pn):',0,0) -> OGs.print; 
   if)
#)
---semC5:descriptor---
(#
do (if traceUnit then 
       '**   srcQual:OF: ' -> puttext; 
       current.doPT -> puttext;
       ' IS:' -> putline; srcQual.dopt -> puthead;
       (if singleUnitArgQual[] <> none then
           '**   hasOneUnitArg:true:Qual: ' -> putline;
           singleUnitArgQual.dopt -> puthead
       if);
       (if false then
           '*** arg:src:'-> puttext; current.dopt -> putline;
           '*** srcQual:'->putline; srcQual.doPT -> putline;
           '*** arg:dst:'-> puttext; fArgs[inx].dopt -> putline;
           '*** dstQual:'->putline; dstQual.doPT -> putline;
   if)if)
#)
---semC7:descriptor---
(#
do (if false then
       '**** checkIfSuperIsSig:'->puttext; E.dopt -> puthead;
   if)
#)
---semC8:descriptor---
(#
do (if traceSingularFunc then
       '** got virtual arg:singular:\n' -> puttext; 
       fArgs[i].dopt -> puthead;
       (*OI.doPT -> putline;*)
       '** OGy:\n' -> puttext; OGy.doPT -> puthead;
   if)
#)
---semC9:descriptor---
(#
do (if traceSingularFunc then
       '**** Singular sub has same sig as super: '
         -> putline;
       ptn.doPt -> putline;
       '**   Singular sub: ' -> putline;
       OGy.doPT -> putline;
   if)
#)
---sem_OI_semCheck_T1:descriptor--
(#
do (if traceGetVqual or traceUnit then
       '**** OI:semCheck: "' -> puttext;
       doPT -> puttext; '" rec: "' -> puttext;
       rec[] -> putDoPT; '"\n' -> puttext;
       (if true then
           '**   encOG:' -> puttext; 
           encOG[] -> putDoPT; newline
       if);
   if);
#)
---sem_OI_getVq_mark:doPart---
do (if traceGetVqual then
       '**** OI:getVqual:'->puttext; dopt->puttext;
       ' cont:after:'->puttext; 
       inner;
       n -> putint; newline
   if)
---sem_OI_getVq:descriptor---
(# org: ^Scope
do (if traceGetVqual then
       '\n**** OI:getVqual: '->puttext; 
       dopt -> puttext;
       ' on=' -> puttext; on -> putint; 
       ' pn='->puttext; pn -> putint; 
       ' isNest='->puttext; isNest -> putboolean;  
       ' getRtnQual='->puttext; gettingReturnQual -> putboolean;
       newline;
       (if (OGS[] <> none) then 
           '**   OGS:continued:'->puttext; OGS.print 
       if);       
       '**   encOG: ' -> puttext; encOG.dopt -> putHeadN;
       (if false then
           '**   origin: ' -> puttext; origin.label -> puttext; ' '->put;
           origin.dopt -> putHeadN;
           origin[] -> org[];
           (for i: on repeat
                '**   ONno: ' -> puttext; i -> putint;  ' ' -> put;
                org.label -> puttext; ' '-> put;
                org.dopt -> putheadN;
                org.origin[] -> org[];
                (if false and (origin.isSignature -> inSig) then
                    '**** origin.isSignature: ' -> puttext; dopt -> putHeadN
   if)for)if)if)
#)
---sem_OI_viaInclude:descriptor---
(#
do (if traceGetVqual then
       '**** OI:viaInclude:on=' -> puttext; on->putint; ' ' ->put;
       (if ptnID.viaIncl[] <> none then
           ptnID.viaIncl.dopt -> puttext; ' ' -> put;
           ptnID.viaIncl.father.father.dopt -> putline
        else 
           'at:top'->putline
       if);
       '**   OI: '->puttext; OI.dopt -> putheadN;
       '**   encOG: '->puttext;
       encOG.doPT -> putheadN;
       '**   OGS:'->puttext;
       (if OGS[] <> none then OGS.print else newline if)
   if)
#)
---sem_OI_viaInclude_isSig_onx:descriptor---
(#
do (if traceGetVqual then
       '**** viaInclude:isSig:onx: '->puttext; onx -> putint;
       newline;
       OI.dopt -> putline;
       encOG.dopt -> putheadN;
       OGS.print
   if)
#)
---sem_OI_viaInclude_notTop:descriptor---
(#
do (if traceGetVqual then
       '***** viaInclude:notTop:'->dumpT; 
       ptnID.dopt -> dumpT; ptnID.label -> dumpT;
       OIx.dopt -> dumpT; OIx.label -> dumpT;
       OIx.ptnID.dopt -> dumpT;OIx.ptnID.label -> dumpT;
       OIx.ptnId.on + 1 -> dumpI;
       newline; 
       ptnid.viaIncl.father.father.dopt -> dumpT;
       ptnid.viaIncl.father.father.label -> dumpTN;
   if)
#)
---sem_OI_getVq_initial:descriptor---
(#
do (if traceGetVqual then
       '\n**** OI:getVqual:initial: ' -> puttext; 
       dopt->putheadN;
       '**   encOG:' -> puttext; encOG.dopt -> putheadN;
       ('**   OGs:',0,0) ->  OGSx.print;
       '**   ATd: ' -> puttext; 
       ATd.dopt -> putheadN
   if);
#)
---sem_OI_getVq_afterATd:descriptor---
(#
do (if traceGetVqual then
       '\n**** getVqual:initial:afterATd:' -> puttext; 
       dopt->putheadN;
       '**   OGSx:'->puttext; OGSx.print
   if)
#)
---sem_OI_getVq_findEnc:descriptor---
(#
do (if traceGetVqual then
       '**   OI:getVqual:findEnc:i='->puttext; i -> putint;
       ' OGSz:' -> puttext;
       OGSz.print;
       '**   encOG:'->puttext; encOG.dopt -> puthead;
   if)
#)
---sem_OI_getVq_findEnc_match:descriptor---
(#
do (if traceGetVqual and (i > 1) then
       '***** OI:getVqual:findEnc:match!:' -> putline;
       OGSz.print;
   if)
#)
---sem_OI_getVq_isNest:descriptor---
(#
do (if traceGetVqual then
       '\n**** getVqual:added:isNest:' -> puttext;
       encOG.dopt->puthead;
       OGSx.print;
   if)
#)
---sem_OI_getVq_B2:descriptor---
(#
do (if traceGetVqual then
       '\n**** getVqual:B2:' -> putline;
       OGSx.print;
       '---'->putline; ATd.dopt ->putheadN
   if);
#)
---sem_OI_getVq_cont_afterATd:descriptor---
(#
do (if traceGetVqual then
       '\n**** getVqual:cont:afterATd:qual:' -> puttext;
       qual.dopt->putheadN;
       OGSx.print;
   if)
#)
---sem_OI_getVq_savedOGS:descriptor---
(#
do (if traceGetVqual then
       '**   OI:getQual:savedOI:' -> puttext; dopt -> putheadN;
       '**   IT: ' -> puttext; IT.label -> puttext; 
       ' [savedOGS <> none and IT.isDecl: ' -> puttext;
       ']\n**   savedOGS: ' -> puttext; savedOGS.print;
       '**   OGS:'->puttext; 
       (if OGS[] <> none then OGS.print else ' none\n' -> puttext if)
   if)
#)
---sem_OI_getVq_return:descriptor---
(#
do (if traceGetVqual then
       '**** OI:getVqual:return: ' -> puttext; DI.dopt -> putline;
       '**   qual:'->putline; qual.dopt -> putline;
       OGSx.print
   if);
#)
---sem_OI_Vq_end:descriptor---
(#
do (if traceGetVqual then
       '**** OI:getVqual:end: '->puttext; doPT -> putheadN;
       '**   qual: '->puttext; qual.dopt -> putheadN;
       qual.label -> putline;
       (if 'Record' -> (qual.dopt).equal then
           qual.doPP -> putline
       if);
       ('**   OGS:',0,0) -> OGS.print
   if)
#)
