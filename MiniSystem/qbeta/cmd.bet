ORIGIN '~beta/basiclib/betaenv'
---lib:attributes---
chdir: external
  (# dir: [0] @char; res: @integer
  enter dir
  do callC
  exit res
  #);
system: external
  (# cmd: [0] @char; res: @integer
  enter cmd
  do callC
  exit res
  #);
--- program:descriptor ---
(# WS: ^text; T: ^text;
   exe:
     (# cmd,subPath,T: ^text; usingC: @boolean
     enter(cmd[],subPath[], usingC)
     do subPath[] -> (WS.copy).append -> T[]; 
        cmd[] -> (T.copy).append -> T[]; 
        T -> chdir;
        T[] -> putline;
        'pwd'->system;
        'qcompiler ' -> T[];
        (if usingC then ' -c ' -> T.append if);
        cmd[] -> T.append;
        T -> system;
        WS -> chdir;
     #);   
do 
   'c:/beta/r5.5/MiniSystem/qbeta/BETAworld/workspace/' -> WS[];
   'Testing:\n\t ' -> puttext;
   WS[] -> putline;
   WS -> chdir;
   'ls' -> system; 
   ('TST','',false)-> exe;
   ('RemoteExp','',false)-> exe;
   ('Bank','demo/',false) -> exe;
   ('ComplexEx','demo/',false) -> exe;
   ('BinTree','demo/',false) -> exe;
   ('CoArg','demo/',false) -> exe;
   ('ContainerEx','demo/',false) -> exe;
   ('Static','demo/',false) -> exe;
   ('SimpleThreadEx','demo/',true) -> exe;
   ('MonitorDemo','demo/',true) -> exe;
#)

   
