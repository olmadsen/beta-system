ProducerConsumerSystem: obj 
   %include BufferModule, ProducerModule, ConsumerModule,String
   b: obj Buffer
   P: obj Producer("Producer")
   C: obj Consumer("Consumer")
   Message:
      %unique
      in T: ref String
      print:
        T.print
   run:
      "ProducerConsumerSystem:run\n".print
      P.buf := b
      C.buf := b
      B.init
      B.mutex.M.free_M := 0
      P.start
      C.start
      "end-run\n".print
   "ProducerConsumerSystem\n".print