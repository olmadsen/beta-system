ORIGIN '~beta/basiclib/betaenv';
INCLUDE 'testlib'
--- program:descriptor ---
Tester
(# (*sys: @SysEnv; *)
   checkCompiler:
     (#
     do 'C:/beta/r5.5/MiniSystem/qbeta/BETAworld/LIB/' -> sys.WS[];
        ('Compiler','',true,false,false) -> sys.run;
     #);
   arg: ^Text; resetLog: @boolean;
   testDir,log: ^text
do 'qBeta test run: Compiler_test: ' -> puttext;
   (if false then
       (if noOfArguments > 1 then
           2 -> arguments -> arg[];
           (if '-r' -> arg.equalNCS then
               true -> resetLog;
               'Log file is reset' -> puttext
           if)
        else
           'test against masterlog.txt: ' -> puttext           
   if)if);
   newline;
   'pwd' -> system;
   'C:/beta/r5.5/MiniSystem/qbeta/test/' -> testDir[];
   (if resetLog then
       'C_mastertrace.txt' -> (testDir.copy).append -> log[]
    else
       'C_trace.txt' -> (testDir.copy).append -> log[]
   if);
   ('C:/beta/r5.5/MiniSystem/qbeta/BETAworld/OOPM/',log[]) 
     -> sys.init;   
   sys.WS -> chdir;
   checkCompiler;
   'Done:testrun3'->putline;
   (if not resetLog then
       testDir -> chdir;
       'diff -a C_mastertrace.txt C_trace.txt' -> putline;
       'diff -a C_mastertrace.txt C_trace.txt' -> System
   if);
#)

   
