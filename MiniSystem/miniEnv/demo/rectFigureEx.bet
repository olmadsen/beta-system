ORIGIN '~beta/postwimp/graphicscanvas/graphicscanvas';
INCLUDE '~beta/postwimp/graphicscanvas/figures.bet';
INCLUDE '~beta/postwimp/graphicscanvas/diagram.bet'
---program:descriptor---
(* Forsøg på at lave et simpelt rectangle med createSimpleBackground
 * Virker ikke efter hensigten!
 * Der kommer et vindue som indeholder en sort firkant
 * Måske den sorte firkant er et GraphicsCanvas?
 * Det har tilsyneladende ingen effekt om G.createSimpleBackground kaldes
 * Så måske createSimpleBackground mangler at gøre R synlig?
 *)
GUIenv
(# W: @window
     (# G: @GraphicsCanvas
          (# res: @Resource;
             R: ^RectFigure; 
             createSimpleBackground:
               (#
               do 'createSimpleBackground'->putline;
                  &RectFigure[] -> R[];
                  R.init; 
                  10->R.width; 20 -> R.height;
                  res.yellow[] -> R.stroke;
                  res.yellowish[] -> R.fill;
                  R.pack;
                  R[] -> add;
                  G.show
               #);
             open::
               (#
               do 'G.open'->putline;
                  res.init
               #)
          #); 
        foo:
          (# 
          do 'foo'->putline;
             G.createSimpleBackground (* ingen effekt om den kaldes *)
          #);
        open::
          (#
          do 'W.open'->putline;
             G.open; 
             foo (* tilsyneladende ingen effekt om den kaldes *)
          #)
     #) 
do W.open;
   W.show (* tilsyneladende ikke nødvendig? *)
#)
