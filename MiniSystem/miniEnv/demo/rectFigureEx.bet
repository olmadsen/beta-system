ORIGIN '~beta/postwimp/graphicscanvas/graphicscanvas';
INCLUDE '~beta/postwimp/graphicscanvas/figures.bet';
INCLUDE '~beta/postwimp/graphicscanvas/diagram.bet'
---program:descriptor---
(* Forsøg på at lave et simpelt rectangle med createSimpleBackground
 * Virker ikke efter hensigten!
 * Der kommer et vindue som indeholder en sort firkant
 * Måske den sorte firkant er et GraphicsCanvas?
 * Det har tilsyneladende ingen effekt om G.createSimpleBackground kaldes
 * Så måske createSimpleBackground mangler at gøre R synlig?
 *)
GUIenv
(# W: @window
     (# G: @GraphicsCanvas
          (# res: @Resource;
             R: ^RectFigure; 
             createSimpleBackground:
               (#
               do 'createSimpleBackground'->putline;
                  &RectFigure[] -> R[];
                  R.init; 
                  40->R.minimumWidth; 60 -> R.minimumHeight;
                  20 -> R.x;
                  100 -> R.y;
                  res.black[] -> R.stroke;
                  res.yellowish[] -> R.fill;
                  R.pack;
                  R[] -> add;
                  G.show;
               #);
             open::
               (#
               do 'G.open'->putline;
                  (0xFFFF,  0xFFFF, 0xFFFF) -> backgroundColor;
                  (800, 600) -> size;
                  res.init
               #)
          #); 
        foo:
          (# 
          do 'foo'->putline;
             G.createSimpleBackground (* ingen effekt om den kaldes *)
          #);
        open::
          (#
          do 'W.open'->putline;
             'Graphics Canvas' -> Title;
             (800, 600) -> size;
             G.open; 
             foo (* tilsyneladende ingen effekt om den kaldes *)
          #)
     #) 
do W.open;
   W.show (* tilsyneladende ikke nødvendig? *)
#)
