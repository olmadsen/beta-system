ORIGIN '_Environment';
ON 19 (* Disable warnings about runtime qualification tests *);
INCLUDE '~beta/dotnetlib/System/_String';
INCLUDE '~beta/dotnetlib/System/Collections/_IDictionary';
INCLUDE '~beta/dotnetlib/System/_Version';
INCLUDE '~beta/dotnetlib/System/_OperatingSystem';
INCLUDE '~beta/dotnetlib/System/_Enum';
--LIB: attributes--

(* .NET Environment class. *)
Environment: _Environment
  (#
     (* Public/family CLS compliant methods *)

     get_TickCount: static_proc
       (# result: @int32;
       exit result
       #);
     DotnetExit: static_proc
       (# 
          arg1: @int32;
       enter (arg1)
       do 'Exit' -> procname;
       #);
     get_ExitCode: static_proc
       (# result: @int32;
       exit result
       #);
     set_ExitCode: static_proc
       (# 
          arg1: @int32;
       enter (arg1)
       #);
     get_CommandLine: static_proc
       (# result: ^_String;
       exit result[]
       #);
     get_CurrentDirectory: static_proc
       (# result: ^_String;
       exit result[]
       #);
     set_CurrentDirectory: static_proc
       (# 
          arg1: ^_String;
       enter (arg1[])
       #);
     get_SystemDirectory: static_proc
       (# result: ^_String;
       exit result[]
       #);
     ExpandEnvironmentVariables: static_proc
       (# result: ^_String;
          arg1: ^_String;
       enter (arg1[])
       exit result[]
       #);
     get_MachineName: static_proc
       (# result: ^_String;
       exit result[]
       #);
     GetCommandLineArgs: static_proc
       (# result: [0]^_String;
       exit result[]
       #);
     GetEnvironmentVariable: static_proc
       (# result: ^_String;
          arg1: ^_String;
       enter (arg1[])
       exit result[]
       #);
     GetEnvironmentVariables: static_proc
       (# result: ^_IDictionary;
       exit result[]
       #);
     GetLogicalDrives: static_proc
       (# result: [0]^_String;
       exit result[]
       #);
     get_NewLine: static_proc
       (# result: ^_String;
       exit result[]
       #);
     get_Version: static_proc
       (# result: ^_Version;
       exit result[]
       #);
     get_WorkingSet: static_proc
       (# result: @int64;
       exit result
       #);
     get_OSVersion: static_proc
       (# result: ^_OperatingSystem;
       exit result[]
       #);
     get_StackTrace: static_proc
       (# result: ^_String;
       exit result[]
       #);
     get_HasShutdownStarted: static_proc
       (# result: @boolean;
       exit result
       #);
     get_UserName: static_proc
       (# result: ^_String;
       exit result[]
       #);
     get_UserInteractive: static_proc
       (# result: @boolean;
       exit result
       #);
     GetFolderPath: static_proc
       (# result: ^_String;
          arg1: @int32;
       enter (arg1)
       exit result[]
       #);
     get_UserDomainName: static_proc
       (# result: ^_String;
       exit result[]
       #);

     (* Inner classes *)

     SpecialFolder: _Enum
       (#
          (* Enum Literals *)

          Desktop:
            (# exit 0 #);
          Programs:
            (# exit 2 #);
          Personal:
            (# exit 5 #);
          Favorites:
            (# exit 6 #);
          Startup:
            (# exit 7 #);
          Recent:
            (# exit 8 #);
          SendTo:
            (# exit 9 #);
          StartMenu:
            (# exit 11 #);
          MyMusic:
            (# exit 13 #);
          DesktopDirectory:
            (# exit 16 #);
          MyComputer:
            (# exit 17 #);
          Templates:
            (# exit 21 #);
          ApplicationData:
            (# exit 26 #);
          LocalApplicationData:
            (# exit 28 #);
          InternetCache:
            (# exit 32 #);
          Cookies:
            (# exit 33 #);
          History:
            (# exit 34 #);
          CommonApplicationData:
            (# exit 35 #);
          System:
            (# exit 37 #);
          ProgramFiles:
            (# exit 38 #);
          MyPictures:
            (# exit 39 #);
          CommonProgramFiles:
            (# exit 43 #);
       do '[mscorlib]System.Environment/SpecialFolder' -> className;
       INNER;
       #);

  do '[mscorlib]System.Environment' -> className;
  INNER;
  #);

(* Utility function to ease casting to fully specified class. *)
asEnvironment:
  (# _E: ^_Environment;
     E: ^Environment;
  enter _E[]
  do _E[]->E[];
  exit E[]
  #);
