ORIGIN '~beta/basiclib/betaenv';
INCLUDE 'System/Enum';
INCLUDE 'System/IO/FileSystemInfo';
INCLUDE 'System/IO/BinaryWriter';
INCLUDE 'System/IO/BinaryReader';

BUILD clr 'clr/BetaHelpers.dll' 'BetaHelpers.cs' 'csc -nologo -t:library -out:$0 $1';

INCLUDE 'System/String';

--LIB: attributes--

BetaHelpers: ExternalClass
  (# 
     (* static methods *)
     
     int2long: static_proc
       (# I: @int32;
          J: @int64;
       enter I
       exit J
       #);
     
     long2int: static_proc
       (# J: @int64;
          I: @int32;
       enter J
       exit I
       #);
     
     modtimeToFileTime: static_proc
       (# modtime: @int32;
          filetime: @int64;
       enter modtime
       exit filetime
       #);

     fileTimeToModtime: static_proc
       (# filetime: @int64;
          modtime: @int32;
       enter filetime
       exit modtime
       #);
     
     diskentryHasAttribute: static_proc
       (# info: ^FileSystemInfo;
          att: @integer;
          value: @boolean;
       enter (info[], att)
       exit value
       #);
     
     formatReal: static_proc
       (# format, result: ^String;
          r: @real;
       enter (format[],r)
       exit result[]
       #);
     
     WriteInt8: static_proc
       (# bw: ^BinaryWriter;
          v: @int8;
       enter (bw[], v)
       #);
     ReadInt8: static_proc
       (# br: ^BinaryReader;
          result: @int8;
       enter (br[])
       exit result
       #);
     
     WriteInt8Array: static_proc
       (# bw: ^BinaryWriter;
          R: [0]@int8;
          range: @integer;
       enter (bw[], R[], range)
       #);
     ReadInt8Array: static_proc
       (# br: ^BinaryReader;
          R: [0]@int8;
          range: @integer;
       enter (br[], R[], range)
       #);
     
  do 'BetaHelpers' -> classname;
  #);
