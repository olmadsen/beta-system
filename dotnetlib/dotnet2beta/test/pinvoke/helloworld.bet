ORIGIN '~beta/basiclib/betaenv';
INCLUDE '~beta/dotnetlib/System/String';

BUILD clr 'clr/hellolib.dll' 'hellolib.c' 'hellolib.def' 'cl -nologo -Fe$0 -Zi -LD $1 -link -DEF:$2';
BUILD clr 'clr/hellowrapper.dll' 'hellowrapper.cs' 'csc -nologo -t:library -out:$0 $1';

--LIB:attributes--
hellowrapper: ExternalClass
  (# hello: static_proc
       (# who: ^String;
       enter who[]
       #)
  do '[hellowrapper]hellowrapper'->classname; 
  #)

--PROGRAM: descriptor--
(# 
do 'BETA World' -> hellowrapper.hello;
#)
