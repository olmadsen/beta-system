ORIGIN '~beta/basiclib/betaenv';
INCLUDE '~beta/containers/list';

-- lib: attributes --


Registry:
	(# data: ^Database;
		Database: list
			(# element:: Person;
			#);
			
		version:< integerValue
			(# 
			do 1 -> value;
				INNER;
			#);
			
		Person:
			(# name: ^Text;
			enter name[]
			exit this(Person)[]
			#);
			
		init:
			(#
			do &Database[] -> data[];
			#);
		register:
			(# name: ^text;
			enter name[]
			do name[] -> &Person -> data.append;
			#);
		display:
			(#
			do 'version = ' -> puttext;
				version -> putint;
				newline;
				data.scan
					(#
					do current.name[] -> putline;
					#);
			#);
	#);
