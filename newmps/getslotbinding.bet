ORIGIN 'astlevel';
---unExpandedLib:attributes---
GetBinding:
  (* Consider a slot 
   *     <<SLOT SL:CAT>>
   * represented by
   *     SL: ^unExpanded
   * and a fragment group FG: ^FragmentGroup
   * 
   *    FG[] -> SL.getBinding(# found ::(# do ... #) #)
   * 
   * will call 'found' for each form binding SL in the domain of FG.
   * 
   * Note: 
   *  - for certain forms like descriptor, doPart and mainPart
   *    there is at most one binding
   *  - for attributes-slots, there be several bindings
   * 
   * GetBinding used to be part of betaast.bet::ASTindex;
   * it has been removed from ASTindex and defined as a separate
   * fragment. It should considered to integrate getBinding with
   * the dependency fragments.
   * 
   *)
  (# domain: @
       (# Scan:
            (# thisGroup: ^FragmentGroup; R: ^Elm
            #);
          elm: (# F: ^FragmentGroup; succ: ^Elm #);
          head: ^Elm;
          F: ^FragmentGroup;
          inserted: @boolean
       enter F[]
       exit inserted
       #);
     Found:<
       (# theBinding: ^FragmentForm
       enter theBinding[]
       do 
          INNER Found
       #);
     G: ^FragmentGroup;
  enter G[]
  #);

