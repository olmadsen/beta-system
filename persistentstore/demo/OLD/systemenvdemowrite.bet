ORIGIN '~beta/basiclib/systemenv';
INCLUDE '~beta/persistentstore/persistentstore';
INCLUDE 'systemenvdemolib';

--PROGRAM: descriptor--
systemenv
(# PS: @persistentstore;
   myr: ^myRecord;
do 
   'sysenvStore' -> PS.create (# exists::< (# do true -> continue #)#);
   'created' -> putLine;
   
   ('systemEnv', systemEnv##) -> PS.registerSpecialObject;
   (this(systemEnv)[], 'systemEnv') -> PS.registerSpecialInstance;
   
   &myRecord[]->myr[];
   'Holger Olger'->myr;
   (myr[], 'myr')->PS.put;
   
   PS.close;   
#)
