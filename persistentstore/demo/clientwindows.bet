ORIGIN '~beta/guienv/guienvall';
BODY 'private/clientwindowsbody';
-- guienvLib: Attributes --
openClientWindowClass: window
  (#
     open::<  (#  <<SLOT openClientOpen:DoPart>> #);
     eventHandler::< 
       (#
          onAboutToClose::< 
            (#  do terminate #)
       #);
     private:
       @<<SLOT openClientprivate:Descriptor>>;
     info: @infoObject;
     infoObject:<
       (#
          host: @text;
          fullpath: @text;
          ;
          clear:< (#  do host.clear; fullpath.clear #);
          clearView:< (#  <<SLOT openClientclearView:DoPart>> #);
          getView:<
            (# 
            <<SLOT openClientgetView:DoPart>>
            #);
          setView:< (#  <<SLOT openClientsetView:DoPart>> #)
       #);
     ;
     onOK:<
       (#  do info.getView; INNER #)
  #);
transactionLoopWindowClass: window
  (#
     open::< 
       (# 
       <<SLOT transactionLoopOpen:DoPart>>
       #);
     eventHandler::<  (# onAboutToClose::<  (#  do onEndSession #) #);
     private: @<<SLOT transactionLoopPrivate:Descriptor>>;
     info: @infoObject;
     infoObject:<
       (#
          read: @boolean;
          write: @boolean;
          exclusive: @boolean;
          shared: @boolean;
          notifications: @text;
          status: @text;
          ;
          clear:<
            (# 
            do
               true->read;
               false->write;
               false->exclusive;
               true->shared
            #);
          clearView:<
            (# 
            <<SLOT transactionLoopClearView:DoPart>>
            #);
          getView:< (#  <<SLOT transactionLoopGetView:DoPart>> #);
          setView:<
            (# 
            <<SLOT transactionLoopSetView:DoPart>>
            #);
          setViewNotifications:
          (* Only sets the text in the notifications field*)
            (#  <<SLOT transactionLoopSetViewNotifications:DoPart>> #);
          setViewStatus:
          (* Only sets the text in the status line*)
            (#  <<SLOT transactionLoopSetViewStatus:DoPart>> #)
       #);
     ;
     onGetLock:<
       (# 
       do info.getView; INNER
       #);
     onReleaseLock:<
       (# 
       do info.getView; INNER
       #);
     onEndSession:<
       (#  do INNER #)
  #);
lockStatusWindowClass: window
  (#
     private:
       @<<SLOT lockStatusWindowClassprivate:Descriptor>>;
     open::<  (#  <<SLOT lockStatusWindowClassOpen:DoPart>> #);
     info: @infoObject;
     infoObject:<
       (#
          customerReadLock:
          (* forwards directly from/to the GUIobject *)
            (# state: @boolean
            enter
              (# 
              enter state
              <<SLOT lockStatusCustomerReadLockEnter:DoPart>>
              #)
            exit
              (# 
              <<SLOT lockStatusCustomerReadLockExit:DoPart>>
              exit state
              #)
            #);
          customerWriteLock: (* forwards directly from/to the GUIobject *)
            (# state: @boolean
            enter
              (# 
              enter state
              <<SLOT lockStatusCustomerWriteLockEnter:DoPart>>
              #)
            exit
              (# 
              <<SLOT lockStatusCustomerWriteLockExit:DoPart>>
              exit state
              #)
            #);
          ;
          clear:<
            (# 
            do
               false
                 ->
                   customerReadLock;
               false->customerWriteLock
            #);
          clearView:< (#  <<SLOT lockStatusClearView:DoPart>> #);
          getView:< (#  do  #);
          setView:< (#  do  #)
       #)
  #)  

