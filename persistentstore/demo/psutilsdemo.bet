ORIGIN '~beta/basiclib/v1.6/betaenv';
INCLUDE '~beta/persistentstore/v1.6/psutils';

--- program : descriptor ---
(# PS: @persistentstore;
   psname: ^text;   
do
   'Enter name of persistent store: ' -> putText;
   getLine -> psName[];
   
   (if not (psName[]->PS.exists) then
       psName[]->PS.create
   if);
   
   psName[]->PS.openread;
   
   (if not PS.locked(# do msg[]->screen.putline #) then
       'hansen locked'->PS.lock;
    else PS.unlock
   if);
   
   ('o','w')->PS.chmod
   
#)

