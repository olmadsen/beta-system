ORIGIN '~beta/basiclib/betaenv';
INCLUDE '~beta/persistentstore/persistentstore'
        '~beta/containers/list';
-- program: Descriptor --
(#
   psFile: @persistentstore;
   textlist: list (# element:: text #);
   texts: ^textlist
do
   psFile.init;
   'data'
     ->psFile.openwrite
       (#
          notFound::
            (#
            do
               'data'->psFile.create;
               &textlist[]->texts[];
               (texts[],'data')->psFile.put;
               ;
               true->continue
            #)
       #);
   ('data',textlist##)->psFile.get->texts[];
   ;
   'Adding texts: '->puttext;
   (for 20 repeat '.'->put; &text[]->texts.append for);
   ' done'->putline;
   ;
   psFile.close
#)
