ORIGIN 'point';
INCLUDE '../persistentstore';



-- program: descriptor --
(# top: ^Point;
   txt: ^text;
   PS: @PersistentStore;
   db: ^DataBase;
   current: ^Point;
   
do &DataBase[] -> db[];
   40*1024 -> MakePointList -> db.top[];
   
   db.top[] -> current[];
   (for 10 repeat
      current.x -> putint;
	  ' ' -> put;
	  current.next[] -> current[];
   for);
   newline;
   
   'name: ' -> puttext;
   getline -> txt[];
   PS.init;
   txt[] -> PS.create;
   (db[], 'database') -> PS.put;
   PS.checkpoint;
   'done' -> puttext;
   getline -> txt[];
   PS.close;
#)

