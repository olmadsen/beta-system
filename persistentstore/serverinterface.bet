ORIGIN '~beta/distribution/basicshell';
INCLUDE 'lockmanager';
BODY 'private/serverinterfacebody';
(* File serverinterface.bet
 * ========================
 *)
-- shellEnvLib: Attributes --
PersistentStoreManager: shell
  (# thelockmanager: ^lockmanager
  do
     registerlockmanager:
       (# 
       do
          &lockmanager[]->thelockmanager[];
          thelockmanager.init;
          (thelockmanager[],'Lockmanager')
            ->myEnsemble.ns.put (# overWrite::  (#  do true->value #) #)
       #);
     INNER
  #);
write: (#  exit 1 #);
read: (#  exit 0 #);
shared: (#  exit 1 #);
exclusive: (#  exit 0 #);
  

