ORIGIN '~beta/objectserver/v2.4/objectserver';
(* 
 * $RCSfile: psObjectServer.bet,v $ $Revision: 1.6 $ $Date: 1996-06-12 13:49:04 $
 *
 * COPYRIGHT
 *       Copyright Mjolner Informatics, 1992-94
 *       All rights reserved.
 *)
--- lib: attributes ---

getPSObjectServer:
  (* There can be at most one instance of PSobjectServer in a program
   * execution. This pattern returns it if it already exists, and
   * creates a new one if not. *)
  (# os: ^objectServer;
  do PSobjectServer## -> objectPool.strucGet 
     (# init::< (# do obj[] -> os[]; os.init #)
     #) -> os[];     
  exit os[]
  #);

PSObjectServer: objectserver (# #);
