ORIGIN '~beta/distribution/basicshell';
INCLUDE 'clientinterface';
BODY 'private/lockmanagerbody';
-- shellEnvlib: Attributes --
lockmanagerinterface: remoteable
  (#
     MRSWgetlock: entry
       (# name: ^text; theClient: ^PSclient; lockmode: @integer; 
       enter (name[],theClient[],lockmode)
       do (name[],theClient[],lockmode)->MRSWgetLockImpl; 
       #);
     MRSWreleaselock: entry
       (# name: ^text; theClient: ^PSclient; lockmode: @integer; 
       enter (name[],theClient[],lockmode)
       do (name[],theClient[],lockmode)->MRSWreleaseLockImpl; 
       #);
     getLock: entry
       (#
          value: @boolean;
          name: ^text;
          username: ^text;
          theClient: ^PSclient;
          lockmode: @integer;
          lockpolicy: @integer;
          
       enter (name[],theClient[],username[],lockmode,lockpolicy)
       do
          (name[],theClient[],username[],lockmode,lockpolicy)->getLockImpl
            ->value
       exit value
       #);
     releaseLock: entry
       (# name: ^text; theClient: ^PSclient; 
       enter (theClient[],name[])
       do (theClient[],name[])->releaseLockImpl; 
       #);
     deleteLockRequest: entry
       (# name: ^text; theClient: ^PSclient; 
       enter (theClient[],name[])
       do (theClient[],name[])->deleteLockRequestImpl; 
       #);
     connect: entry
       (# name: ^text; theClient: ^PSclient; value: @boolean; 
       enter (theClient[],name[])
       do (theClient[],name[])->connectImpl->value; 
       exit value
       #);
     disconnect: entry
       (# name: ^text; theClient: ^PSclient; 
       enter (theClient[],name[])
       do (theClient[],name[])->disconnectImpl; 
       #);
     getPermissiontoDeletePS: entry
       (# name: ^text; ok: @boolean; 
       enter name[]
       do
          name[]->getPermissiontoDeletePSImpl->ok;
          (if ok then 'ok is true'->putline;  if);
          
       exit ok
       #);
     displayInfo: entry (#  do displayInfoImpl;  #);
     getLockImpl:<
       (#
          value: @boolean;
          name: ^text;
          username: ^text;
          theClient: ^PSclient;
          lockmode: @integer;
          lockpolicy: @integer;
          
       enter (name[],theClient[],username[],lockmode,lockpolicy)
       do INNER ; 
       exit value
       #);
     MRSWgetLockImpl:<
       (# name: ^text; theClient: ^PSclient; lockmode: @integer; 
       enter (name[],theClient[],lockmode)
       do INNER ; 
       #);
     MRSWreleaseLockImpl:<
       (# name: ^text; theClient: ^PSclient; lockmode: @integer; 
       enter (name[],theClient[],lockmode)
       do INNER ; 
       #);
     releaseLockImpl:<
       (# theClient: ^PSclient; name: ^text; 
       enter (theClient[],name[])
       do INNER
       #);
     deleteLockRequestImpl:<
       (# theClient: ^PSclient; name: ^text; 
       enter (theClient[],name[])
       do INNER
       #);
     connectImpl:<
       (# theClient: ^PSclient; name: ^text; value: @boolean; 
       enter (theClient[],name[])
       do INNER
       exit value
       #);
     disconnectImpl:<
       (# theClient: ^PSclient; name: ^text; 
       enter (theClient[],name[])
       do INNER
       #);
     getPermissiontoDeletePSImpl:<
       (# ok: @boolean; name: ^text;  enter name[] do INNER exit ok #);
     displayInfoImpl:< (#  do INNER #);
     init:< (#  do INNER ;  #)
  do INNER
  #)  

