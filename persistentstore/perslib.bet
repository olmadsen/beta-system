(* File perslib.bet 
 * ===============
 * This fragment is a library containing the pattern declarations used to
 * save the Lockinformation on disk. This is done in order to facilitate
 * recovery from a servercrash.
 *)
ORIGIN '~beta/basiclib/betaenv';
INCLUDE '~beta/containers/list';
-- lib: Attributes --
LockInfoElement:
  (#
     pStoreName: ^text;
     Clienthostname: ^text;
     Clientshelladdress: ^text;
     LockMode: @integer;
     LockPolicy: @integer;
     priority: @integer
  #);
NotificationInfoElement: (* NOTE: only PSevents and NPSclients are supported! *)
  (#
     Clienthostname: ^text;
     Clientshelladdress: ^text;
     pStoreName: ^text;
     eventType: @integer;
     user: ^text
  #);
ClientInfoElement:
  (# Clienthostname: ^text; Clientshelladdress: ^text; name: ^text;  #);
PStoreInfo: list (# element:: LockInfoElement;  #);
NotificationInfo: list (# element:: NotificationInfoElement #);
ClientListInfo: list (# element:: ClientInfoElement #);
  

