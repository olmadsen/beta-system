ORIGIN 'events';
LIB_DEF 'xlib' '../../lib';
BODY 'private/xprop';

(*
 * COPYRIGHT
 *       Copyright Mjolner Informatics, 1992-97
 *       All rights reserved.
 *)

---- LIB: attributes ----

IntegerRef: 
  (# int: @integer;
     value: (# exit int #); 
     shortValue: (# exit (0->int.%getShort) #);
     (* Above line tos_converted from: shortValue: (# exit int -> TOS'%GetShort[0]' #); *)
  exit @@int
  #);

(*************)
(* Constants *)
(*************)

(* LogicalFunctions for output *)
GXclear: (# exit 0 #);
GXAnd: (# exit 1 #);
GXAndReverse: (# exit 2 #);
GXCopy: (# exit 3 #);
GXAndInverted: (# exit 4 #);
GXNoop: (# exit 5 #);
GXXOr: (# exit 6 #);
GXOr: (# exit 7 #);
GXNOr: (# exit 8 #);
GXEquiv: (# exit 9 #);
GXInvert: (# exit 10 #);
GXOrReverse: (# exit 11 #);
GXCopyInverted: (# exit 12 #);
GXOrInverted: (# exit 13 #);
GXNAnd: (# exit 14 #);
GXSet: (# exit 15 #);


(* CHAPTER 2 *)

XOpenDisplay: External  (* 2.1 *)
  (# displayName: [1]@char;
     display: @integer;
  enter displayName
  exit display
  #);

XBlackPixel: External (* 2.2.1 *)
  (#
     display,screen: @integer;
     pixelvalue: @integer
  enter (display,screen)
  exit pixelValue
  #);

XWhitePixel: External
  (#
     display,screen: @integer;
     pixelvalue: @integer
  enter (display,screen)
  exit pixelValue
  #);

XConnectionNumber: External 
  (# display,connectionNumber: @integer
  enter display
  exit connectionNumber
  #);

XDefaultColormap: External
  (# display,screenNumber,theColorMap: @integer
  enter (display,screenNumber)
  exit theColormap
  #);

XDefaultDepth: External
  (# display,screenNumber,theDefaultDepth: @integer
  enter (display,screenNumber)
  exit theDefaultDepth
  #);

XDefaultGC: External
  (# display,screenNumber,theDefaultGC: @integer
  enter (display,screenNumber)
  exit theDefaultGC
  #);

XDefaultRootWindow: External
  (# display,theDefaultRootWindow: @integer
  enter display
  exit theDefaultRootWindow
  #);

XDefaultScreen: External
  (# display,theDefaultScreen: @integer
  enter display
  exit theDefaultScreen
  #);

XDefaultVisual: External
  (# display,screenNumber,theDefaultVisual: @integer
  enter (display,screenNumber)
  exit theDefaultVisual
  #);

XDisplayCells: External
  (# display,screenNumber,theDisplayCells: @integer
  enter (display,screenNumber)
  exit theDisplayCells
  #);

XDisplayPlanes: External
  (# display,screenNumber,theDisplayPlanes: @integer
  enter (display,screenNumber)
  exit theDisplayPlanes
  #);

XDisplayString: External
  (# display: @integer;
     displayString: [1]@char
  enter display
  exit displayString
  #);

XImageByteOrder: External
  (# display,theExitInt: @integer;
  enter display
  exit theExitInt
  #);

XLastKnownRequestProcessed: External
  (# display,theExitInt: @integer;
  enter display
  exit theExitInt
  #);

XNextRequest: External
  (# display,theExitInt: @integer;
  enter display
  exit theExitInt
  #);

XProtocolVersion: External
  (# display,theExitInt: @integer;
  enter display
  exit theExitInt
  #);

XProtocolRevision: External
  (# display,theExitInt: @integer;
  enter display
  exit theExitInt
  #);

XQLength: External
  (# display,theExitInt: @integer;
  enter display
  exit theExitInt
  #);

XRootWindow: External
  (# display,screenNumber,theDefaultRootWindow: @integer
  enter (display,screenNumber)
  exit theDefaultRootWindow
  #);

XScreenCount: External
  (# display,theExitInt: @integer;
  enter display
  exit theExitInt
  #);

XServerVendor: External
  (# display: @integer;
     servervendor: [1]@char
  enter display
  exit serverVendor
  #);

XVendorRelease: External
  (# display,theExitInt: @integer;
  enter display
  exit theExitInt
  #);

XBitmapBitOrder: External (* 2.2.2 *)
  (# display,theExitInt: @integer;
  enter display
  exit theExitInt
  #);

XBitmapPad: External 
  (# display,theExitInt: @integer;
  enter display
  exit theExitInt
  #);

XBitmapUnit: External 
  (# display,theExitInt: @integer;
  enter display
  exit theExitInt
  #);

XDisplayHeight: External 
  (# display,screenNumber,theExitInt: @integer;
  enter (display,screenNumber)
  exit theExitInt
  #);

XDisplayHeightMM: External 
  (# display,screenNumber,theExitInt: @integer;
  enter (display,screenNumber)
  exit theExitInt
  #);

XDisplayWidth: External 
  (# display,screenNumber,theExitInt: @integer;
  enter (display,screenNumber)
  exit theExitInt
  #);

XDisplayWidthMM: External 
  (# display,screenNumber,theExitInt: @integer;
  enter (display,screenNumber)
  exit theExitInt
  #);

XBlackPixelOfScreen: External  (* 2.2.3 *)
  (# screen,theExitInt: @integer;
  enter screen
  exit theExitInt
  #);

XWhitePixelOfScreen: External
  (# screen,theExitInt: @integer;
  enter screen
  exit theExitInt
  #);

XCellsOfScreen: External
  (# screen,theExitInt: @integer;
  enter screen
  exit theExitInt
  #);

XDefaultColormapOfScreen: External
  (# screen,theExitInt: @integer;
  enter screen
  exit theExitInt
  #);

XDefaultDepthOfScreen: External
  (# screen,theExitInt: @integer;
  enter screen
  exit theExitInt
  #);

XDefaultGCOfScreen: External
  (# screen,theExitInt: @integer;
  enter screen
  exit theExitInt
  #);

XDefaultScreenOfDisplay: External
  (# display,theExitInt: @integer;
  enter display
  exit theExitInt
  #);

XDefaultVisualOfScreen: External
  (# screen,theExitInt: @integer;
  enter screen
  exit theExitInt
  #);

XDoesBackingStore: External
  (# screen,theExitInt: @integer;
  enter screen
  exit theExitInt
  #);

XDoesSaveUnders: External
  (# screen,theExitInt: @integer;
  enter screen
  exit theExitInt
  #);

XDisplayOfScreen: External
  (# screen,theExitInt: @integer;
  enter screen
  exit theExitInt
  #);

XEventMaskOfScreen: External
  (# screen,theExitInt: @integer;
  enter screen
  exit theExitInt
  #);

XHeightOfScreen: External
  (# screen,theExitInt: @integer;
  enter screen
  exit theExitInt
  #);

XHeightMMOfScreen: External
  (# screen,theExitInt: @integer;
  enter screen
  exit theExitInt
  #);

XMaxCmapsOfScreen: External
  (# screen,theExitInt: @integer;
  enter screen
  exit theExitInt
  #);

XMinCmapsOfScreen: External
  (# screen,theExitInt: @integer;
  enter screen
  exit theExitInt
  #);

XPlanesOfScreen: External
  (# screen,theExitInt: @integer;
  enter screen
  exit theExitInt
  #);

XRootWindowOfScreen: External
  (# screen,theExitInt: @integer;
  enter screen
  exit theExitInt
  #);

XScreenOfDisplay: External
  (# display,screenNumber,theExitInt: @integer;
  enter (display,screenNumber)
  exit theExitInt
  #);

XWidthOfScreen: External
  (# screen,theExitInt: @integer;
  enter screen
  exit theExitInt
  #);

XWidthMMOfScreen: External
  (# screen,theExitInt: @integer;
  enter screen
  exit theExitInt
  #);

XNoOp: External (* 2.3 *)
  (# display: @integer
  enter display
  #);

XFree: External (* 2.4 *)
  (# data: @integer
  enter data
  #);

XCloseDisplay: External (* 2.5 *)
  (# display: @integer
  enter display
  #);

(* CHAPTER 3 *)
CWBackPixMap: (# exit     1 #);
CWBackPixel: (# exit     2 #);
CWBorderPixmap: (# exit     4 #);
CWBorderPixel: (# exit     8 #);
CWBitGravity: (# exit    16 #);
CWWingravity: (# exit    32 #);
CWBackingStore: (# exit    64 #);
CWBackingPlanes: (# exit   128 #);
CWBackingPixel: (# exit   256 #);
CWOverrideRedirect: (# exit   512 #);
CWSaveUnder: (# exit  1024 #); 
CWEventMask: (# exit  2048 #);
CWDontPropagate: (# exit  4096 #);
CWColormap: (# exit  8192 #);
CWCursor: (# exit 16384 #); 

XCreateWindow: External (* 3.3 *)
  (# display,parent,x,y,width,height,borderWidth,
     depth,class,visual,valuemask,attributes: @integer;
     theWindow: @integer
  enter (display,parent,x,y,width,height,borderWidth,
     depth,class,visual,valuemask,attributes)
  exit theWindow
  #);

XCreateSimpleWindow: External
  (# display,parent,x,y,width,height,borderWidth,border,background: @integer;
     theWindow: @integer
  enter (display,parent,x,y,width,height,borderWidth,border,backGround)
  exit theWindow
  #);

XDestroyWindow: External (* 3.4 *)
  (# display,window: @integer
  enter (display,window)
  #);

XDestroySubwindows: External
  (# display,window: @integer
  enter (display,window)
  #);

XMapWindow: External (* 3.5 *)
  (# display,window: @integer
  enter (display,window)
  #);

XMapRaised: External
  (# display,window: @integer
  enter (display,window)
  #);

XMapSubwindows: External
  (# display,window: @integer
  enter (display,window)
  #);

XUnmapWindow: External (* 3.6 *)
  (# display,window: @integer
  enter (display,window)
  #);

XUnmapSubwindows: External
  (# display,window: @integer
  enter (display,window)
  #);

CWX: (# exit 1 #);   (* 3.7 *)
CWY: (# exit 2 #);
CWWidth: (# exit 4 #);
CWHeight: (# exit 8 #);
CWBorderWidth: (# exit 16 #);
CWSibling: (# exit 32 #);
CWStackMode: (# exit 64 #);

XConfigureWindow: External
  (# display,window,valueMask,values: @integer
  enter (display,window,valueMask,values)
  #);

XMoveWindow: External
  (# display,window,x,y: @integer
  enter (display,window,x,y)
  #);

XResizeWindow: External
  (# display,window,width,height: @integer
  enter (display,window,width,height)
  #);

XMoveResizeWindow: External
  (# display,window,x,y,width,height: @integer
  enter (display,window,x,y,width,height)
  #);

XSetWindowBorderWidth: External
  (# display,window,width: @integer
  enter (display,window,width)
  #);

XRaiseWindow: External (* 3.8 *)
  (# display,window: @integer
  enter (display,window)
  #);

XLowerWindow: External
  (# display,window: @integer
  enter (display,window)
  #);

XCirculateSubwindows: External (* 3.8 *)
  (# display,window,direction: @integer
  enter (display,window,direction)
  #);

XCirculateSubwindowsUp: External
  (# display,window: @integer
  enter (display,window)
  #);

XCirculateSubwindowsDown: External
  (# display,window: @integer
  enter (display,window)
  #);

XRestackWindows: External
  (# display,windows,nWindows: @integer
  enter (display,windows,nWindows)
  #);

XChangeWindowAttributes: External (* 3.9 *)
  (# display,window,valuemask,attributes: @integer
  enter (display,window,valueMask,attributes)
  #);

XSetWindowBackground: External
  (# display,window,backgroundPixel: @integer
  enter (display,window,backgroundPixel)
  #);

XSetWindowBackgroundPixmap: External
  (# display,window,att: @integer
  enter (display,window,att)
  #);

XSetWindowBorder: External
  (# display,window,att: @integer
  enter (display,window,att)
  #);

XSetWindowBorderPixmap: External
  (# display,window,att: @integer
  enter (display,window,att)
  #);

XTranslateCoordinates: External (* 3.10 *)
  (# display,srcW,destW,srcX,srcY,destXReturn,destYReturn,childReturn: @integer
  enter (display,srcW,destW,srcX,srcY,destXReturn,destYReturn,childReturn)
  #);

(* CHAPTER 4: Window Information Functions *)

XQueryTree: External (* 4.1 *)
  (# display,window,rootReturn,parentReturn,childrenReturn,nChildrenReturn: @integer;
     status: @integer
  enter (display,window,rootReturn,parentReturn,childrenReturn,nChildrenReturn)
  exit status 
  #);

XGetWindowAttributes: External
  (# display,window,windowAttributesReturn: @integer;
     status: @integer
  enter (display,window,windowAttributesReturn)
  exit status
  #);

XGetGeometry: External
  (# display,drawable,rootReturn,xReturn,yReturn,
     widthReturn,heightReturn,borderWidthReturn,depthReturn: @integer;
     status: @integer
  enter (display,drawable,rootReturn,xReturn,yReturn,
     widthReturn,heightReturn,borderWidthReturn,depthReturn)
  exit status
  #);

XQueryPointer: External
  (# display,window,rootReturn,childReturn,rootXReturn,rootYReturn,
     winXReturn,winYReturn,maskReturn: @integer;
     bool: @integer
  enter (display,window,rootReturn,childReturn,rootXReturn,rootYReturn,
     winXReturn,winYReturn,maskReturn)
  exit bool
  #);

XGetWindowProperty: External (* 4.3 *)
  (# display,window,property,longOffset,longLength,delete,reqType,
     actualtypeReturn,actualFormatReturn,nItemsreturn,bytesAfterReturn,propReturn: @integer;
     propType: @integer
  enter (display,window,property,longOffset,longLength,delete,reqType,
     actualtypeReturn,actualFormatReturn,nItemsreturn,bytesAfterReturn,propReturn)
  exit propType
  #);

XInternAtom: External
   (# display: @integer;
      atomname: [0]@char;
      onlyIfExists: @integer;
      atom: @integer;
   enter (display, atomname, onlyIfExists)
   exit atom
   #);

XListProperties: External 
  (# display,window,numPropReturn: @integer;
     atom: @integer
  enter (display,window,numPropReturn)
  exit atom
  #);

XChangeProperty: External 
  (# display,window,property,type,format,mode,date,nElements: @integer
  enter (display,window,property,type,format,mode,date,nElements)
  #);

XRotateWindowProperties: External 
  (# display,window,properties,numProp,npositions: @integer
  enter (display,window,properties,numProp,npositions)
  #);

XDeleteProperty: External 
  (# display,window,property: @integer
  enter (display,window,property)
  #);

XSetSelectionOwner: External (* 4.4 *)
  (# display,selection,owner,time: @integer
  enter (display,selection,owner,time)
  #);

XGetSelectionOwner: External 
  (# display,selection: @integer;
     window: @integer
  enter (display,selection)
  exit window
  #);

XConvertSelection: External
  (# display,selection,target,property,requestor,time: @integer
  enter (display,selection,target,property,requestor,time)
  #);

(* CHAPTER 5: Graphics Resource Functions *)

XColor: CStruct (* 5.1.1 *)
  (#
     pixel: Long(# pos::< (# do 0 -> value #) #);
     red: Short(# pos::< (# do 4 -> value #) #);
     green: Short(# pos::< (# do 6 -> value #) #);
     blue: Short(# pos::< (# do 8 -> value #) #);
     flags: Byte(# pos::< (# do 10 -> value #) #);
     pad: Byte(# pos::< (# do 11 -> value #) #);
     
     byteSize::< (# do 12 -> value #);
  #);

XCreateColormap: External (* 5.1.1 *)
  (# display,window,visual,alloc: @integer;
     createdColorMap: @integer
  enter (display,window,visual,alloc)
  exit createdColorMap
  #);

XCopyColormapAndFree: External
  (# display,cmap: @integer;
     createdColorMap: @integer
  enter (display,cMap)
  exit createdColorMap
  #);

XSetWindowColormap: External
   (# display, window, colormap, status: @integer;
   enter (display, window, colormap)
   exit status
   #);

XFreeColormap: External
  (# display,cmap: @integer
  enter (display,cMap)
  #);

XAllocColor: External
  (# display, cmap: @Integer;
     c: ^XColor;
     status: @Integer;
  enter (display, cmap, c[])
  exit status
  #);


XAllocNamedColor: External
  (# display, cmap: @Integer;
     name: [1] @Char;
     x, c: ^XColor;
     status: @Integer;
  enter (display, cmap, name, x[], c[])
  exit status
  #);

XLookupColor: External
  (# display,cMap: @integer;
     colorName: [1] @char;
     color, exact: ^XColor;
     status: @integer;
  enter (display,cMap,colorName,color[],exact[])
  exit status
  #);

XAllocColorCells: External
  (# display,cMap,contig,planemasksReturn,nPlanes,pixelsReturn,nColors: @integer;
     status: @integer;
  enter (display,cMap,contig,planemasksReturn,nPlanes,pixelsReturn,nColors)
  exit status
  #);

XAllocColorPlanes: External
  (# display,cMap,contig,pixelsReturn,nColors,
     nreds,ngreens,nblues,rmaskreturn,gMaskreturn,bMaskreturn: @integer;
     status: @integer;
  enter (display,cMap,contig,pixelsReturn,nColors,
     nreds,ngreens,nblues,rmaskreturn,gMaskreturn,bMaskreturn)
  exit status
  #);

XStoreColors: External
  (# display,cmap,colors,ncolors: @integer;
  enter (display,cMap,colors,nColors)
  #);

XStoreColor: External
  (# display,cmap: @integer;
     color: ^XColor;
  enter (display,cMap,color[])
  #);

XStoreNamedColor: External
  (# display,cmap,pixel,flags: @integer;
     color: [1]@char
  enter (display,cMap,color,pixel,flags)
  #);

XFreeColors: External
  (# display,cMap,pixels,nPixels,planes: @integer;
  enter (display,cMap,pixels,nPixels,planes)
  #);

XQueryColor: External  (* 5.1.3 *)
  (# display,cMap: @integer;
     color: ^XColor;
  enter (display,cMap,color[])
  #);

XQueryColors: External
  (# display,cMap,defsReturn,nColors: @integer
  enter (display,cMap,defsreturn,nColors)
  #);

XCreatePixmap: External (* 5.2 *)
  (# display,drawable,width,height,depth: @integer;
     thePixmap: @integer
  enter (display,drawable,width,height,depth)
  exit thePixMap
  #);

XFreePixmap: External
  (# display,pixmap: @integer
  enter (display,pixmap)
  #);

XCreateGC: External (* 5.3 *)
  (# display: @integer;
     d: @integer;
     valueMaskCreate: @integer;
     values: @integer;
     newGC: @integer
  enter (display,d,valueMaskCreate,values) 
  exit newGC
  #);

XCopyGC: External
  (# display: @integer;
     src: @integer;
     valueMaskCreate: @integer;
     dest: @integer
  enter (display,src,valueMaskCreate,dest)
  #);

XChangeGC: External
  (# display: @integer;
     gc: @integer;
     valueMaskChange: @integer;
     XGCValues: @integer;
  enter (display,gc,valueMaskChange,XGCValues)
  #);

XFreeGC: External
  (# display: @integer;
     gc: @integer;
  enter (display,gc)
  #);

XSetState: External (* 5.4.1 *)
  (# display,gc,foreGround,backGround,function,planeMask: @integer
  enter (display,gc,foreGround,backGround,function,planeMask)       
  #);

XSetFunction: External
  (# display,gc,function: @integer
  enter (display,gc,function)
  #);

XSetPlaneMask: External
  (# display,gc,planeMask: @integer
  enter (display,gc,planeMask)
  #);

XSetForeground: External
  (# display,gc,foreground: @integer
  enter (display,gc,foreground)
  #);

XSetBackground: External
  (# display,gc,background: @integer
  enter (display,gc,background)
  #);

XSetLineAttributes: External (* 5.4.2 *)
  (# display,gc,lineWidth,lineStyle,capStyle,joinStyle: @integer
  enter (display,gc,lineWidth,lineStyle,capStyle,joinStyle)
  #);

XSetDashes: External
  (# display,gc,dashOffset,dashList,n: @integer
  enter (display,gc,dashOffset,dashList,n)
  #);

XSetFillStyle: External (* 5.4.3 *)
  (# display,gc,fillStyle: @integer
  enter (display,gc,fillStyle)
  #);

XSetFillRule: External
  (# display,gc,fillRule: @integer
  enter (display,gc,fillRule)
  #);

XQueryBestSize: External (* 5.4.4 *)
  (# display,class,whichScreen,width,height,widthReturn,heightReturn: @integer;
     status: @integer
  enter (display,class,whichScreen,width,height,widthReturn,heightReturn)
  exit status
  #);

XQueryBestTile: External (* 5.4.4 *)
  (# display,class,whichScreen,width,height,widthReturn,heightReturn: @integer;
     status: @integer
  enter (display,class,whichScreen,width,height,widthReturn,heightReturn)
  exit status
  #);

XQueryBestStipple: External (* 5.4.4 *)
  (# display,class,whichScreen,width,height,widthReturn,heightReturn: @integer;
     status: @integer
  enter (display,class,whichScreen,width,height,widthReturn,heightReturn)
  exit status
  #);

XSetTile: External
  (# display,gc,tile: @integer
  enter (display,gc,tile)
  #);

XSetStipple: External
  (# display,gc,stipple: @integer
  enter (display,gc,stipple)
  #);

XSetTSOrigin: External
  (# display,gc,tsXorigin,tsYorigin: @integer
  enter (display,gc,tsXorigin,tsYorigin)
  #);

XSetFont: External (* 5.4.5 *)
  (# display,gc,font: @integer;
  enter (display,gc,font)
  #); 

XSetClipOrigin: External (* 5.4.6 *)
  (# display,gc,clipXOrigin,clipYOrigin: @integer
  enter (display,gc,clipXOrigin,clipYOrigin)
  #);

XSetClipMask: External
  (# display,gc,pixmap: @integer
  enter (display,gc,pixmap)
  #);

XSetClipRectangles: External 
  (# display,gc,clipXOrigin,clipYOrigin,rectangles,n,ordering: @integer
  enter (display,gc,clipXOrigin,clipYOrigin,rectangles,n,ordering)
  #);

XSetArcMode: External (* 5.4.7 *)
  (# display,gc,arcMode: @integer
  enter (display,gc,arcMode)
  #);

(* subwindow mode *)
ClipByChildren:   (# exit 0 #);
IncludeInferiors: (# exit 1 #);

XSetSubwindowMode: External 
  (# display,gc,subWindowMode: @integer
  enter (display,gc,subWindowMode)
  #);

XSetGraphicsExposures: External 
  (# display,gc,graphicsExposures: @integer
  enter (display,gc,graphicsExposures)
  #);

(* CHAPTER 6 *)
XClearArea: External (* 6.1 *)
  (# display,w,x,y,width,height,exposures: @integer
  enter (display,w,x,y,width,height,exposures)
  #);

XClearWindow: External
  (# display,w: @integer
  enter (display,w)
  #);

XCopyArea: External (* 6.2 *)
  (# display,src,dest,gc,srcX,srcY,width,height,dstX,dstY: @integer;
  enter (display,src,dest,gc,srcX,srcY,width,height,dstX,dstY)
  #);

XCopyPlane: External
  (# display,src,dest,gc,srcX,srcY,width,height,dstX,dstY,plane: @integer;
  enter (display,src,dest,gc,srcX,srcY,width,height,dstX,dstY,plane)
  #);

XDrawPoint: External (* 6.3.1 *)
  (# display,d,gc,x,y: @integer
  enter (display,d,gc,x,y)
  #);

XDrawPoints: External
  (# display,d,gc,points,npoints,mode: @integer
  enter (display,d,gc,points,npoints,mode)
  #);

XDrawLine: External (* 6.3.2 *)
  (# display,d,gc,x1,y1,x2,y2: @integer
  enter (display,d,gc,x1,y1,x2,y2)
  #);

XDrawLines: External (* 6.3.2 GRAF *)
  (# display,d,gc,points,npoints,mode: @integer
  enter (display,d,gc,points,npoints,mode)
  #); 

XDrawSegments: External
  (# display,d,gc,segments,nsegments: @integer
  enter (display,d,gc,segments,nsegments)
  #);

XDrawRectangle: External (* 6.3.3 *)
  (# display,d,gc,x,y,width,height: @integer
  enter (display,d,gc,x,y,width,height)
  #);

XDrawRectangles: External 
  (# display,d,gc,rectangles,nrectangles: @integer
  enter (display,d,gc,rectangles,nrectangles)
  #);

XDrawArc: External (* 6.3.4 *)
  (# display,d,gc,x,y,width,height,angle1,angle2: @integer
  enter (display,d,gc,x,y,width,height,angle1,angle2)
  #);

XDrawArcs: External 
  (# display,d,gc,arcs,narcs: @integer
  enter (display,d,gc,arcs,narcs)
  #);

XFillRectangle: External (* 6.4.1 *)
  (# display,d,gc,x,y,width,height: @integer
  enter (display,d,gc,x,y,width,height)
  #);

XFillRectangles: External
  (# display,d,gc,rectangles,nrectangles: @integer
  enter (display,d,gc,rectangles,nrectangles)
  #);

XFillPolygon: External (* 6.4.2 *)
  (# display,d,gc,points,npoints,shape,mode: @integer
  enter (display,d,gc,points,npoints,shape,mode)
  #);

XFillArc: External (* 6.4.3 *)
  (# display,d,gc,x,y,width,height,angle1,angle2: @integer
  enter (display,d,gc,x,y,width,height,angle1,angle2)
  #);

XFillArcs: External 
  (# display,d,gc,arcs,narcs: @integer
  enter (display,d,gc,arcs,narcs)
  #);

XLoadFont: External (* 6.5.1 *)
  (# display: @integer;
     name: [1]@char;
     font: @integer;
  enter (display,name)
  exit font
  #);

XGContextFromGC: External
  (# gc: @integer;
     gContext: @integer;
  enter gc
  exit gContext
  #);

XQueryFont: External
  (# display,fontId: @integer;
     fontStruct: @integer
  enter (display,fontId)
  exit fontStruct
  #);

XListFontsWithInfo: External
  (# display,maxNames,countReturn,infoReturn: @integer;
     pattern: [1]@char;
     charList: @integer;
  enter (display,pattern,maxNames,countReturn,infoReturn)
  exit charList
  #);

XFreeFontInfo: External
  (# names,freeInfo,actualCount: @integer
  enter (names,freeinfo,actualCount)
  #);

XLoadQueryFont: External
  (# display: @integer;
     name: [1]@char;
     xFontStruct: @integer
  enter (display,name)
  exit xFontStruct
  #);

XFreeFont: External
  (# display,fontStruct: @integer
  enter (display,fontStruct)
  #);

XGetFontProperty: External
  (# fontStruct,atom,valueReturn: @integer;
     propertyExist: @integer
  enter (fontStruct,atom,valuereturn)
  exit propertyExist
  #);

XListFonts: External (* 6.5.2 *)
  (# display,maxNames,actualCountReturn: @integer;
     pattern: [1]@char;
     charList: @integer;
  enter (display,pattern,maxNames,actualCountReturn)
  exit charList
  #);

XFreeFontNames: External
  (# list: @integer
  enter list
  #);

XSetFontPath: External (* 6.5.3 *)
  (# display,directories,ndirs: @integer;
  enter (display,directories,nDirs)
  #);

XGetFontPath: External
  (# display,nPathReturns,theFontPaths: @integer
  enter (display,nPathReturns)
  exit theFontPaths
  #);

XFreeFontPath: External
  (# list: @integer
  enter list
  #);

XTextWidth: External (* 6.5.4 *)
  (# fontStruct,count,returnWidth: @integer;
     string: [1]@char
  enter (fontStruct,string,count)
  exit returnWidth
  #);

XTextWidth16: External
  (# fontStruct,string,count,returnWidth: @integer
  enter (fontStruct,string,count)
  exit returnWidth
  #);

XTextExtents: External (* 6.5.5 *)
  (# fontStruct,nChars,directionReturn,fontAscentReturn,fontDescentReturn,overallReturn: @integer;
     string: [1]@char
  enter (fontStruct,string,nChars,directionReturn,fontAscentReturn,fontDescentReturn,overallReturn)
  #);

XTextExtents16: External
  (# fontStruct,nChars,directionReturn,fontAscentReturn,fontDescentReturn,overallReturn: @integer;
     string: [1]@char
  enter (fontStruct,string,nChars,directionReturn,fontAscentReturn,fontDescentReturn,overallReturn)
  #);

XQueryTextExtents: External (* 6.5.6 *)
  (# display,fontId,nChars,directionReturn,fontAscentReturn,fontDescentReturn,overallReturn: @integer;
     string: [1]@char
  enter (display,fontId,string,nChars,directionReturn,fontAscentReturn,fontDescentReturn,overallReturn)
  #);

XQueryTextExtents16: External
  (# display,fontId,nChars,directionReturn,fontAscentReturn,fontDescentReturn,overallReturn: @integer;
     string: [1]@char
  enter (display,fontId,string,nChars,directionReturn,fontAscentReturn,fontDescentReturn,overallReturn)
  #);

XDrawText: External (* 6.6.1 *)
  (# display,d,gc,x,y,items,nitems: @integer
  enter (display,d,gc,x,y,items,nItems)
  #);

XDrawText16: External
  (# display,d,gc,x,y,items,nitems: @integer
  enter (display,d,gc,x,y,items,nItems)
  #);

XDrawString: External (* 6.6.2 *)
  (# display,drawable,gc,x,y,length: @integer;
     string: [1] @char;
  enter (display,drawable,gc,x,y,string,length)
  #);

XDrawString16: External (* 6.6.2 *)
  (# display,drawable,gc,x,y,length: @integer;
     string: [1] @char;
  enter (display,drawable,gc,x,y,string,length)
  #);

XDrawImageString: External (* 6.6.2 *)
  (# display,drawable,gc,x,y,length: @integer;
     string: [1] @char;
  enter (display,drawable,gc,x,y,string,length)
  #);

XDrawImageString16: External (* 6.6.2 *)
  (# display,drawable,gc,x,y,length: @integer;
     string: [1] @char;
  enter (display,drawable,gc,x,y,string,length)
  #);

XPutImage: External (* 6.7 *)
  (# display,drawable,gc,image,srcX,srcY,dstX,dstY,width,height: @integer
  enter (display,drawable,gc,image,srcX,srcY,dstX,dstY,width,height)
  #);

XGetImage: External
  (# display,drawable,x,y,width,height,planeMask,format,theImage: @integer
  enter (display,drawable,x,y,width,height,planeMask,format)
  exit theImage
  #);

XGetSubImage: External
  (# display,drawable,x,y,width,height,planeMask,format,destImage,destX,destY,theImage: @integer
  enter (display,drawable,x,y,width,height,planeMask,format,destImage,destX,destY)
  exit theImage
  #);

XCreateFontCursor: External (* 6.8.1 *)
  (# display,shape,theCursor: @integer
  enter (display,shape)
  exit theCursor
  #);

XCreatePixmapCursor: External (* should be in 6.8.1, but is not *)
  (# display,source,mask,foreGroundColor,backGroundColor,x,y: @integer;
     theCursor: @integer;
  enter (display,source,mask,foreGroundColor,backGroundColor,x,y)
  exit theCursor
  #);

XCreateGlyphCursor: External
  (# display,sourceFont,maskFont,sourceChar,maskChar,foreGroundColor,backGroundColor,theCursor: @integer
  enter (display,sourceFont,maskFont,sourceChar,maskChar,foreGroundColor,backGroundColor)
  exit theCursor
  #);

XRecolorCursor: External (* 6.8.2 *)
  (# display,cursor,foreGroundColor,backGroundColor: @integer
  enter (display,cursor,foreGroundColor,backGroundColor)
  #);

XFreeCursor: External 
  (# display,cursor: @integer
  enter (display,cursor)
  #);

XQueryBestCursor: External 
  (# display,drawable,width,height,widthReturn,heightReturn: @integer;
     theStatus: @integer
  enter (display,drawable,width,height,widthReturn,heightReturn)
  exit theStatus
  #);

XDefineCursor: External (* 6.8.3 *)
  (# display,window,cursor: @integer
  enter (display,window,cursor)
  #);

XUndefineCursor: External
  (# display,window: @integer
  enter (display,window)
  #);

(* CHAPTER 7: Window Manager Functions *)

XGrabPointer: External (* 7.4 *)
  (# display,grabWindow,ownerEvents,eventMask,pointerMode,keyBoardMode,
     confineTo,cursor,time: @integer;
     exitInt: @integer
  enter (display,grabWindow,ownerEvents,eventMask,pointerMode,keyBoardMode,confineTo,cursor,time)
  exit exitInt
  #);

XGrabButton: External
  (# display,buttonGrab,modifiers,grabWindow,ownerEvents,eventMask,
     pointerMode,keyBoardMode,confineTomcursor,time: @integer;
     exitInt: @integer
  enter (display,grabWindow,ownerEvents,eventMask,pointerMode,keyBoardMode,confineTomcursor,time)
  exit exitInt
  #);

XUngrabButton: External
  (# display,buttonUngrab,modifiers,unGrabWindow: @integer
  enter (display,buttonUnGrab,modifiers,unGrabWindow)
  #);

XUngrabPointer: External
  (# display,time: @integer
  enter (display,time)
  #);

XChangeActivePointerGrab: External
  (# display,eventMask,cursor,time: @integer
  enter (display,eventmask,cursor,time)
  #);

XGrabKeyboard: External (* 7.4 *)
  (# display,grabWindow,ownerEvents,pointerMode,keyBoardMode,time: @integer;
     exitInt: @integer
  enter (display,grabWindow,ownerEvents,pointerMode,keyBoardMode,time)
  exit exitInt
  #);

XUngrabKeyboard: External
  (# display,time: @integer
  enter (display,time)
  #);

XRefreshKeyboardMapping: EXTERNAL
  (# eventmap: @integer
  enter eventmap
  #);

CurrentTime: (# exit 0 #);
ASyncPointer: (# exit 0 #);
grabModeSync: (# exit 0 #);
grabModeAsync: (# exit 1 #);

XAllowEvents: External
  (# display,eventMode,time: @integer
  enter (display,eventMode,time)
  #);

XGrabServer: External (* 7.6 *)
  (# display: @integer
  enter display
  #);

XUngrabServer: External 
  (# display: @integer
  enter display
  #);

XWarpPointer: External (* 7.7.1 *)
  (# display,srcW,destW,srcX,srcY,srcWidth,srcheight,destX,destY: @integer
  enter (display,srcW,destW,srcX,srcY,srcWidth,srcheight,destX,destY)
  #);

XSetInputFocus: External 
  (# display,focus,revertTo,time: @integer
  enter (display,focus,revertTo,time)
  #);

XBell: External (* 7.8 *)
  (# display, percent: @integer;
  enter (display, percent)
  #);

(* CHAPTER 8: Events and Event-Handling Functions *)

XSelectInput: External (* 8.5 *)
  (# display,window,eventMask: @integer
  enter (display,window,eventMask)
  #);

XFlush: External(* 8.6 *)
  (# display: @integer enter display #); 

XSync: External
  (# display,discard: @integer enter (display,discard) #); 

XEventsQueued: External (* 8.7 *)
  (# display,more,noOfEvents: @integer
  enter (display,more)
  exit noOfEvents
  #);

XPending: External
  (# display,noOfEvents: @integer
  enter display
  exit noOfEvents
  #);

XNextEvent: External (* 8.8 *)
  (# display,eventReturn: @integer
  enter (display,eventReturn)
  #);

XPeekEvent: External
  (# display,eventReturn: @integer
  enter (display,eventReturn)
  #);

XWindowEvent: External (* 8.8.3 *)
  (# display,window,eventMask,eventReturn: @integer
  enter (display,window,eventMask,eventReturn)
  #);

XCheckWindowEvent: External
  (# display,window,eventMask,eventReturn,theBool: @integer
  enter (display,window,eventMask,eventReturn)
  exit theBool
  #);

XMaskEvent: External 
  (# display,eventMask,eventReturn: @integer
  enter (display,eventMask,eventReturn)
  #);

XCheckMaskEvent: External
  (# display,eventMask,eventReturn,theBool: @integer
  enter (display,eventMask,eventReturn)
  exit theBool
  #);

XCheckTypedEvent: External
  (# display,eventType,eventReturn,theBool: @integer
  enter (display,eventType,eventReturn)
  exit theBool
  #);

XCheckTypedWindowEvent: External
  (# display,window,eventType,eventReturn,theBool: @integer
  enter (display,window,eventType,eventReturn)
  exit theBool
  #);

XPutBackEvent: External (* 8.9 *)
  (# display,event: @integer
  enter (display,event)
  #);

XSendEvent: External (* 8.10 *)
  (# display,window,propagate,eventMask,eventSend,theStatus: @integer
  enter (display,window,propagate,eventMask,eventSend)
  exit theStatus
  #);

XSynchronize: External
  (# display,onOff,previousAfterFunction: @integer
  enter (display,onOff)
  exit previousAfterFunction
  #);

(* CHAPTER 9: Predefined Property Functions *)
XSetStandardProperties: External
  (# display,window,iconPixmap,argv,argc,hints: @integer;
     windowName,iconName: [1]@char
  enter (display,window,windowName,iconname,iconPixmap,argv,argc,hints)
  #);

XSetTransientForHint: External
  (# display,window,propWindow: @integer
  enter (display,window,propWindow)
  #);

XSetWMHints: External
  (# display, window: @Integer;
     wmhint: ^XWMHints;
  enter (display,window,wmhint[])
  #);

XIconifyWindow: External
  (# display, window, screennumber, status: @integer;
  enter (display, window, screennumber)
  exit status
  #);

(* Color maps *)
XInstallColormap: External
   (# display, colormap: @integer;
   enter (display, colormap)
   #);

XSetStandardColormap: External
   (# display, window, colormap: @integer;
   enter (display, window, colormap)
   #);

XSetWMColormapWindows: External
   (# display, window, colormapWindows, count, status: @integer;
      enter (display, window, colormapWindows, count)
      exit status
   #);

PropModeReplace: (# exit 0 #);
PropModePrepend: (# exit 1 #);
PropModeAppend:  (# exit 2 #);


(* CHAPTER 10: Application Utility Functions *)
XLookupKeysym: External
  (# eventKey,index,theKeySym: @integer
  enter (eventKey,index)
  exit theKeySym
  #);

XLookupString: External
  (# eventStruct,bufferReturn,bytesBuffer,keysymReturn,statusReturn: @integer;
     theExitInt: @integer
  enter (eventStruct,bufferReturn,bytesBuffer,keySymReturn,statusReturn)
  exit theExitInt
  #);

XKeysymToString: External(# string: [1] @char enter string #);

XReadBitmapFile: External (* 10.10 *)
  (# display,drawable,widthReturn,heightreturn,bitmapReturn,xHotReturn,
     yHotReturn: @integer;
     fileName: [1]@char;
     theExitInt: @integer
  enter (display,drawable,fileName,widthReturn,heightReturn,bitmapReturn,
     xHotreturn,yHotReturn)
  exit theExitInt
  #);

XParseColor: External (* 10.4 *)
  (# display, cmap: @Integer;
     spec: [1] @Char;
     exactDefReturn: ^XColor;
     status: @Integer;
  enter (display, cmap, spec, exactDefReturn[])
  exit status
  #);

XPolygonRegion: External (* 10.5, 10.6 *)
  (# points,n,fillRule,theRegion: @Integer;
  enter (points, n, fillRule)
  exit theRegion
  #);

XClipBox: external
  (# r: @integer;
     rect: ^XRectangle;
  enter (r,rect[])
  #);


XCreateRegion: External
  (# r: @Integer;
  exit r
  #);

XSetRegion: External
  (# display,gc,r: @Integer;
  enter (display,gc,r)
  #);

XDestroyRegion: External
  (# r: @Integer;
  enter r
  #);   

XIntersectRegion: External
  (# ra,rb,re: @Integer;
  enter (ra,rb,re)
  #);

XUnionRegion: External
  (# ra,rb,re: @Integer;
  enter (ra,rb,re)
  #);

XEmptyRegion: External
  (# r,bool: @Integer;
  enter r
  exit bool
  #);

XPointInRegion: External
  (# r,x,y,bool: @Integer;
  enter (r,x,y)
  exit bool
  #);

XRectInRegion: external
  (# r, b: @integer;
     x,y,width,height: @integer;
  enter (r,x,y,width,height)
  exit b
  #);

XEqualRegion: external
  (# r1,r2,b: @integer;
  enter (r1,r2)
  exit b
  #);

XXorRegion: external
  (# src1,src2,dst: @integer;
  enter (src1,src2,dst)
  #);

XSubtractRegion: external
  (# src1,src2,dst: @integer;
  enter (src1,src2,dst)
  #);

XShrinkRegion: external
  (# r: @integer;
     dx,dy: @integer;
  enter (r,dx,dy)
  #);

XOffsetRegion: external
  (# r: @integer;
     dx,dy: @integer;
  enter (r,dx,dy)
  #);

XUnionRectWithRegion: external
  (# rect: ^XRectangle;
     src,dst: @integer;
  enter (rect[],src,dst)
  #);


XWriteBitmapFile: External (* 10.10 *)
  (# display,bitmap,width,height,xHot,yHot: @integer;
     fileName: [1] @char;
     status: @integer
  enter (display,fileName,bitmap,width,height,xHot,yHot)
  exit status
  #);


XRightButton: (# exit 0 #);
XMiddleButton: (# exit 1 #);
XLeftButton: (# exit 2 #);

FontInfo: 
  (# (*READ ONLY *)
     adress: @integer;
     
     data: (# exit (%getLongAt(adress))  #);
     (* Above line tos_converted from: data: (# exit adress -> TOS'%AdrGetLong'  #); *)
     id: (# exit (%getLongAt(adress+4)) #);
     (* Above line tos_converted from: id: (# exit adress+4 -> TOS'%AdrGetLong' #); *)
     direction: (# exit (%getLongAt(adress+8)) #);
     (* Above line tos_converted from: direction: (# exit adress+8 -> TOS'%AdrGetLong' #); *)
     minCharOrByte2: (# exit (%getLongAt(adress+12)) #);
     (* Above line tos_converted from: minCharOrByte2: (# exit adress+12 -> TOS'%AdrGetLong' #); *)
     maxCharOrByte2: (# exit (%getLongAt(adress+16)) #);
     (* Above line tos_converted from: maxCharOrByte2: (# exit adress+16 -> TOS'%AdrGetLong' #); *)
     minByte1: (# exit (%getLongAt(adress+20)) #);
     (* Above line tos_converted from: minByte1: (# exit adress+20 -> TOS'%AdrGetLong' #); *)
     maxByte1: (# exit (%getLongAt(adress+24)) #);
     (* Above line tos_converted from: maxByte1: (# exit adress+24 -> TOS'%AdrGetLong' #); *)
     allCharsExist: (# exit (%getLongAt(adress+28)) #);
     (* Above line tos_converted from: allCharsExist: (# exit adress+28 -> TOS'%AdrGetLong' #); *)
     defaultChar: (# exit (%getLongAt(adress+32)) #);
     (* Above line tos_converted from: defaultChar: (# exit adress+32 -> TOS'%AdrGetLong' #); *)
     nProperties: (# exit (%getLongAt(adress+36)) #);
     (* Above line tos_converted from: nProperties: (# exit adress+36 -> TOS'%AdrGetLong' #); *)
     properties: (# exit (%getLongAt(adress+40)) #);
     (* Above line tos_converted from: properties: (# exit adress+40 -> TOS'%AdrGetLong' #); *)
     minBounds: @
       (#
          lbearing: (# exit (%getSignedShortAt(adress+44)) #);
          (* Above line tos_converted from: lbearing: (# exit adress+44 -> TOS'%AdrGetSignedShort' #); *)
          rbearing: (# exit (%getSignedShortAt(adress+46)) #);
          (* Above line tos_converted from: rbearing: (# exit adress+46 -> TOS'%AdrGetSignedShort' #); *)
          width: (# exit (%getSignedShortAt(adress+48)) #);
          (* Above line tos_converted from: width: (# exit adress+48 -> TOS'%AdrGetSignedShort' #); *)
          ascent: (# exit (%getSignedShortAt(adress+50)) #);
          (* Above line tos_converted from: ascent: (# exit adress+50 -> TOS'%AdrGetSignedShort' #); *)
          descent: (# exit (%getSignedShortAt(adress+52)) #);
          (* Above line tos_converted from: descent: (# exit adress+52 -> TOS'%AdrGetSignedShort' #); *)
          attributes: (# exit (%getSignedShortAt(adress+54)) #);
          (* Above line tos_converted from: attributes: (# exit adress+54 -> TOS'%AdrGetSignedShort' #); *)
       #);
     
     maxBounds: @
       (#
          lbearing: (# exit (%getSignedShortAt(adress+56)) #);
          (* Above line tos_converted from: lbearing: (# exit adress+56 -> TOS'%AdrGetSignedShort' #); *)
          rbearing: (# exit (%getSignedShortAt(adress+58)) #);
          (* Above line tos_converted from: rbearing: (# exit adress+58 -> TOS'%AdrGetSignedShort' #); *)
          width: (# exit (%getSignedShortAt(adress+60)) #);
          (* Above line tos_converted from: width: (# exit adress+60 -> TOS'%AdrGetSignedShort' #); *)
          ascent: (# exit (%getSignedShortAt(adress+62)) #);
          (* Above line tos_converted from: ascent: (# exit adress+62 -> TOS'%AdrGetSignedShort' #); *)
          descent: (# exit (%getSignedShortAt(adress+64)) #);
          (* Above line tos_converted from: descent: (# exit adress+64 -> TOS'%AdrGetSignedShort' #); *)
          attributes: (# exit (%getSignedShortAt(adress+66)) #);
          (* Above line tos_converted from: attributes: (# exit adress+66 -> TOS'%AdrGetSignedShort' #); *)
       #);
     
     perChar: (# exit (%getLongAt(adress+68)) #);
     (* Above line tos_converted from: perChar: (# exit adress+68 -> TOS'%AdrGetLong' #); *)
     
     perCharWidth: 
       (# ch: @char; width: @integer
       enter ch
       do ((%getSignedShortAt(perChar+(ch-minCharOrByte2)*12+4))) -> width
       (* Above line tos_converted from: do (perChar+(ch-minCharOrByte2)*12+4) -> TOS'%AdrGetSignedShort' -> width *)
       exit width
       #);
     
     ascent: (# exit (%getLongAt(adress+72)) #);
     (* Above line tos_converted from: ascent: (# exit adress+72 -> TOS'%AdrGetLong' #); *)
     descent: (# exit  (%getLongAt(adress+76)) #);
     (* Above line tos_converted from: descent: (# exit  adress+76 -> TOS'%AdrGetLong' #); *)
     
     ascentChar:
       (* returns the "ascent" length for the char "ch" in THIS(font) *)
       (# ch: @char; ascent: @integer
       enter ch
       do ((%getSignedShortAt(perChar+(ch-minCharOrByte2)*12+6))) -> ascent
       (* Above line tos_converted from: do (perChar+(ch-minCharOrByte2)*12+6) -> TOS'%AdrGetSignedShort' -> ascent *)
       exit ascent
       #);
     
     descentChar:
       (* returns the "descent" length for the char "ch" in THIS(font) *)
       (# ch: @char; descent: @integer
       enter ch
       do ((%getSignedShortAt(perChar+(ch-minCharOrByte2)*12+8))) -> descent
       (* Above line tos_converted from: do (perChar+(ch-minCharOrByte2)*12+8) -> TOS'%AdrGetSignedShort' -> descent *)
       exit descent
  #);

     
  enter adress
  exit adress
  #);

XPoint: CStruct (* 6.3 *)
  (# byteSize::< (# do 4 -> value #);
     x: Short(# pos::< (# do 0 -> value #) #);
     y: Short(# pos::< (# do 2 -> value #) #);
  #);

(* Rectangles *)

XRectangle: cstruct
  (# 
     bytesize::< (# do 8 -> value; #);
     x: @signedShort (# pos::< (# do 0 -> value #)#);
     y: @signedShort (# pos::< (# do 2 -> value #)#);
     width: @short (# pos::< (# do 4 -> value #)#);
     height: @short (# pos::< (# do 6 -> value #)#);
  #);

XSetWindowAttributes: 
  (#
     backgroundPixmap: @integer;
     backgroundPixel: @integer;
     borderPixmap: @integer;
     borderPixel: @integer;
     bitGravity: @integer;
     winGravity: @integer;
     backingStore: @integer;
     backingPlanes: @integer;
     backingPixel: @integer;
     saveUnder: @integer;
     eventMask: @integer;
     doNotPropagatemask: @integer;
     overRideRedirect: @integer;
     colorMap: @integer;
     cursor: @integer;
     
     address: @(# exit @@backGroundPixMap #);
  #);


(* KeySyms for arrow keys *)

XkLeft: (# exit 65361 #);
XkUp: (# exit 65362 #);
XkRight: (# exit 65363 #);
XkDown: (# exit 65364 #);

(* keySyms for special keys *)

XKHome:(# exit 0xFF50 #);
XKPrior:(# exit 0xFF55 #);
XKPageUp:(# exit 0xFF55 #);
XKPageDown:(# exit 0xFF56 #);
XKEnd:(# exit 0xFF57 #);
XKInsert:(# exit 0xFF63 #);
XKBegin:(# exit 0xFF58 #);

XKHelp:(# exit 0xFF6A #);
XKF1:(# exit 0xFFBE #);
XKF2:(# exit 0xFFBF #);
XKF3:(# exit 0xFFC0 #);
XKF4:(# exit 0xFFC1 #);
XKF5:(# exit 0xFFC2 #);
XKF6:(# exit 0xFFC3 #);
XKF7:(# exit 0xFFC4 #);
XKF8:(# exit 0xFFC5 #);
XKF9:(# exit 0xFFC6 #);
XKF10:(# exit 0xFFC7 #);
XKF11:(# exit 0xFFC8 #);
XKF12:(# exit 0xFFC9 #);



(* keySyms for mouse *)
button1: (# exit 1 #);
button2: (# exit 2 #);
button3: (# exit 3 #);
button4: (# exit 4 #);
button5: (# exit 5 #);


Button1Mask: (# exit 256 #);
Button2Mask: (# exit 512 #);
Button3Mask: (# exit 1024 #);

XrmValue: cstruct
  (# bytesize::< (# do 8 -> value #);
     size: long(# pos::< (# do 0 -> value #)#);
     addr: long(# pos::< (# do 4 -> value #)#);
  #);

XWMHints: CStruct (* 9.1.5 *)
  (# byteSize::< (# do 30 -> value #);
     flags: Long (# pos::< (# do 0  -> value #)#);
     input: Short(# pos::< (# do 4  -> value #)#);
     InitialState: Short(# pos::< (# do 6  -> value #)#);
     IconPixmap: Long (# pos::< (# do 8  -> value #)#);
     IconWindow: Long (# pos::< (# do 12 -> value #)#);
     IconX: Short(# pos::< (# do 16 -> value #)#);
     IconY: Short(# pos::< (# do 18 -> value #)#);
     IconMask: Long (# pos::< (# do 20 -> value #)#);
     WindowGroup: Long (# pos::< (# do 24 -> value #)#);
     messages: Short(# pos::< (# do 28 -> value #)#);
  #);

InputHint: (# exit 0 #);


(***** from cursorfont.h ******)

XC_num_glyphs: (# exit  154 #);
XC_X_cursor: (# exit  0 #);
XC_arrow: (# exit  2 #);
XC_based_arrow_down: (# exit  4 #);
XC_based_arrow_up: (# exit  6 #);
XC_boat: (# exit  8 #);
XC_bogosity: (# exit  10 #);
XC_bottom_left_corner: (# exit  12 #);
XC_bottom_right_corner: (# exit  14 #);
XC_bottom_side: (# exit  16 #);
XC_bottom_tee: (# exit  18 #);
XC_box_spiral: (# exit  20 #);
XC_center_ptr: (# exit  22 #);
XC_circle: (# exit  24 #);
XC_clock: (# exit  26 #);
XC_coffee_mug: (# exit  28 #);
XC_cross: (# exit  30 #);
XC_cross_reverse: (# exit  32 #);
XC_crosshair: (# exit  34 #);
XC_diamond_cross: (# exit  36 #);
XC_dot: (# exit  38 #);
XC_dotbox: (# exit  40 #);
XC_double_arrow: (# exit  42 #);
XC_draft_large: (# exit  44 #);
XC_draft_small: (# exit  46 #);
XC_draped_box: (# exit  48 #);
XC_exchange: (# exit  50 #);
XC_fleur: (# exit  52 #);
XC_gobbler: (# exit  54 #);
XC_gumby: (# exit  56 #);
XC_hand1: (# exit  58 #);
XC_hand2: (# exit  60 #);
XC_heart: (# exit  62 #);
XC_icon: (# exit  64 #);
XC_iron_cross: (# exit  66 #);
XC_left_ptr: (# exit  68 #);
XC_left_side: (# exit  70 #);
XC_left_tee: (# exit  72 #);
XC_leftbutton: (# exit  74 #);
XC_ll_angle: (# exit  76 #);
XC_lr_angle: (# exit  78 #);
XC_man: (# exit  80 #);
XC_middlebutton: (# exit  82 #);
XC_mouse: (# exit  84 #);
XC_pencil: (# exit  86 #);
XC_pirate: (# exit  88 #);
XC_plus: (# exit  90 #);
XC_question_arrow: (# exit  92 #);
XC_right_ptr: (# exit  94 #);
XC_right_side: (# exit  96 #);
XC_right_tee: (# exit  98 #);
XC_rightbutton: (# exit  100 #);
XC_rtl_logo: (# exit  102 #);
XC_sailboat: (# exit  104 #);
XC_sb_down_arrow: (# exit  106 #);
XC_sb_h_double_arrow: (# exit  108 #);
XC_sb_left_arrow: (# exit  110 #);
XC_sb_right_arrow: (# exit  112 #);
XC_sb_up_arrow: (# exit  114 #);
XC_sb_v_double_arrow: (# exit  116 #);
XC_shuttle: (# exit  118 #);
XC_sizing: (# exit  120 #);
XC_spider: (# exit  122 #);
XC_spraycan: (# exit  124 #);
XC_star: (# exit  126 #);
XC_target: (# exit  128 #);
XC_tcross: (# exit  130 #);
XC_top_left_arrow: (# exit  132 #);
XC_top_left_corner: (# exit  134 #);
XC_top_right_corner: (# exit  136 #);
XC_top_side: (# exit  138 #);
XC_top_tee: (# exit  140 #);
XC_trek: (# exit  142 #);
XC_ul_angle: (# exit  144 #);
XC_umbrella: (# exit  146 #);
XC_ur_angle: (# exit  148 #);
XC_watch: (# exit  150 #);
XC_xterm: (# exit  152 #);

XCreateImage: External
  (# display, visual, depth, format, offset, data, 
     width, height, bitmapPad, BytesPerLine, image: @integer;
  enter (display, visual, depth, format, offset, data,
     width, height, bitmapPad, BytesPerLine)
  exit image
  #);

XPutPixel: External
  (# image, x, y, pixel, status: @integer;
  enter (image, x, y, pixel)
  exit status
  #);

XGetPixel: External
  (# image, x, y, pixel: @integer;
  enter (image, x, y)
  exit pixel
  #);

XDestroyImage: External
  (# image: @integer;
  enter image
  #);

XCreateBitmapFromData: External
  (# display, drawable, width, height, pixmap: @integer;
     data: @integer;
  enter (display, drawable, data, width, height)
  exit pixmap
  #);

XYBitmap: (# exit 0 #);
XYPixmap: (# exit 1 #);
ZPixmap: (# exit 2 #);

CoordModeOrigin: (# exit 0 #);
CoordModePrevious: (# exit 1 #);

Complex: (# exit 0 #);
Nonconvex: (# exit 1 #);
Convex: (# exit 2 #);

ArcChord: (# exit 0 #);
ArcPieSlice: (# exit 1 #);

FillSolid: (# exit 0 #);
FillTiled: (# exit 1 #);
FillStippled: (# exit 2 #);
FillOpaqueStippled: (# exit 3 #);

XaUnderlinePosition: (# exit 51 #);
XaUnderlineThickness: (# exit 52 #);

ForgetGravity: (# exit 0 #); 
NorthWestGravity: (# exit 1 #); 
NorthGravity: (# exit 2 #); 
NorthEastGravity: (# exit 3 #);
WestGravity: (# exit 4 #);
CenterGravity: (# exit 5 #);
EastGravity: (# exit 6 #); 
SouthWestGravity: (# exit 7 #);
SouthGravity: (# exit 8 #);
SouthEastGravity: (# exit 9 #);
StaticGravity: (# exit 10 #);

UnmapGravity: (# exit 0 #); 

XBitmapSuccess: (# exit 0 #);
XBitmapOpenFailed: (# exit 1 #);
XBitmapFileInvalid: (# exit 2 #);
XBitmapNoMemory: (# exit 3 #);

(* capStyle *)

XCapNotLast:    (# exit 0 #);
XCapButt:       (# exit 1 #);
XCapRound:      (# exit 2 #);
XCapProjecting: (# exit 3 #);

(* joinStyle *)

XJoinMiter: (# exit 0 #);
XJoinRound: (# exit 1 #);
XJoinBevel: (# exit 2 #);

--- XKeyEventLib: attributes ---
translate: (* translate THIS(XKeyEvent) to the text it represents *)
  (# left:< object;
     up:< object;
     right:< object;
     down:< object;
          
     kpCh: @char;
     chBuffer: [20] @char;
     theKeySym: @integerRef;
     NoOfChars: @integer;
          
  do (ptr,@@chbuffer[1],20,theKeySym,0) -> xlookupString -> noOfChars;
     (if theKeySym.value
      // xkLeft then left
      // xkUp then up;
      // xkRight then right
      // xkDown then down
      else
         (if noOfChars<>0 then
             (* return only first character *)
             chBuffer[1] -> kpCh;
         if)
     if);
     INNER
  exit kpCh
  #);
