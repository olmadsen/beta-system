ORIGIN '~beta/basiclib/systemenv';
BODY 'private/xtermbody';
--systemlib: attributes --

startCommandInXterm:
  (* Starts a command in an xterm window. Input to the command 
   * may be given via the window, and all output from the command
   * is shown in the window.
   * When the command is finished, the text 'Type Control-c to
   * close window' is printed in the xterm window. 
   * The xterm program is searched for in standard places, and if
   * not found, the XTERM environment variable is assumed to contain
   * the full path of the xterm program.
   *)
  (# command: ^text (* full path of executable *);
     args: ^text (* arguments to executable *);
     title: ^text 
       (* What to write in the xterm title bar; if NONE, the name and
        * arguments of the command is used 
        *);
     verbose: @boolean (* Print trace on screen *);
  enter (command[], args[], title[], verbose)
  do <<SLOT StartCommandInXterm: descriptor>>
  #);

setXtermTitle:
  (* Print out escape sequence that sets the xterm title bar
   * to titletext.
   * Assumes that the program is run from an xterm shell.
   *)
  (# titletext: ^text
  enter titletext[]
  <<SLOT SetXtermTitle: dopart>>
  #);

setXtermIconName:
  (* Print out escape sequence that sets the xterm icon name
   * to icontext.
   * Assumes that the program is run from an xterm shell.
   *)
  (# icontext: ^text
  enter icontext[]
  <<SLOT SetXtermIconName: dopart>>
  #);
