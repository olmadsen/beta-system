ORIGIN '~beta/basiclib/systemenv';
INCLUDE '~beta/process/processmanager';
--- program:descriptor ---
systemEnv
(# 
   xpilots: @Process;
   emacs: @process;
do 'xpilotgames'->xpilots.init;
   'Starting xpilotgames'->screen.putLine;
   xpilots.start;
   L:(if xpilots.stillRunning then
         'xpilots.stillRunning'->screen.putLine;
         0.1->sleep;
         restart L
     if);
   'Waiting for xpilotgames'->screen.putLine;
   xpilots.awaitStopped;
   'xpilotgames completed'->screen.putLine;
   
   (* Insert path to emacs here... *)
   (* Unix: (typical)
    *    '/usr/local/bin/emacs'->emacs.init; 
    * Windows:
    *    'C:\\Program Files\\emacs-19.33\\bin\\runemacs.exe'->emacs.init;
    *)
   '/usr/local/bin/emacs'->emacs.init;
   
   'Starting emacs'->screen.putLine;
   emacs.start;
   (if emacs.stillRunning then
       'Exiting, leaving Emacs running.'->screen.putLine;   
   if);
#)
