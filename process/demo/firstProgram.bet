ORIGIN '~beta/process/v1.4.1/processmanager';
[[
--- program:descriptor ---
(#	
   application: @process;
   inSocket: @passiveStreamSocket;
   aText: ^Text;
do	
   (* launch 'otherProgram' *)
   'otherProgram' -> application.init;
   application.start; 
   
   (* communicate via socket using number 5000 *)
   5000 -> inSocket.port;
   inSocket.bind; 
   
   (* establish connection *)
   inSocket.awaitConnection;
   screen.newline;
   
   (* send a text via the socket *)
   'aText to the active program' -> aText[];
   'firstProgram sends: ' -> screen.puttext; aText[] -> screen.putline;
   aText[] -> inSocket.puttext; inSocket.newline;
   inSocket.flush;
   
   (* close down *)
   application.awaitStopped; (* client first: avoids address-in-use error *)
   inSocket.close;
#)
---]]
