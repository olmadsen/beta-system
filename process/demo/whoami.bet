ORIGIN '~beta/process/v1.5/processmanager';
(* This program illustrates how to invoke a program, and how to read
 * its output from within a BETA program.  In this example, the
 * program is the UNIX 'whoami' program
 *)
-- program: descriptor --
(# program: @process; input,output: @pipe;
do '/usr/ucb/whoami'->program.init;
   input.init;
   output.init;
   input.readEnd[]->program.redirectFromChannel;
   output.writeEnd[]->program.redirectToChannel;
   program.start;
   getOutPut:
     (if not output.readend.eos then
       output.readend.get->screen.put;
       restart getOutput
   if);
#)
