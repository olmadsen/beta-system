ORIGIN '~beta/process/v1.5/processmanager';
[[
--- program:descriptor ---
(#
   outSocket: @activeStreamSocket;
   aText: ^Text;
   no: @Integer;
do
   (* Initialize and establish connection *)
   5000 -> outSocket.port;
   'localhost' -> outSocket.host;
   doConnect: outSocket.connect
     (# error::<
          (#
          do no+1->no; '.' -> screen.put;
             (if no>10//false then restart doConnect if);
          #);
     #);

   (* Communicate *)
   outSocket.GetLine->aText[];
   'client, received from server: ' -> screen.puttext;
   aText[] -> screen.putline;
   'an answer' -> outSocket.putLine; outSocket.flush;

   (* Close down *)
   outSocket.close;
#)
---]]
