ORIGIN '~beta/basiclib/systemenv';
INCLUDE '~beta/process/protocols/popstream';
INCLUDE '~beta/basiclib/formatio';
--- program: descriptor ---
systemenv
(# pop: @popstream; no,first,last: @integer;
do '-----SERVER:'->screen.putline;
   'server: '->screen.puttext;
   getline->pop.server;
   
   '-----USER result:'->screen.putline;
   'username: '->screen.puttext;
   getline->pop.user;
   
   '-----PASS result:'->screen.putline;
   'password: '->screen.puttext;
   getline->pop.password;
   
   '-----STAT result:'->screen.putline;
   pop.stat(#
           do noOfMessages->no->screen.putint; ' '->screen.put;
              sizeOfMailbox->screen.putint; screen.newline;
           #);
   
   '-----LIST result:'->screen.putline;
   pop.list(#
           do messageNo->screen.putint; ' '->screen.put;
              sizeOfMessage->screen.putint; screen.newline;
           #);
   (if no<0 then
       '-----1 LIST result:'->screen.putline;
       1->pop.list(#
                  do messageNo->screen.putint; ' '->screen.put;
                     sizeOfMessage->screen.putint; screen.newline;
                  #);
   if);
   
   '-----QUIT:'->screen.putline;
   pop.quit;
#)
