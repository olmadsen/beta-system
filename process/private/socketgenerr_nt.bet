ORIGIN 'socketgenbody';

(*
 * COPYRIGHT
 *       Copyright (C) Mjolner Informatics, 1995
 *       All rights reserved.
 *)

INCLUDE '~beta/win32lib/v1.2/nterrno';

--- SocketGeneratorBindEC:dopart ---
do
   (if err
       
    // cdef_WSAEMFILE                      (* From socket() *)
    // cdef_WSAENOBUFS then
       &resourceError[]->chosen[];
       
    // cdef_WSAEPROTONOSUPPORT
    // cdef_WSAEPROTOTYPE then
       &internalError[]->chosen[];
       
    // cdef_WSAEACCES then                 (* From socket() or bind() *)
       &accessError[]->chosen[];
       
    // cdef_WSAEADDRINUSE                  (* From bind() *)
    // cdef_WSAEADDRNOTAVAIL then
       &addressError[]->chosen[];
       
    // cdef_WSAEINVAL then
       &internalError[]->chosen[];
       
    // cdef_WSAEFAULT                  (* From bind() or getsockname() *)
    // cdef_WSAENOTSOCK then
       &internalError[]->chosen[];
       
    // cdef_WSAENOBUFS then                (* From getsockname() *)
       &resourceError[]->chosen[];
       
    // 0 then                           (* From inetAddrOfThisHost() *)
       &internalError[]->chosen[];
       
    else
       &unknownError[]->chosen[];
   if);
   

--- SockGenGetNewConnEC:dopart ---
do
   (if err
       
    // cdef_WSAEBADF then                  (* From waitForIO() *)
       &theIdle.connBrokenError[]->chosen[];
       
    // cdef_WSAEFAULT
    // cdef_WSAEINTR
    // cdef_WSAEINVAL 
    // cdef_WSAENOTSOCK
    // cdef_WSAEOPNOTSUPP then
       &theIdle.internalError[]->chosen[];
       
    // cdef_WSAEMFILE then                 (* From accept() *)
       &theIdle.resourceError[]->chosen[];
       
    // cdef_WSAEACCES then                 (* From fcntl() *)
       &theIdle.accessError[]->chosen[];
       
    else
       &theIdle.unknownError[]->chosen[];
   if);

