ORIGIN '~beta/guienv/controls';
INCLUDE '~beta/guienv/utils/tooltip'
        '~beta/guienv/graphics';
-- WindowLib: Attributes --
toolTipCanvas: canvas
  (#
     image: @pixMap;
     theImage: @windowItem
       (#
          makeToolTip:
            (# theTip: ^Text; 
            enter theTip[]
            do theTip[]->THIS(windowItem).addToolTip
            #);
          open:: 
            (# x,y: @integer; 
            do
               'images/toolTipPic.png'->image.read;
               (image.width,image.height)->size;
               father.size->(x,y);
               ((x-image.width) / 2,10)->position;
               TRUE->bindRight->bindBottom
            #);
          eventhandler:: 
            (#
               onRefresh:: 
                 (# 
                 do
                    graphics
                      (# x,y: @integer
                      do
                         father.size->(x,y);
                         ((x-image.width) / 2,(y-image.height) / 2)->position;
                         (image[],(0,0),(0,0),image.width,image.height)
                           ->drawRaster
                      #)
                 #)
            #)
       #);
     open:: 
       (# x,y: @integer; 
       do
          father.size->(x,y);
          (x-10,y-10)->size;
          theImage.open;
          'this is a picture, with a Tooltip'->theImage.makeToolTip;
          
       #)
  #)  

