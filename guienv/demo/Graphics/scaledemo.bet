ORIGIN '~beta/guienv/graphicscanvas';
INCLUDE '~beta/guienv/controls';

-- program: descriptor --
GUIenv
(# 
   toucan: @Pixmap;
   copy: ^Pixmap;
   main1: @MainWindow;
   
   MainWindow: Window
     (# theCanvas: @GraphicsCanvas
          (# 
             theImageItem: @PixmapItem;
             
             original: @PixmapItem;
             
             
             open::
               (#
               do
                  (0xFFFF, 0xFFFF, 0xFFFF) -> backgroundColor;
                  
                  (800, 600) -> size;
                  
                  theImageItem.init;
                  copy[] -> theImageItem.content[];
                  200 -> theImageItem.x;
                  300 -> theImageItem.y;
                  theImageItem[] -> add;
                  
                  original.init;
                  toucan[] -> original.content[];
                  200 -> original.x;
                  100 -> original.y;
                  original[] -> add;
                  
               #);
          #);
        
        open::
          (#
          do 'Graphics Canvas' -> Title;
             (800, 600) -> size;
             theCanvas.open;
          #);
     #);
do 'index-8.png' -> toucan.read;
   false -> toucan.transparent;
   (toucan[], toucan.width * 0.40, toucan.height * 0.40) -> ScalePixmap -> copy[];
   main1.open;
#)
