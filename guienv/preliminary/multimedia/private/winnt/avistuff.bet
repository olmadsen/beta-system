ORIGIN '~beta/basiclib/v1.6/betaenv';

BUILD default '$$/avifuncs.obj' 'external/avifuncs.c' 'betacc $0 $1';

-- lib: attributes --

openAVIfile: external
  (# fileName: @integer; (* The buffer pointed to by fileName must be freed by the caller.*)
     winapiFilter: @integer;
  enter winapiFilter
  do callC;
  exit fileName
  #);

(* BOOL MCIWndRegisterClass(HINSTANCE hInstance); *)
MCIWndRegisterClass: external
  (# hInstance: @integer;
     result: @integer;
  enter hInstance
  do callC
  exit result
  #);


(* HWND MCIWndCreate(HWND hwndParent, HINSTANCE hInstance, 
 * DWORD dwStyle, LPSTR szFile); 
 *)
(* MCIWndCreate: external
 *   (# hwndParent: @integer;
 *      hInstance: @integer;
 *      dwStyle: @integer;
 *      szFile: @integer;
 *      hwnd: @integer;
 *   enter (hwndParent, hInstance, dwStyle, szFile)
 *   do 'MCIWndCreateA' -> callC;
 *   exit hwnd
 *   #);
 *)

(* LONG MCIWndPlay(hwnd) *)
myMCIWndPlay: external
  (# hWnd: @integer;
     result: @integer;
  enter hWnd
  do callC;
  exit result
  #);

(* LONG MCIWndStop(hwnd) *)
myMCIWndStop: external
  (# hWnd: @integer;
     result: @integer;
  enter hWnd
  do callC;
  exit result
  #);

(* LONG MCIWndClose(hwnd) *)
myMCIWndClose: external
  (# hWnd: @integer;
     result: @integer;
  enter hWnd
  do callC
  exit result
  #);

(* LONG MCIWndOpen(hwnd, szFile, wFlags) *)
myMCIWndOpen: external
  (# hwnd: @integer;
     szFile: [1] @char;
     wFlags: @integer;
     result: @integer;
  enter (hwnd, szFile, wFlags)
  do callC
  exit result
  #);

(* LONG MCIWndChangeStyles(hwnd, mask, value) *)
myMCIWndChangeStyles: external
  (# hwnd, mask, value: @integer;
     result: @integer;
  enter (hwnd, mask, value)
  do callC;
  exit result
  #);

(* LONG MCIWndGetDevice(hwnd, lp, len) *)
myMCIWndGetDevice: external
  (# hwnd, lp, len: @integer;
     result: @integer;
  enter (hwnd, lp, len)
  do callC;
  exit result
  #);

(* UINT MCIWndGetDeviceID(hwnd) *)
myMCIWndGetDeviceID: external
  (# hWnd: @integer;
     id: @integer;
  enter hWnd
  do callC;
  exit id
  #);



(* LONG MCIWndGetFileName(hwnd, lp, len) *)
myMCIWndGetFileName: external
  (# hwnd, lp, len: @integer;
     result: @integer;
  enter (hwnd, lp, len)
  do callC;
  exit result
  #);

(* LONG myMCIWndSetOwner(HWND hwnd, HWND hwndP) *)
myMCIWndSetOwner: external
  (# hwnd, hwndP: @integer;
     result: @integer; (* Returns zero. *)
  enter (hwnd, hwndP)
  do callC
  exit result
  #);

(* myMCIWndDestroy(HWND hwnd) *)
myMCIWndDestroy: external
  (# hwnd: @integer;
  enter hwnd
  do callC;
  #);

(* LONG MCIWndGetPosition(hwnd) *)
myMCIWndGetPosition: external
  (# hwnd: @integer;
     pos: @integer;
  enter hwnd
  do callC;
  exit pos
  #);

myMCIWndPlayFrom: external
  (# hwnd, lPos: @integer;
     result: @integer; (* Returns zero if successful or an error otherwise. *)
  enter (hwnd, lPos)
  do callC;
  exit result
  #);

myMCIWndPlayFromTo: external
  (# hwnd, lStart, lEnd: @integer;
     result: @integer; (* Returns zero if successful or an error otherwise. *)
  enter (hwnd, lStart, lEnd)
  do callC;
  exit result
  #);

myMCIWndPlayTo: external
  (# hwnd, lPos: @integer;
     result: @integer; (* Returns zero if successful or an error otherwise. *)
  enter (hwnd, lPos)
  do callC
  exit result
  #);


myMCIWndGetLength: external
  (# hwnd: @integer;
     length: @integer; (* Returns the length. The units for the length depend on the current time 
                        * format. *)
  enter hwnd
  do callC;
  exit length
  #);

myMCIWndSeek: external
  (# hwnd, lPos: @integer;
     result: @integer; (* Returns zero if successful or an error otherwise. *)
  enter (hwnd, lPos) 
  do callC
  exit result
  #);

myMCIWndHome: external
  (# hwnd: @integer;
     result: @integer;
  enter hwnd
  do callC;
  exit result
  #);

myMCIWndEnd: external
  (# hwnd: @integer;
     result: @integer;
  enter hwnd
  do callC;
  exit result
  #);

myMCIWndUseTime: external
  (# hwnd: @integer;
     result: @integer; (* Returns zero if successful or an error otherwise. *)
  enter hwnd
  do callC
  exit result
  #);
 
