ORIGIN '../graphicsaddsbody';
INCLUDE '../../../private/X11/graphics_unixbody';

-- lib: attributes --
XRectangle: data
  (# 
     x: @shortInt;
     y: @shortInt;
     width: @shortInt;
     height: @shortInt;
     
  #);

-- graphicsSetClipChildren: doPart --
do (# subWindowMode: @integer;
   do (if doClipByChildren then
          ClipByChildren -> subWindowMode;
       else
          IncludeInferiors -> subWindowMode;
      if);
      (private.display,private.gc,subWindowMode) -> XSetSubWindowMode;
   #)

-- graphicsSetClipRectangle: doPart --
do (# xr: @XRectangle;
      Unsorted: (# exit 0 #);
   do r.topLeft -> (xr.x,xr.y);
      r.size -> (xr.width,xr.height);
      (private.display,private.gc,0,0,@@xr,1,Unsorted) -> XSetClipRectangles;
   #)

