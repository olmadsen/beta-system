ORIGIN '../iconnamebody';
INCLUDE '../../raster_xpmfile';

-- iconButtonEnterIconName: doPart --
do l:
     (# pm: ^bitmap;
        fileName: ^text;
     do &bitmap[] -> pm[];
        (if value[] <> none then
            value.copy -> fileName[];
            './pixmaps/' -> fileName.prepend;
            '.xpm' -> fileName.append;
            fileName[] -> pm.readFromXPMfile
            (# 
               failure::
                 (# 
                 do leave l;
                 #);
            #);
            pm[] -> icon;
        if);
     #);
   
-- iconButtonExitIconName: doPart --
do 
