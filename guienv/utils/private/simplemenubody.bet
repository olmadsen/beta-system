ORIGIN '../simplemenu';

--SimpleMenuItemOnSelect: dopart--
do THIS(item).onSelect; INNER
--SimpleMenuItemOnStatus: dopart--
do enabled->value; INNER
--SimpleMenuItemNew: dopart--
do true -> enabled; 
   open; 
   (if itemtext[]<>NONE then itemtext[]->name if);
   THIS(item)[] -> append;
   INNER;
--SimpleMnuItemNewKey: dopart--
do equiv->key
   
--SimpleMenuNoOfRadioGroups: dopart--
do 1->value; INNER
--SimpleMenuRadioItemOpen: dopart--
do 1 -> checkgroup; INNER; 
--SimpleMenuRadioItemOnSelect: dopart--
do THIS(radioitem)[] -> changechecked; INNER;
   
--SimpleMenuToggleItemOnSelect: dopart--
do not checked->checked; INNER;

--SimpleMenuNewSeparator: dopart--
do &separator[]->private.s[];
   private.s.open;
   private.s[] -> append;
   
--SimpleMenuNew: dopart--
do open; 
   (if menutext[]<>NONE then menutext[]->name if);
   THIS(simplemenu)[] -> THIS(menubar).append;
   
--SimpleMenuChangeChecked: dopart--
do (if private.oldChecked[newitem.checkgroup][]<>newitem[] then
       (if private.oldChecked[newitem.checkgroup][]<>NONE then
           false->private.oldChecked[newitem.checkgroup].checked;
       if);
       newitem[]->private.oldChecked[newitem.checkgroup][];
       true->newitem.checked;
   if)
   
--SimpleMenuPrivate: descriptor--
(# oldChecked: [noOfRadioGroups]^radioitem; 
   s: ^separator; 
#)
