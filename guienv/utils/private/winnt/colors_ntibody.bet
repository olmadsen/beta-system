ORIGIN '../colorsbody';
INCLUDE '../../../private/winnt/guienv_ntiprivate';
INCLUDE '~beta/win32lib/v1.0/windowmanagement';
INCLUDE '~beta/win32lib/v1.0/windowsmisc';
INCLUDE '~beta/win32lib/v1.0/wingdi';

-- GUIENVwindowItemEnterForegroundColor: doPart --
do

-- GUIENVwindowItemExitForegroundColor: doPart --
do

-- GUIENVwindowItemEnterBackgroundColor: doPart --
do

-- GUIENVwindowItemExitBackgroundColor: doPart --
do (# hdc, bkColor: @integer; 
   do interfaceObjectID -> GetDC -> hdc;
      (* hdc -> GetBkColor -> bkColor; *)
      COLOR_WINDOW -> GetSysColor -> bkColor;
      &color[] -> value[];
      bkColor -> tos'%getByte[0]' -> value.red;
      bkColor -> tos'%getByte[1]' -> value.green;
      bkColor -> tos'%getByte[2]' -> value.blue;
      
      (interfaceObjectId,hdc) -> ReleaseDC;
   #)

