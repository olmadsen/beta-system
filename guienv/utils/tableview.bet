ORIGIN '~beta/guienv/guienv';
INCLUDE '~beta/guienv/graphics';
BODY 'private/tableviewbody';
-- windowLib: Attributes --
tableView: canvas
  (#
     <<SLOT tableViewLib:Attributes>>;
     tableItemType:< tableItem;
     abstractColumn: interfaceObject
       (#
          <<SLOT abstractColumnLib:Attributes>>;
          title:
            (# value: ^text; 
            enter
              (#  enter value[] <<SLOT abstractColumnSetTitle:DoPart>> #)
            exit
              (# 
              <<SLOT abstractColumnGetTitle:DoPart>>
              exit value[]
              #)
            #);
          width:
            (# value: @integer; 
            enter (#  enter value <<SLOT abstractColumnSetWidth:DoPart>> #)
            exit (#  <<SLOT abstractColumnGetWidth:DoPart>> exit value #)
            #);
          less:< booleanValue
            (#
               left,right: ^tableItemType;
               leftData,rightData: ^text;
               doneInInner: @boolean;
               
            enter (left[],right[])
            <<SLOT abstractColumnLess:DoPart>>
            #);
          open::< 
            (# 
            <<SLOT abstractColumnOpen:DoPart>>
            #);
          close::<  (#  <<SLOT abstractColumnClose:DoPart>> #);
          eventHandler::< 
            (#
               drawTitleEvent: event
                 (#
                    g: ^graphics;
                    bounds: ^rectangle;
                    
                 enter (g[],bounds[])
                 do INNER ; 
                 #);
               onDrawTitle:< drawTitleEvent;
               drawItemEvent: event
                 (#
                    g: ^graphics;
                    bounds: ^rectangle;
                    theTableItem:
                      ^tableItemType;
                    data: ^text;
                    
                 enter (g[],bounds[],theTableItem[],data[])
                 do INNER ; 
                 #);
               onDrawItem:< drawItemEvent;
               
            #);
          private: @<<SLOT abstractColumnPrivate:Descriptor>>;
          
       #);
     appendColumn:
       (#
          theColumn: ^abstractColumn; 
       enter theColumn[]
       <<SLOT tableViewAppendColumn:DoPart>>
       #);
     insertColumn:
       (# theColumn: ^abstractColumn; after: ^abstractColumn; 
       enter (theColumn[],after[])
       <<SLOT tableViewInsertColumn:DoPart>>
       #);
     deleteColumn:
       (# theColumn: ^abstractColumn; 
       enter theColumn[]
       <<SLOT tableViewDeleteColumn:DoPart>>
       #);
     horizontalScrollbarVisible:
       (# visible: @boolean; 
       enter
         (# 
         enter visible
         <<SLOT tableViewHorizontalScrollbarVisibleEnter:DoPart>>
         #)
       exit
         (# 
         <<SLOT tableViewHorizontalScrollbarVisibleExit:DoPart>>
         #)
       #);
     verticalScrollbarVisible:
       (# visible: @boolean; 
       enter
         (# 
         enter visible
         <<SLOT tableViewVerticalScrollbarVisibleEnter:DoPart>>
         #)
       exit
         (# 
         <<SLOT tableViewVerticalScrollbarVisibleExit:DoPart>>
         #)
       #);
     columnWithIconType:< abstractColumn
       (#
          eventHandler::< 
            (#
               onDrawTitle::< 
                 (#  <<SLOT columnWithIconTypeOnDrawTitle:DoPart>> #);
               onDrawItem::< 
                 (# 
                 <<SLOT columnWithIconTypeOnDrawItem:DoPart>>
                 #);
               
            #);
          
       #);
     columnWithIcon: @columnWithIconType;
     alignLeft: (#  exit 1 #);
     alignRight: (#  exit 2 #);
     column: abstractColumn
       (#
          <<SLOT columnnLib:Attributes>>;
          alignment:
            (# value: @integer; 
            enter
              (# 
              enter value
              <<SLOT columnSetAlignment:DoPart>>
              #)
            exit (#  <<SLOT columnGetAlignment:DoPart>> exit value #)
            #);
          open::< 
            (# 
            <<SLOT columnOpen:DoPart>>
            #);
          close::< 
            (# 
            <<SLOT columnClose:DoPart>>
            #);
          eventHandler::< 
            (#
               onDrawTitle::<  (#  <<SLOT columnOnDrawTitle:DoPart>> #);
               onDrawItem::< 
                 (# 
                 <<SLOT columnOnDrawItem:DoPart>>
                 #);
               
            #);
          private: @<<SLOT columnPrivate:Descriptor>>;
          
       #);
     tableItem: interfaceObject
       (#
          <<SLOT tableItemLib:Attributes>>;
          mainText:
            (# value: ^text; 
            enter (#  enter value[] <<SLOT tableItemSetMainText:DoPart>> #)
            exit (#  <<SLOT tableItemGetMainText:DoPart>> exit value[] #)
            #);
          icon:
            (# theIcon: ^pixmap; 
            enter (#  enter theIcon[] <<SLOT tableItemSetIcon:DoPart>> #)
            exit
              (# 
              <<SLOT tableItemGetIcon:DoPart>>
              exit theIcon[]
              #)
            #);
          setColumnText:
            (# theColumn: ^abstractColumn; value: ^text; 
            enter (theColumn[],value[])
            <<SLOT tableItemSetColumnText:DoPart>>
            #);
          getColumnText:
            (#
               theColumn:
                 ^abstractColumn;
               value: ^text;
               
            enter theColumn[]
            <<SLOT tableItemGetColumnText:DoPart>>
            exit value[]
            #);
          textIndent:
            (# value: @integer; 
            enter (#  enter value <<SLOT tableItemSetTextIndent:DoPart>> #)
            exit (#  <<SLOT tableItemGetTextIndent:DoPart>> exit value #)
            #);
          iconIndent:
            (# value: @integer; 
            enter (#  enter value <<SLOT tableItemSetIconIndent:DoPart>> #)
            exit (#  <<SLOT tableItemGetIconIndent:DoPart>> exit value #)
            #);
          expander:
            (# value: @boolean; 
            enter (#  enter value <<SLOT tableItemSetExpander:DoPart>> #)
            exit
              (# 
              <<SLOT tableItemGetExpander:DoPart>>
              exit value
              #)
            #);
          selected: booleanValue (#  <<SLOT tableItemSelected:DoPart>> #);
          eventHandler::< 
            (#
               selectEvent: event
                 (#  do INNER ;  #);
               onSelect:< selectEvent;
               deSelectEvent: event
                 (#  do INNER #);
               onDeSelect:< deSelectEvent;
               expandEvent: event
                 (#  do INNER #);
               onExpand:< expandEvent;
               colapseEvent: event
                 (#  do INNER ;  #);
               onColapse:< colapseEvent;
               
            #);
          open::< 
            (# 
            <<SLOT tableItemOpen:DoPart>>
            #);
          close::<  (#  <<SLOT tableItemClose:DoPart>> #);
          private:
            @<<SLOT tableItemPrivate:Descriptor>>;
          
       #);
     append:
       (# theTableItem: ^tableItemType; 
       enter theTableItem[]
       <<SLOT tableViewAppend:DoPart>>
       #);
     prepend:
       (# theTableItem: ^tableItemType; 
       enter theTableItem[]
       <<SLOT tableViewPrepend:DoPart>>
       #);
     insert:
       (# theTableItem: ^tableItemType; after: ^tableItemType; 
       enter (theTableItem[],after[])
       <<SLOT tableViewInsert:DoPart>>
       #);
     scan:
       (# current: ^tableItemType; 
       <<SLOT tableViewScan:DoPart>>
       #);
     selection: @
       (#
          set:
            (#
               theTableItem: ^tableItemType;
               
            enter theTableItem[]
            <<SLOT tableViewSelectionSet:DoPart>>
            #);
          add:
            (#
               theTableItem:
                 ^tableItemType;
               
            enter theTableItem[]
            <<SLOT tableViewSelectionAdd:DoPart>>
            #);
          remove:
            (#
               theTableItem:
                 ^tableItemType;
               
            enter theTableItem[]
            <<SLOT tableViewSelectionRemove:DoPart>>
            #);
          clear:
            (# 
            <<SLOT tableViewSelectionClear:DoPart>>
            #);
          scan:
            (# current: ^tableItemType; 
            <<SLOT tableViewSelectionScan:DoPart>>
            #);
          
       #);
     theScroll:
       (# x,y: @integer; 
       enter
         (# 
         enter (x,y)
         <<SLOT tableViewSetTheScroll:DoPart>>
         #)
       exit (#  <<SLOT tableViewGetTheScroll:DoPart>> exit (x,y) #)
       #);
     scroll:
       (# dX,dY: @integer; 
       enter (dX,dY)
       <<SLOT tableViewScroll:DoPart>>
       #);
     maxScroll:
       (# maxX,maxY: @integer; 
       <<SLOT tableViewMaxScroll:DoPart>>
       exit (maxX,maxY)
       #);
     sortByColumn:
       (# theColumn: ^column; 
       enter
         (# 
         enter theColumn[]
         <<SLOT tableViewSetSortByColumn:DoPart>>
         #)
       exit (#  <<SLOT tableViewGetSortByColumn:DoPart>> exit theColumn[] #)
       #);
     open::<  (#  <<SLOT tableViewOpen:DoPart>> #);
     close::< 
       (#  <<SLOT tableViewClose:DoPart>> #);
     eventHandler::<
      
       (#
          onFrameChanged::<  (#  <<SLOT tableViewOnFrameChanged:DoPart>> #);
          
       #);
     private: @<<SLOT tableViewPrivate:Descriptor>>;
     
  #);
  

