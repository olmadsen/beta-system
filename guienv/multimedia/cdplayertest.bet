ORIGIN '~beta/guienv/guienv';
INCLUDE 'cdplayer';

-- program: descriptor --
GUIenv
(# theCDPlayer: @CDPlayer
     (# allocationerror::(# do errmsg[]->putline; true->continue #);
        deviceError::(# do errmsg[]->putline; true->continue #);
     #);
   
   onQuit::(# do theCdplayer.stop; #);
   w:@window(# close::(# do terminate #); #);
do thecdplayer.open;
   w.open;
   (if thecdplayer.cdpresent then
       'cdpresent'->putline;
       thecdplayer.numberoftracks->putint;
    else
       3->theCDPlayer.play;
   if);
#)
