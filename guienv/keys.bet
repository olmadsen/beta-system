ORIGIN '~beta/basiclib/betaenv';
(*
 * COPYRIGHT
 *       Copyright (C) Mjolner Informatics, 1991-99
 *       All rights reserved.
 *)
(* initial design by gram, to be reviewed *)
(*
 * COPYRIGHT
 *       Copyright (C) Mjolner Informatics, 1991-99
 *       All rights reserved.
 *)
(* initial design by gram, to be reviewed *)
-- Lib: Attributes --
(* this is common constant for all platforms.
 * No similarities intended *)
(* standard keys comes in the range 2^32+ch, 0<ch<255 *)
SpecialKeys:
  (#
     PG_UP: (#  exit 66001 #);
     PG_DOWN: (#  exit 66002 #);
     HOME: (#  exit 66003 #);
     END: (#  exit 66004 #);
     INSERT: (#  exit 66005 #);
     (* delete is a normal ascii character *)
     F1: (#  exit 66011 #);
     F2: (#  exit 66012 #);
     F3: (#  exit 66013 #);
     F4: (#  exit 66014 #);
     F5: (#  exit 66015 #);
     F6: (#  exit 66016 #);
     F7: (#  exit 66017 #);
     F8: (#  exit 66018 #);
     F9: (#  exit 66019 #);
     keyToText:
       (# key: @integer; spk: @specialkeys; name: ^text
       enter key
       do
          (if key < 255 then
              &text[]->name[]; key->name.put
           else
              (if key
               // PG_UP then
                  'PG_UP'->name[]
               // PG_DOWN then
                  'PG_DOWN'->name[]
               // HOME then
                  'HOME'->name[]
               // END then
                  'END'->name[]
               // INSERT then
                  'INSERT'->name[]
               // F1 then
                  'F1'->name[]
               // F2 then
                  'F2'->name[]
               // F3 then
                  'F3'->name[]
               // F4 then
                  'F4'->name[]
               // F5 then
                  'F5'->name[]
               // F6 then
                  'F6'->name[]
               // F7 then
                  'F7'->name[]
               // F8 then
                  'F8'->name[]
               // F9 then
                  'F9'->name[]
              if)
          if);
          
       exit name[]
       #)
  #)  

