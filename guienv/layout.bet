ORIGIN '~beta/basiclib/v1.4/betaenv'
(* BODY ... *)
[[
(*
 * COPYRIGHT
 *       Copyright (C) Mjolner Informatics, 1991-93
 *       All rights reserved.
 *)
--- INCLUDE 'graphmath'
-- lib: attributes --
(* idx=2 *)
(* Forel|bigt design til persistent layout strukturer (kommer fra
 * MacEnv...skal tilpasses UIenv.  Anvendes i interfaceObject.layoutType og
 * interfaceObject.layout.  Disse skal viderebindes i alle andre
 * interfaceObject specialiseringer (endnu ikke gjort).  Der skal ligeledes
 * defineres nye specialiseringer af interfaceObjectLayout til alle
 * interfaceObject specialiseringer.
 *)

(***********************************)
(*                                 *)
(*  fragment group: UIenv          *)
(*                                 *)
(***********************************)

interfaceObjectLayout:
  (# #);
menuLayout: interfaceObjectLayout
  (# name: ^text;
  #);
menuitemLayout: interfaceObjectLayout
  (# name: ^text;
     key: @char;
     face: @integer;
     check: @boolean;
     mark: @char;
  #);
windowLayout: interfaceObjectLayout
  (# title: ^text;
     position: @point;
     size: @point;
     visible: @boolean;
     maxSize: @point;
     minSize: @point;
  #);
windowItemLayout: interfaceObjectLayout
  (# position, size: @point;
     frame: @rectangle;
     bindLeft, bindTop,
     bindRight, bindBottom,
     visible: @boolean
  #);
separatorLayout: windowItemLayout
  (# style: @integer;
     vertical: @boolean;
  #);
canvasLayout: windowitemLayout
  (# 
  #);

(***********************************)
(*                                 *)
(*  fragment group: controls       *)
(*                                 *)
(***********************************)

controlLayout: windowItemLayout
  (# 
  #);
buttonLayout: controlLayout
  (# label: ^text #);
editTextLayout: controlLayout
  (# #);
scrollBarLayout: controlLayout 
  (# scrollAmount,
     maxValue, value,
     orientation, length: @integer
  #);
iconButtonLayout: buttonLayout
  (# showLabel: @boolean #);
optionButtonLayout: buttonLayout
  (# #);
toggleButtonLayout: buttonLayout
  (# state: @boolean #);
checkBoxLayout: toggleButtonLayout (#  #);
radioButtonLayout: toggleButtonLayout (#  #);
pushButtonLayout: buttonLayout (#  #);
staticTextLayout: buttonLayout (#  #);

(***********************************)
(*                                 *)
(*  fragment group: fields         *)
(*                                 *)
(***********************************)

movieFieldLayout: windowitemLayout (# #);
textFieldLayout: windowitemLayout (#  #);
abstractScrollerLayout: canvasLayout (# #);
textEditorLayout: abstractScrollerLayout (# #);
scrollerLayout: abstractScrollerLayout (# #);

(***********************************)
(*                                 *)
(*  fragment group: scrollLists    *)
(*                                 *)
(***********************************)

scrollListLayout: windowitemLayout (#  #);
textScrollListLayout: scrollListLayout (#  #);

(***********************************)
(*                                 *)
(*  fragment group: figureitems    *)
(*                                 *)
(***********************************)

figureItemLayout: windowItemLayout
  (# penForegroundColor, penBackgroundColor: @integer;
     penSize: @integer;
  #);
lineLayout: figureItemLayout
  (# start, end: @point #);
shapeLayout: figureItemLayout 
  (# fillForegroundColor, fillBackgroundColor: @integer #);
rectLayout: shapeLayout (#  #);
ovalLayout: shapeLayout (# #);
polygonLayout: shapeLayout 
  (# points: [0] ^point;
     append: 
       (# h, v: @integer
       enter (h, v)
       do 1->points.extend;
          &point[]->points[points.range][];
          (h,v)->points[points.range]
       #);
  #);
roundRectLayout: shapeLayout
  (# ovalHeight, ovalWidth: @integer #);
wedgeLayout: shapeLayout
  (# startAngle, endAngle: @integer #);
--]]
