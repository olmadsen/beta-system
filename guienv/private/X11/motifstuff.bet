ORIGIN '~beta/Xt/v1.10/motif/motiflib';
BODY 'motifstuffbody';
[[
-- lib: attributes --

xbCanvasWidgetClass: external
  (# class: @integer;
  do 'getXbCanvasWidgetClass' -> callC;
  exit class
  #);
xbButtonWidgetClass: external
  (# class: @integer;
  do 'getXbButtonWidgetClass' -> callC;
  exit class
  #);
xbIconButtonWidgetClass: external
  (# class: @integer;
  do 'getXbIconButtonWidgetClass' -> callC;
  exit class
  #);
xbToggleButtonWidgetClass: external
  (# class: @integer;
  do 'getXbToggleButtonWidgetClass' -> callC;
  exit class
  #);


MotifString: IntegerObject
  (* A MotifString is a compound string made of segments with three elements: 
   * a character set, a direction, and a text.
   *)
  (# init:< Object;
     setText: 
       (* Initialize THIS(MotifString) from the text t, using the
        * default character set and direction.
        *)
       (# t: ^Text;
       enter t[] 
       do <<SLOT MotifStringSetText: descriptor>> 
       #);
     setTextSegment: 
       (* Initialize THIS(MotifString) from the text t, using the
        * given character set, and direction.
        *)
       (# t: ^Text;
          charset: ^text;
          direction: @integer;
       enter (t[], charset[], direction) 
       do <<SLOT MotifStringSetSegment: descriptor>> 
       #);
     getText: 
       (* Get the string segments of THIS(MotifString) composed from the
        * default character set, and default direction.
        *)
       (# t: ^text;
       do <<SLOT MotifStringGetText: descriptor>>
       exit t[]
       #);
     set: (* Set THIS(MotifString) directly *)
       (# enter value #);
     get: (* Get the external pointer for THIS(MotifString) *)
       (# exit value #);
     destroy:
       (* Free the  memory externally allocated for THIS(MotifString) *)
       (# do <<SLOT MotifStringDestroy: descriptor>> #);
     append:
       (* Append the MotifString S to THIS(MotifString) *)
       (# S: @MotifString
       enter S
       do <<SLOT MotifStringAppend: descriptor>>
       #);
     prepend:
       (* Prepend the MotifString S to THIS(MotifString) *)
       (# S: @MotifString
       enter S
       do <<SLOT MotifStringPrepend: descriptor>>
       #);
     appendText:
       (* Append to THIS(MotifString) a MotifString, constructed from the text t,
        * using the default character set, and direction
        *)
       (# t: ^text
       enter t[]
       do <<SLOT MotifStringAppendText: descriptor>>
       #);
     appendSegment: 
       (* Append to THIS(MotifString) a MotifString, constructed from the text t, 
        * using the given character set, and direction.
        *)
       (# t: ^Text;
          charset: ^text;
          direction: @integer;
       enter (t[], charset[], direction) 
       do <<SLOT MotifStringAppendSegment: descriptor>> 
       #);
     prependText:
       (* Prepend to THIS(MotifString) a MotifString, constructed from the text t,
        * using the default character set, and direction
        *)
       (# t: ^text
       enter t[]
       do <<SLOT MotifStringPrependText: descriptor>>
       #);
     prependSegment: 
       (* Prepend to THIS(MotifString) a MotifString, constructed from the text t, 
        * using the given character set, and direction.
        *)
       (# t: ^Text;
          charset: ^text;
          direction: @integer;
       enter (t[], charset[], direction) 
       do <<SLOT MotifStringPrependSegment: descriptor>> 
       #);
     copyAppend: 
       (* Exit the external pointer for a MotifString which is a concatenation
        * of THIS(MotifString) and S.
        *)
       (# S, copy: @MotifString;
       enter S 
       do <<SLOT MotifStringCopyAppend: descriptor>>
       exit copy
       #);
     copyPrepend: 
       (* Exit the external pointer for a MotifString which is a concatenation
        * of S and THIS(MotifString).
        *)
       (# S, copy: @MotifString;
       enter S 
       do <<SLOT MotifStringCopyPrepend: descriptor>>
       exit copy
       #);
     copy:
       (* Exit a copy of THIS(MotifString) *)
       (# S: @MotifString;
       do <<SLOT MotifStringCopy: descriptor>>
       exit S
       #);
     hasSubString: BooleanValue
       (* Exit true iff S is a substring of THIS(MotifString) *)
       (# S: @MotifString
       enter S
       do <<SLOT MotifStringHasSubString: descriptor>>
       #);
     equal: BooleanValue
       (* Exit true iff THIS(MotifString) and S have the same components *)
       (# S: @MotifString
       enter S
       do <<SLOT MotifStringEqual: descriptor>>
       #);
     eq: BooleanValue
       (* Exit true iff THIS(MotifString) and S are equal on a byte-by-byte
        * basis.
        *)
       (# S: @MotifString
       enter S
       do <<SLOT MotifStringEq: descriptor>>
       #);
     empty: BooleanValue
       (* Exit true iff there are no non-zero length text components in 
        * THIS(MotifString).
        *)
       (# do <<SLOT MotifStringEmpty: descriptor>> #);
     extent:
       (* Exit the width and height, in pixels, of the smallest rectangle, 
        * that will enclose THIS(MotifString) in a window with the given fontlist.
        *)
       (# width, height: @integer;
          fontlist: @integer;
       enter fontlist
       do <<SLOT MotifStringExtent: descriptor>>
       exit (width, height)
       #);
     baseline: IntegerValue
       (* Exit the number of pixels between the top of the character box and
        * the baseline of the first line of text in THIS(MotifString).
        *)
       (# do <<SLOT MotifStringBaseline: descriptor>> #);
     lineHeight: IntegerValue
       (* Exit the line height of THIS(MotifString) *)
       (# do <<SLOT MotifStringHeight: descriptor>> #);
     size: IntegerValue
       (* Exit the number of bytes in the external representation of 
        * THIS(MotifString), including the text, tags, direction indicators, 
        * and separators.
        *)
       (# do <<SLOT MotifStringSize: descriptor>> #);
     noOfLines: IntegerValue
       (* Exit the number of lines in THIS(MotifString). This is computed
        * as the number of separators plus one.
        *)
       (# do <<SLOT MotifStringLines: descriptor>> #);
     
  #);
MotifFontList: IntegerObject
  (* MotifFontLists are used to specify character sets for widgets displaying
   * MotifStrings. Example:
   *   fontlst: @MotifFontList
   *     (# init::<
   *          (# 
   *          do ('-*-courier-*-r-*--12-*', 'charset1')      -> addText;
   *             ('-*-courier-bold-o-*--14-*', 'charset2')   -> addText;
   *             ('-*-courier-medium-r-*--18-*', 'charset3') -> addText;
   *      #)#);
   *)
  (# add:
       (* Add one entry to THIS(MotifFontList). Here the font enter parameter
        * must be a pointer to an XFontStruct
        *)
       (# font: @integer; charset: ^text;
       enter (font, charset[])
       do <<SLOT MotifFontListAdd: descriptor>>
       #);
     scan:
       (* Scan the fonts in the the font list *)
       (# fontStruct: @integer;
          charSet: ^Text;
       do <<SLOT MotifFontListScan: descriptor>>;
       #);
     <<SLOT MotifFontListLib: attributes>>;
  #);
StringArray: 
  (* A StringArray is a list of externally allocated text's. *)
  (# initialSize:< integerObject(# do 25 -> value; INNER #);
     init:< 
       (* Initializes THIS(StringArray) *)
       (# do <<SLOT StringArrayInit: descriptor>>; INNER #);
     clear:< (* Reset THIS(StringArray) *)
       (# do <<SLOT StringArrayClear: descriptor>>; INNER #);
     number:
       (* Number of texts currently in THIS(StringArray) *)
       IntegerValue(# <<SLOT StringArrayNumber: dopart>> #);
     getText: 
       (* Exits a copy of the text of THIS(stringArray) added as number n *)
       (# n: @integer;
          t: ^text;
       enter n
       do <<SLOT StringArrayGetText: descriptor>>;
       exit t[]
       #);
     changeText: 
       (* Changes the text of THIS(stringArray) added as number n *)
       (# n: @integer;
          newtext: ^text;
       enter (n, newtext[]) 
       do <<SLOT StringArrayChangeText: descriptor>>;
       #);
     addText: 
       (* Adds a new text to THIS(stringArray). THIS(StringArray) is extended
        * if needed.
        *)
       (# t: ^text;
       enter t[] 
       do <<SLOT StringArrayAddText: descriptor>>;
       #);
     <<SLOT StringArrayLib: attributes>>;
     private: @<<SLOT StringArrayPrivate: descriptor>>;
     address:
       (* Address of externally allocated string array  *)
       IntegerValue(# <<SLOT StringArrayAddress: dopart>> #);
  exit address
  #);


--]]
