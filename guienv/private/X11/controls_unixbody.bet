ORIGIN '../controlsbody';

INCLUDE 'motifstuff';
INCLUDE 'widget';
INCLUDE 'guienvattributes';
INCLUDE 'guienv_unixprivate';
INCLUDE '~beta/sysutils/v1.6/objinterface';
INCLUDE '../../graphics';
INCLUDE 'graphics_unixbody';
INCLUDE 'callbacks';

-- windowItemLib: attributes --
XtQueryGeometry: external
  (# 
     w: @integer;
     intended: ^XtWidgetGeometry;
     preffered: ^XtWidgetGeometry;
     result: @integer;
  enter (w, intended[], preffered[])
  exit result
  #);

XtWidgetGeometry: data
  (# request_mode: @integer;
     x: @shortInt;
     y: @shortInt;
     width: @shortInt;
     height: @shortInt;
     sibling: @integer;
     stackmode: @integer;
  #);


XMask: (# exit 1 #);
YMask: (# exit 2 #);
WidthMask: (# exit 4 #);
HeighMask: (# exit 8 #);
StackingMask: (# exit 16 #);

preferredSize:
  (# ID: @integer;
     preferred: @XtWidgetGeometry;
     intended: @XtWidgetGeometry;
     result: @integer;
     preferredWidth, preferredHeight: @integer;
   do widgetID -> ID;
      (if ID<>0 then
          (ID, intended[], preferred[]) -> XtQueryGeometry -> result;
          preferred.width -> preferredWidth;
          preferred.height -> preferredHeight;
      if);
  exit (preferredWidth, preferredHeight)
  #);

-- GUIENVcontrolCreate: descriptor --
(#
do inner create;
#)

-- GUIENVcontrolOpen: descriptor --
(#
do inner open;
#)

-- GUIENVcontrolClose: descriptor --
(# 
do inner close;
#)

-- GUIENVcontrolOnEnabledChanged: doPart --
do inner;

-- GUIENVcontrolPrivate: descriptor --
(#
#)

-- scrollbarLib: attributes --

handlePageIncrement: motifCallbackSelector
  (#
  do theEventHandler.onPageDown;
  #);
pageIncrementProcessor: callbackProcessor
  (# 
  do &handlePageIncrement[] -> cb[];
  #);

handlePageDecrement: motifCallbackSelector
  (#
  do theEventHandler.onPageUp;
  #);
pageDecrementProcessor: callbackProcessor
  (# 
  do &handlePageDecrement[] -> cb[];
  #);

handleIncrement: motifCallbackSelector
  (#
  do theEventHandler.onButtonDown;
  #);
incrementProcessor: callbackProcessor
  (# 
  do &handleIncrement[] -> cb[];
  #);

handleDecrement: motifCallbackSelector
  (#
  do theEventHandler.onButtonUp;
  #);
decrementProcessor: callbackProcessor
  (# 
  do &handleDecrement[] -> cb[];
  #);

handleValueChanged: motifCallbackSelector
  (# 
  do theEventHandler.onThumbMoved;
  #);
valueChangedProcessor: callbackProcessor
  (#
  do &handleValueChanged[] -> cb[];
  #);

-- GUIENVscrollbarSetPageScrollAmount: descriptor --
assertOpen
(# location::(# do 'Scrollbar.SetPageScrollAmount'->t[] #);
do (XmNpageIncrement,value) -> setIntegerResource;
   theEventHandler.onPageScrollAmountChanged;
#)

-- GUIENVscrollbarGetPageScrollAmount: descriptor --
assertOpen
(# location::(# do 'Scrollbar.GetPageScrollAmount'->t[] #);
do XmNpageIncrement -> getIntegerResource -> value;
#)

-- GUIENVscrollbarSetScrollAmount: descriptor --
assertOpen
(# location::(# do 'Scrollbar.SetScrollAmount'->t[] #);
do (XmNincrement,value) -> setIntegerResource;
   theEventHandler.onScrollAmountChanged;
#)

-- GUIENVscrollbarGetScrollAmount: descriptor --
assertOpen
(# location::(# do 'Scrollbar.GetScrollAmount'->t[] #);
do XmNincrement -> getIntegerResource -> value;
#)

-- GUIENVscrollbarSetMaxValue: descriptor --
assertOpen
(# location::(# do 'Scrollbar.SetMaxValue'->t[] #);
do (XmNmaximum,value) -> setIntegerResource;
   theEventHandler.onMaxValueChanged;
#)

-- GUIENVscrollbarGetMaxValue: descriptor --
assertOpen
(# location::(# do 'Scrollbar.GetMaxValue'->t[] #);
do XmNmaximum -> getIntegerResource -> value;
#)

-- GUIENVscrollbarSetValue: descriptor --
assertOpen
(# location::(# do 'Scrollbar.SetValue'->t[] #);
do (XmNvalue,pos) -> setIntegerResource;
   theEventHandler.onValueChanged;
#)

-- GUIENVscrollbarGetValue: descriptor --
assertOpen
(# location::(# do 'Scrollbar.GetValue'->t[] #);
do XmNvalue -> getIntegerResource -> value;
#)

-- GUIENVscrollbarSetLength: descriptor --
assertOpen
(# location::(# do 'Scrollbar.setLength'->t[] #);
   width,height: @integer;
do size -> (width,height);
   (if vertical
       then
       (width,theLength) -> size;
    else
       (theLength,height) -> size;
   if);
#)

-- GUIENVscrollbarGetLength: descriptor --
assertOpen
(# location::(# do 'Scrollbar.GetLength'->t[] #);
   width,height: @integer;
do size -> (width,height);
   (if vertical then
       height -> theLength;
    else
       width -> theLength;
   if);
#)

-- GUIENVscrollbarCreate: descriptor --

(# orientation: @integer;
do inner create;
   (if widgetID=0 then
       (xmScrollbarWidgetClass,father.widgetID) -> createSimple;
       (if vertical then
           XmVertical -> orientation;
        else
           XmHorizontal -> orientation;
       if);
       (XmNorientation,orientation) -> setIntegerResource;
       (pageIncrementProcessor##, XmNpageIncrementCallBack) -> addCallbackProcessor;
       (pageDecrementProcessor##, XmNpageDecrementCallBack) -> addCallbackProcessor;
       (incrementProcessor##, XmNincrementCallBack) -> addCallbackProcessor;
       (decrementProcessor##, XmNDecrementCallBack) -> addCallbackProcessor;
       (valueChangedProcessor##, XmNvalueChangedCallback) -> addCallbackProcessor;
       (XmNhighLightThickness,0) -> setIntegerResource;
   if);
#)

-- GUIENVscrollbarOpen: descriptor --
(#
do inner open;
#)

-- GUIENVscrollbarClose: descriptor --
(#
do inner close;
#)

-- GUIENVscrollbarpagedown:  descriptor --
(#
do inner pageDown;
#)

-- GUIENVscrollbarPageUp: descriptor --
(# 
do inner pageUp;
#)

-- GUIENVscrollbarButtonUp: descriptor --
(# 
do inner buttonUp;
#)

-- GUIENVthumbMoved: descriptor --
(#
do inner thumbMoved; 
#)

-- GUIENVscrollbarondeactivate: descriptor --
(#
do inner onDeactivate; 
#)

-- GUIENVscrollbaronframechanged: descriptor --
(#
do inner onFrameChanged; 
#)

-- GUIENVscrollbaronrefresh: descriptor --
(#
do inner onRefresh; 
#)

-- GUIENVscrollbaronmousedown: descriptor --
(#
do inner onMouseDown; 
#)

-- GUIENVscrollbaronactivate: descriptor --
(#
do inner onActivate; 
#)

-- GUIENVscrollbarbuttondown: descriptor --
(#
do inner buttonDown; 
#)


-- GUIENVscrollbarPrivate: descriptor --
(#
   
#)

-- GUIENVbuttonSetLabel: descriptor --
assertOpen
(# location::(# do 'Button.SetLabel'->t[] #);
   labelgadget: @integer;
   args: @argList;
   mstr: @motifString;   
do (if THIS(Button)## <= OptionButton## then
       (* Hack!! *)
       widgetID -> XmOptionLabelGadget -> labelgadget;
       theLabel[] -> mstr.setText;
       (1,XmNlabelString,mstr) -> args.set;
       (labelgadget,args[],1) -> XtSetValues;
       mstr.destroy;
       preferredSize -> (size);
    else
       (XmNlabelString,theLabel[]) -> setMotifStringResource;
   if);
   theEventHandler.onLabelChanged;
#)

-- GUIENVbuttonGetLabel: descriptor --
assertOpen
(# location::(# do 'Button.GetLabel'->t[] #);
   labelgadget: @integer;
   mstr: @motifString;
   args: @argList;
do 
   (if THIS(Button)## <= OptionButton## then
       (* Hack!! *)
       widgetID -> XmOptionLabelGadget -> labelgadget;
       (1, XmNlabelString, @@mstr.value ) -> args.set;
       (labelgadget,args[],1) -> XtGetValues;
       mstr.getText -> theLabel[];
       mstr.destroy;
    else
       XmNlabelString -> getMotifStringResource -> theLabel[];
   if);
#)

-- GUIENVbuttonSetStyle: descriptor --
assertOpen
(# location::(# do 'Button.SetStyle'->t[] #);
do (XmNfontList,theStyle.createFontList) -> setIntegerResource;   
   theEventHandler.onStyleChanged;
#)

-- GUIENVbuttonGetStyle: descriptor --
assertOpen
(# location::(# do 'Button.GetStyle'->t[] #);
do &textStyle[] -> theStyle[];
   XmNfontList -> getIntegerResource -> theStyle.initWithFontList;
   (* getTextStyleResource -> theStyle[]; *)
#)

-- GUIENVbuttonCreate: descriptor --
(#
do inner create;
   (if widgetID=0 then
       (xbButtonWidgetClass,father.widgetID) -> createSimple;
   if);
#)

-- GUIENVbuttonOpen: descriptor --
(#
do this(button)[] -> getPatternName -> label;
   inner open;
#)

-- GUIENVbuttonClose: descriptor --
(# 
do inner close;
#)

-- GUIENVbuttonOnFrameChanged: descriptor --
(# 
do inner onFrameChanged;
#)

-- GUIENVbuttonOnRefresh: descriptor --
(# 
do inner onRefresh;
#)

-- GUIENVButtonOnMouseDown: descriptor --
(# 
do inner onMouseDown;
#)

-- GUIENVbuttonPrivate: descriptor --
(#

#)

-- pushButtonLib: attributes --

handlePushButtonActivate: motifCallbackSelector
  (#
  do theEventHandler.onMouseUp;
  #);
pushbuttonActivateProcessor: callbackProcessor
  (# 
  do &handlePushButtonActivate[] -> cb[];
  #);


-- GUIENVpushButtonCreate: descriptor --

(# 
do inner create;
   (if widgetID=0 then
       (xmPushButtonWidgetClass,father.widgetID) -> createSimple;
       (XmNrecomputeSize,false) -> setBooleanResource;
       (XmNtraversalOn,false) -> setBooleanResource;
       (XmNhighLightThickness,0) -> setIntegerResource;
   if);
#)

-- GUIENVpushButtonOpen: descriptor --
(# XtRemoveEventHandler: external
     (# w: @integer;
        eventMask: @integer;
        nonmaskable: @integer;
        callBackAddress: @integer;     
        data: @integer
     enter (w,eventMask,nonmaskable,callBackAddress,data)
     do callC
     #);
   ID: @integer;
   thisWindowItem: ^windowItem;
   
do this(pushButton)[] -> thisWindowItem[];
   widgetID -> ID;
   (ID,
   XButtonReleaseMask, 0, thisWindowItem.private.mouseUpProcessorAddress, 0)
     -> XtRemoveEventHandler;
   (pushbuttonActivateProcessor##, XmNactivateCallBack)
     -> addCallbackProcessor;
    inner open;
#)

-- GUIENVpushButtonClose: descriptor --
(#
do inner close;
#)

-- GUIENVpushButtonOnMouseDown: doPart --
do inner;
   
-- GUIENVpushButtonOnRefresh: doPart --
do inner;
   
-- GUIENVpushButtonHiliteChanged: doPart --
do inner;
   
   
-- GUIENVpushButtonPrivate: descriptor --
(#
#)

-- GUIENVstaticTextCreate: descriptor --

(#
do inner create;
   (if widgetID=0 then
       (xmLabelWidgetClass,father.widgetID) -> createSimple;
       (XmNhighLightThickness,0) -> setIntegerResource;
       (XmNalignment, XmALIGNMENT_BEGINNING) -> setIntegerResource;
   if);
#)

-- GUIENVstaticTextOpen: descriptor --
(#
do inner open;
#)

-- GUIENVstaticTextClose: descriptor --
(# 
do inner close;
#)

-- GUIENVstaticTextOnRefresh: descriptor --
(# 
do inner onRefresh;
#)

-- GUIENVstaticTextPrivate: descriptor --
(#

#)

-- iconButtonLib: attributes --
XbNshowLabel: integerValue (# do 'showLabel' ->charReptoCString -> value #);
-- GUIENViconButtonSetShowLabel: descriptor --
assertOpen
(# location::(# do 'IconButton.SetShowLabel'->t[] #);
do (XbNshowLabel,doShow) -> setBooleanResource;
   theEventHandler.onShowLabelChanged;
#)

-- GUIENViconButtonGetShowLabel: descriptor --
assertOpen
(# location::(# do 'IconButton.GetShowLabel'->t[] #);
do XbNshowLabel -> getBooleanResource -> doShow;
#)

-- GUIENViconButtonSetIcon: descriptor --
assertOpen
(# location::(# do 'IconButton.SetIcon'->t[] #);
do theIcon[] -> private.theIcon[];
   theEventHandler.onIconChanged;
   update;
#)

-- GUIENViconButtonGetIcon: descriptor --
assertOpen
(# location::(# do 'IconButton.GetIcon'->t[] #);
do private.theIcon[] -> theIcon[];
#)


-- GUIENViconButtonCreate: descriptor --
(#
do inner create;
   (if widgetID=0 then
       (xbIconButtonWidgetClass,father.widgetID) -> createSimple;
   if);
#)

-- GUIENViconButtonOpen: descriptor --
(#
do inner open;
#)

-- GUIENViconButtonClose: descriptor --
(# 
do inner close;
#)

-- GUIENViconButtonOnRefresh: descriptor --
assertOpen 
(# location:: (# do 'iconbutton.onRefresh' -> t[] #);
   calcImageBounds:
     (# 
     do (if showLabel then
            theLabel[] -> theStyle.widthOfText -> textWidth;
            theStyle.lineHeight -> textHeight;
         else
            0 -> textWidth;
            0 -> textHeight;
        if);
        (if private.theIcon[]<>none then
            private.theIcon.width -> iconWidth;
            private.theIcon.height -> iconHeight;
         else
            0 -> iconWidth;
            0 -> iconHeight;
        if);
        (textHeight+iconHeight) -> imageHeight;
        (textWidth,iconWidth) -> max -> imageWidth;
     #);
   calcImageAnchors:
     (# width,height: @integer;
     do size -> (width,height);
        (width - iconWidth) div 2 -> iconAnchor.h;
        (height - imageHeight) div 2 -> iconAnchor.v;
        (width - textWidth) div 2 -> textAnchor.h;
        iconAnchor.v + iconHeight + theStyle.ascent -> textAnchor.v;
     #);
   theStyle: ^textStyle;
   theLabel: ^text;
   imageWidth,imageHeight,textWidth,textHeight,iconWidth,iconHeight: @integer;
   iconAnchor,textAnchor: @point;
do (* newline;
    * 'iconbutton.onRefresh: widgetId= ' -> puttext; widgetID -> putint; newline;
    * this(iconButton)[] -> getPatternName -> putline;
    *)
   
   style -> theStyle[];
   label -> theLabel[];
   calcImageBounds;
   calcImageAnchors;
   graphics
   (# f: @rectangle;
   do (if this(iconButton).private.theIcon[]<>none then
          (this(iconButton).private.theIcon[],(0,0),iconAnchor,iconWidth,iconHeight) -> drawRaster;
          (if hilite then
              ((0,0),size) -> f;
              f.bottom - 1 -> f.bottom;
              f.right - 1 -> f.right;
              f -> drawRect;
              (1,1) -> f.inset;
              f -> drawRect;
          if);
      if);
      (if showLabel then
          textAnchor -> moveTo;
          theStyle[] -> style;
          theLabel[] -> drawText;
      if);
   #);
   inner onRefresh;
#)

-- GUIENViconbuttonOnHiliteChanged: descriptor --

(# 
do graphics
   (# f: @rectangle;
      backgroundColor: @integer;
   do (if not hilite then
          XtNbackGround -> getIntegerResource -> backgroundColor;
          (private.display,private.gc,backgroundColor) -> XSetForeGround;
      if);
      ((0,0),size) -> f;
      f.bottom - 1 -> f.bottom;
      f.right - 1 -> f.right;
      f -> drawRect;
      (1,1) -> f.inset;
      f -> drawRect;
   #);
   inner onHiliteChanged;
#)

-- GUIENViconButtonPrivate: descriptor --
(#
   theIcon: ^pixmap;
#)

-- GUIENVoptionButtonSetCurItem: descriptor --
assertOpen
(# location::(# do 'OptionButton.SetCurItem'->t[] #);
   theItem: ^interfaceObject;
do (if private.motifPopupmenu[]<>none then
       itemNo -> private.motifPopupmenu.getItemByNumber -> theItem[];
       (if theItem[]<>None then
           (XmNmenuHistory,theItem.widgetID) -> setIntegerResource;
        else
           'optionButton.SetCurItem: no item number ' -> puttext;
           itemNo -> putint; newline;
       if);
    else
       'optionButton.SetCurItem: cannot set current item before popupmenu is specified' -> putline;
   if);
#)

-- GUIENVoptionButtonGetCurItem: descriptor --
assertOpen
(# location::(# do 'OptionButton.GetCutItem'->t[] #);
do (if private.motifPopupmenu[]<>none then
       XmNmenuHistory -> getIntegerResource  
         -> private.motifPopupmenu.getNumberOfWidget -> itemNo;
   if);
#)

-- GUIENVoptionButtonSetPopupMenu: descriptor --
assertOpen
(# location::(# do 'OptionButton.SetPopupMenu'->t[] #);
   theMotifmenu: ^motifMenu;
do (if popupMenu[]<>private.popupMenu[] then
       (if private.popupMenu[]<>none then
           widgetID -> XmOptionButtonGadget -> XtDestroyWidget;
           private.motifPopupmenu.close;
           none -> private.motifPopupmenu[];
           none -> private.popupMenu[];
       if);
       (if popupMenu[]<>none then
           popupMenu[] -> private.popupMenu[];
           &motifMenu[] -> theMotifmenu[] -> private.motifPopupmenu[];
           this(optionButton)[] -> theMotifmenu.owner[];
           popupMenu[] -> theMotifmenu.theMenu[];
           theMotifMenu.open;
           (XmNsubmenuId,theMotifMenu.widgetID) -> setIntegerResource;
           preferredSize -> size;
       if);
   if);
   (*  (if popupMenu[]<>private.popupMenu[] then
    *        (if private.popupMenu[]<>none then
    *            private.popupMenu.destroyMenu;
    *            none -> private.popupMenu[];
    *        if);
    *        popupMenu[] -> private.popupMenu[];
    *        (if popupMenu[]<>none then
    *            widgetID -> popupMenu.buildMenu;
    *            (XmNsubmenuId,popupMenu.widgetID) -> setIntegerResource;
    *        if);
    *    if);
    *)
#)

-- GUIENVoptionButtonGetPopupMenu: descriptor --
assertOpen
(# location::(# do 'OptionButton.GetPopupMenu'->t[] #);
do private.popupMenu[] -> popupMenu[];
#)

-- GUIENVoptionButtonCreate: descriptor --
(# defaultMenu: ^menu;
   defaultMenuType: menu
     (# 
        defaultItem: @menuItem
          (# 
          #);
        open::<
          (# 
          do 
             defaultItem.open;
             defaultItem[] -> append;
          #);
     #);
   args: @argList;
   mstr: @motifString;
do inner create;
   (if widgetID=0 then
       (* &defaultMenuType[] -> defaultMenu[];
        *        defaultMenu.open;
        *        'Options' -> defaultMenu.name;
        *        father.widgetID -> defaultMenu.buildMenu;
        *        (1,XmNsubMenuId,defaultMenu.widgetID) -> args.set;
        *        'Options:' -> mstr.setText;
        *        (2,XmNlabelString,mstr) -> args.set;
        *        (father.widgetID,'optionButton',args[],2) -> XmCreateOptionMenu -> widgetID;
        *        widgetID -> XtManageChild;
        *        '...done' -> putLine;
        *)
       (# 
          optionsSubMenuId,optionId: @integer;
          
       do (father.widgetID,'OptionsSubMenu',args[],0) -> XmCreatePulldownMenu -> optionsSubMenuId;
          (optionsSubMenuId,'Option',args[],0) -> XmCreatePushbutton -> optionId;
          optionId -> XtManageChild;
          'Options:' -> mstr.setText;
          (1,XmNLabelString,mstr) -> args.set;
          (2,XmNsubMenuId,optionsSubMenuId) -> args.set;
          (father.widgetID,'optionButton',args[],2) -> XmCreateOptionMenu -> widgetID;
          widgetID -> XtManageChild;
       #);
   if);
#)

-- GUIENVoptionButtonOpen: descriptor --
(#
do inner open;
#)

-- GUIENVoptionButtonClose: descriptor --
(#
do inner close;
   none -> popupMenu;
#)

-- GUIENVoptionButtononstylechanged: descriptor --
(#
do inner onStyleChanged;
#)

-- GUIENVoptionButtononlabelchanged: descriptor --
(#
do inner onLabelChanged;
#)

-- GUIENVoptionButtonOnRefresh: doPart --
do inner;
   
-- GUIENVoptionButtonprivate: descriptor --
(# popupMenu: ^menu;
   motifPopupmenu: ^motifMenu;
#)

-- GUIENVtoggleButtonSetState: descriptor --
assertOpen
(# location::(# do 'ToggleButton.SetState'->t[] #);
do (XmNset,theState) -> setBooleanResource;
   theEventHandler.onStateChanged;
#)

-- GUIENVtoggleButtonGetState: descriptor --
assertOpen
(# location::(# do 'ToggleButton.GetState'->t[] #);
do XmNset -> getBooleanResource -> theState;
#)

-- GUIENVtoggleButtonCreate: descriptor --
(#
do inner create;
   (if widgetID=0 then
       (xbToggleButtonWidgetClass,father.widgetID) -> createSimple;
   if);
#)

-- GUIENVtoggleButtonOpen: descriptor --
(#
do inner open;
#)

-- GUIENVtoggleButtonClose: descriptor --
(#
do inner close;
#)

-- GUIENVtoggleButtonOnMouseUp: doPart --
do inner;

-- GUIENVtoggleButtonPrivate: descriptor --
(#
#)

-- GUIENVradioButtonCreate: descriptor --
(#
do inner create;
   (if widgetID=0 then
       (xmToggleButtonWidgetClass,father.widgetID) -> createSimple;
       (XmNindicatorType,XmONE_OF_MANY) -> setIntegerResource;
       (XmNhighLightThickness,0) -> setIntegerResource;
   if);
#)

-- GUIENVRadioButtonOpen: descriptor --
(#
do inner open
#)

-- GUIENVRadioButtonClose: descriptor --
(#
do inner close;
#)

-- GUIENVradioButtonPrivate: descriptor --
(#
   
#)

-- GUIENVcheckBoxCreate: descriptor --
(#
do inner create;
   (if widgetID=0 then
       (xmToggleButtonWidgetClass,father.widgetID) -> createSimple;
       (XmNhighLightThickness,0) -> setIntegerResource;
       (XmNalignment, XmALIGNMENT_BEGINNING) -> setIntegerResource;
   if);
#)

-- GUIENVcheckBoxOpen: descriptor --
(#
do inner open;
#)

-- GUIENVcheckBoxClose: descriptor --
(#
do inner close;
#)

-- GUIENVcheckBoxPrivate: descriptor --
(#

#)

-- GUIENVeditTextOnRefresh: descriptor --
(#
do inner onRefresh;
#)

-- GUIENVEditTextOnEnableTarget: descriptor --
(#
do inner onEnableTarget;
#)

-- GUIENVeditTextOnMouseDown: descriptor --
(#
do inner onMouseDown;
#)

-- GUIENVeditTextOnFrameChanged: descriptor --
(#
do inner onFrameChanged;
#)

-- GUIENVedittextonkeydown: descriptor --
(#
do inner onKeyDown;
#)


-- GUIENVedittextondisabletarget: descriptor --
(#
do inner onDisableTarget;
#)


-- GUIENVeditTextSetStyle: descriptor --
assertOpen
(# location::(# do 'EditText.SetStyle'->t[] #);
do (XmNfontList,txStyle.createFontList) -> setIntegerResource;
#)

-- GUIENVeditTextGetStyle: descriptor --
assertOpen
(# location::(# do 'EditText.GetStyle'->t[] #);
do &textStyle[] -> txStyle[];
   XmNfontList -> getIntegerResource -> txStyle.initWithFontList;
#)

-- GUIENVeditTextSetContents: descriptor --
assertOpen
(# location::(# do 'EditText.SetContents'->t[] #);
do (XmNvalue,str[]) -> setStringResource;
#)

-- GUIENVeditTextGetContents: descriptor --
assertOpen
(# location::(# do 'EditText.GetContents'->t[] #);
do XmNvalue -> getStringResourceCopy -> str[];
#)

-- GUIENVeditTextCreate: descriptor --
(#
do inner create;
   (if widgetID=0 then
       (xmTextWidgetClass,father.widgetID) -> createSimple;
       (XmNhighlightThickness,0) -> setIntegerResource;
       (* (XmNresizeHeight,false) -> setIntegerResource;
       (XmNresizeWidth,false) -> setIntegerResource; *)
       (* (XmNtraversalOn,false) -> setIntegerResource; *)
   if);
#)

-- GUIENVeditTextOpen: descriptor --
(#
do inner open;
#)

-- GUIENVeditTextClose: descriptor --
(#
do inner close;
#)

-- GUIENVeditTextPrivate: descriptor --
(#
#)

-- GUIENVsetDefaultButton: descriptor --
(#
do 
#)

-- GUIENVgetDefaultButton: descriptor --
(#
do
#)

