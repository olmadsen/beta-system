ORIGIN 'guienv_ntibody';
(*
 * COPYRIGHT
 *       Copyright (C) Mjolner Informatics, 1994-95
 *       All rights reserved.
 *)

-- drawseparatorbody: descriptor --
(# 
do (* 'separatorOnrefresh' -> putline; *)
   interfaceObjectID -> GetDC -> blackHdc;
   interfaceObjectID -> GetDC -> whiteHdc;
   size -> (width,height);
   (if vertical then
       (width div 2) - 1 -> x;
       0 -> y;
       height -> y2;
    else
       (height div 2) - 1 -> y;
       0 -> x; width -> y2;
   if);
   
   (* 'x, y, y2: ' -> puttext; 
    x -> putint; newline; y -> putint; newline; y2 -> putint; newline; *)
   
   (if theStyle
    //separatorStyles.singleLine then PS_SOLID -> lineStyle; 
    //separatorStyles.doubleLine then PS_SOLID -> lineStyle; 
    //separatorStyles.singleDashedLine then PS_DASH -> lineStyle; 
    //separatorStyles.doubleDashedLine then PS_DASH -> lineStyle; 
    //separatorStyles.etchedIn then PS_SOLID -> lineStyle; 
    //separatorStyles.etchedOut then PS_SOLID -> lineStyle; 
   if);
   (lineStyle, 1, 16x00686868) -> CreatePen -> blackPen;
   (lineStyle, 1, 16x00F0F0F0) -> CreatePen -> whitePen;
   (blackHdc, blackPen) -> SelectObject; 
   (whiteHdc, whitePen) -> SelectObject; 
   (if theStyle
    //separatorStyles.singleLine 
    //separatorStyles.singleDashedLine then 
       (blackHdc,x,y,0) -> MoveToEx;
       (if vertical then
           (blackHdc,x,y2+1) -> LineTo;
        else
           (blackHdc,y2+1,y) -> LineTo;
       if);
    //separatorStyles.doubleLine 
    //separatorStyles.doubleDashedLine then 
       (blackHdc,x,y,0) -> MoveToEx;
       (if vertical then
           (blackHdc,x,y2+1) -> LineTo;
           (blackHdc,x+1,y,0) -> MoveToEx;
           (blackHdc,x+1,y2+1) -> LineTo;
        else
           (blackHdc,y2+1,y) -> LineTo;
           (blackHdc,x,y+1,0) -> MoveToEx;
           (blackHdc,y2+1,y+1) -> LineTo;
       if);
    //separatorStyles.etchedIn then 
       (blackHdc,x,y,0) -> MoveToEx;
       
       (if vertical then
           (blackHdc,x,y2+1) -> LineTo;
           (whiteHdc,x+1,y,0) -> MoveToEx;
           (whiteHdc,x+1,y2+1) -> LineTo;
        else
           (blackHdc,y2+1,y) -> LineTo;
           (whiteHdc,x,y+1,0) -> MoveToEx;
           (whiteHdc,y2+1,y+1) -> LineTo;
       if);
    //separatorStyles.etchedOut then 
       (whiteHdc,x,y,0) -> MoveToEx;
       
       (if vertical then
           (whiteHdc,x,y2+1) -> LineTo;
           (blackHdc,x+1,y,0) -> MoveToEx;
           (blackHdc,x+1,y2+1) -> LineTo;
        else
           (whiteHdc,y2+1,y) -> LineTo;
           (blackHdc,x,y+1,0) -> MoveToEx;
           (blackHdc,y2+1,y+1) -> LineTo;
       if);
   if);
   
   (* 'theStyle: ' -> puttext; theStyle -> putint; newline;
    'blackHdc: ' -> puttext; blackHdc -> putint; newline; *)
   
   blackPen -> deleteObject;
   whitePen -> deleteObject;
   (interfaceObjectID,blackHdc) -> ReleaseDC;
   (interfaceObjectID,whiteHdc) -> ReleaseDC;
#)
