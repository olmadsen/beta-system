ORIGIN '~beta/basiclib/betaenv';
INCLUDE '~beta/basiclib/file';
INCLUDE '~beta/MiniSystem/qbeta/qprint';
---lib:attributes---

(********************* the sub-pattern used for printing RTF **********************)
qTXTprint : qPrint
(#

  begBlock      :: (#  do  (* nothing *)  #);
  endBlock      :: (#  do  (* nothing *)  #);

  begBackGround :: (#  do  (* nothing *)  #);
  endBackGround :: (#  do  (* nothing *)  #);

  begUnderline  ::  (# do  (* nothing *)  #);
  endUnderline  ::  (# do  (* nothing *)  #);

  begBold       ::  (# do  (* nothing *)  #);
  endBold       ::  (# do  (* nothing *)  #);

  begItalics    ::  (# do  (* nothing *)  #);
  endItalics    ::  (# do  (* nothing *)  #);

  begSmallCaps  ::  (# do  (* nothing *)  #);
  endSmallCaps  ::  (# do  (* nothing *)  #);

  begColor      ::  (# do  (* nothing *)  #);
  endColor      ::  (# do  (* nothing *)  #);

  begCmt   ::  (# do '--' -> out.puttext #);
  endCmt   ::  (# do ' ' -> out.put#);

  constant   ::  (# do ': =' ->  out.puttext #);
  variable   ::  (# do ':?' ->   out.puttext #);
  pattern    ::  (# do ':'  ->   out.puttext #);
  virtual    ::  (# do ':<' ->   out.puttext #);
  further    ::  (# do '::<' ->  out.puttext #);
  final      ::  (# do '::' ->   out.puttext #);
  assignment ::  (# do ':=' ->   out.puttext #);
  special    ::  (# do  t[]  -> Txt  #);
  reserved   ::  (# do  t[]  -> Txt  #);
  preDefined ::  (# do  t[]  -> Txt  #);
  keyword    ::  (# do  t[]  -> Txt  #);
  fatComma   ::  (# do  t[]  -> Txt  #);



  Spaces ::  (#  do  (for i: count repeat ' ' -> out.put for)  #);
  
  Chr    ::  (# do (* backslash is the BETA escape character *)
                (if  C = '\\'  then  '\\' -> out.put;  if);
                 C -> out.put;
             #);    

  UniChr ::  (#  i :@ integer;  enter  i
             do 
                'UNICODE characters are not allowed in our 7-bit ascii files!' -> out.putline;
                out.newline;
             #);
     
  setTabStops ::  (# do  (* not really *) #);
   
  (* output a tab and a space at the very end of this line *)
  tabToEOL    ::  (# do  (* not really *) #);

  tab ::  (# do    #);

  lineShift ::  (# do  out.newline;  #);

  readableLine:: (# do   #);   (* only purpose is to make the debugging output more readable *)

  landscape ::  (# do    #);

  init  ::  (#  do  #); (* end init *)

  finis ::  (# do  lineShift  #);  (* Needed to ensure that eod is at block level one. *)

#);