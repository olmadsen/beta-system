MiniBank: @
  (# Person: (# name: ^text #);
     JoeSmith: @ Person;
     Account: 
       (# init: (#  enter (owner[],balance) do  #);
          deposit: 
            (# amount: @ integer
            enter amount
            do balance + amount -> balance
            exit balance
            #);
          withdraw: 
            (# amount: @ integer
            enter amount
            do (if (balance - amount) >= 0 then
                   balance - amount -> balance
               if)
            exit balance
            #);
          owner: ^Person;
          balance: @ integer
       #);
     Bank: @ 
       (# open: 
            (# Joe: ^Account
            do &Account[] -> Joe[];
               (JoeSmith[],555) -> Joe.init;
               100 -> Joe.deposit;
               50 -> Joe.withdraw
            #)
       #)
  do 'Joe Smith' -> JoeSmith.name[]; Bank.open
  #)