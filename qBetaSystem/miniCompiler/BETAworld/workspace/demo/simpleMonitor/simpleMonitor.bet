simpleMonitor: @MonitorSystem.system
  (# AM: @monitor
       (# doIt: entry
            (# V: @ integer
            enter V
            do '\nHello: ' .print; V -> putint; '\n'.print
            #)
       #);
     P1: @process
       (#
       do (for i: 10 repeat
               1000 + i -> AM.doIT
          for)
       #);
     P2: @process
       (# sum:
            (# V,res: @integer
            enter V
            do (for i: 100 repeat res + V -> res for);
            exit res
            #);
       do (for i: 10 repeat
               2000 + (i -> sum) -> AM.doIT
          for)
       #);
      P3: @process
       (#
       do (for i: 10 repeat
               3000 + i -> AM.doIT
          for)
       #);
  do 101 -> P1.start; 102 -> P2.start; 103 -> P3.start; AM.init;
  #)

     
               
