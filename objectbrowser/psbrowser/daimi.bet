ORIGIN '~beta/basiclib/v1.4/betaenv';
INCLUDE 'daimihierarchy';
INCLUDE '~beta/persistentstore/v1.4/persistentstore';
INCLUDE '~beta/objectbrowser/v2.0/psbrowser/psfullnamepatch';

-- Program: Descriptor --
(#
   Daimi: ^DaimiHierarchy;
do
   persistentstore_fullnamepatch;
      
   &DaimiHierarchy[] -> Daimi[];
   Daimi.Init;
   
   Daimi.KJ.PlaysRoles[] -> Daimi.VIP.PlayedBy.Relate 
     -> Daimi.AfdBestyrer.PlayedBy.Relate;
   Daimi.FN.PlaysRoles[] -> Daimi.VIP.PlayedBy.Relate;
   Daimi.EMS.PlaysRoles[] -> Daimi.VIPsuppl.PlayedBy.Relate;
   Daimi.OLM.PlaysRoles[] -> Daimi.VIPsuppl.PlayedBy.Relate 
     -> Daimi.MaskinUdvalgsFmd.PlayedBy.Relate;
   Daimi.TL.PlaysRoles[] -> Daimi.TAP.PlayedBy.Relate;
   Daimi.FMM.PlaysRoles[] -> Daimi.TAPsuppl.PlayedBy.Relate;
   Daimi.CL.PlaysRoles[] -> Daimi.Student.PlayedBy.Relate;
   Daimi.MMN.PlaysRoles[] -> Daimi.Studentsuppl.PlayedBy.Relate;
   Daimi.SS.PlaysRoles[] -> Daimi.Del2UdvalgsFmd.PlayedBy.Relate;
   Daimi.MN.PlaysRoles[] -> Daimi.PhDUdvalgsFmd.PlayedBy.Relate;
   Daimi.OOE.PlaysRoles[] -> Daimi.StudiesagsUdvalgsFmd.PlayedBy.Relate 
     -> Daimi.BiblioteksUdvalgsFmd.PlayedBy.Relate	
     -> Daimi.LokaleUdvalgsFmd.PlayedBy.Relate;
   
   Daimi.Bestyrelse.Members[]
     -> Daimi.KJ.MemberOf.Relate
     -> Daimi.FN.MemberOf.Relate 
     -> Daimi.EMS.MemberOf.Relate
     -> Daimi.OLM.MemberOf.Relate
     -> Daimi.TL.MemberOf.Relate 
     -> Daimi.FMM.MemberOf.Relate
     -> Daimi.CL.MemberOf.Relate
     -> Daimi.MMN.MemberOf.Relate;

   Daimi.MaskinUdvalg.Members[]
     -> Daimi.KHA.MemberOf.Relate
     -> Daimi.UE.MemberOf.Relate  
   
     -> Daimi.JLK.MemberOf.Relate
     -> Daimi.FMM.MemberOf.Relate
     -> Daimi.OLM.MemberOf.Relate 
   
     -> Daimi.OLM.MemberOf.Relate
     -> Daimi.EP.MemberOf.Relate 
     -> Daimi.MIS.MemberOf.Relate
     -> Daimi.TT.MemberOf.Relate;

   Daimi.KuvxseUdvalg.Members[]
     -> Daimi.MK.MemberOf.Relate
     -> Daimi.EMS.MemberOf.Relate;
   
   Daimi.PhDUdvalg.Members[] -> Daimi.OLM.MemberOf.Relate
     -> Daimi.MN.MemberOf.Relate 
     -> Daimi.EMS.MemberOf.Relate;
   
   Daimi.Del2Udvalg.Members[]
     -> Daimi.SS.MemberOf.Relate
     -> Daimi.JLK.MemberOf.Relate
     -> Daimi.CL.MemberOf.Relate
     -> Daimi.SLK.MemberOf.Relate;
   
   Daimi.StudiesagsUdvalg.Members[]
     -> Daimi.OOE.MemberOf.Relate
     -> Daimi.MBJ.MemberOf.Relate
     -> Daimi.CL.MemberOf.Relate
     -> Daimi.SS.MemberOf.Relate;
   
   Daimi.BiblioteksUdvalg.Members[]
     -> Daimi.OOE.MemberOf.Relate
     -> Daimi.SB.MemberOf.Relate 
   
     -> Daimi.OC.MemberOf.Relate
     -> Daimi.BHM.MemberOf.Relate
     -> Daimi.SS.MemberOf.Relate
   
     -> Daimi.GW.MemberOf.Relate;
   
   Daimi.LokaleUdvalg.Members[]
     -> Daimi.OOE.MemberOf.Relate
     -> Daimi.HR.MemberOf.Relate;
   
   
   (# ps: @persistentStore;
   do
      'Enterprise'->ps.openwrite;
      'Putting and saving DaimiHierarchy ...' -> screen.putLine;
      (Daimi[], 'Daimi') -> ps.put;
      ps.close;
   #)
#)
