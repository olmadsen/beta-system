ORIGIN '~beta/basiclib/v1.6/betaenv';
INCLUDE '../bdbc'
        '~beta/basiclib/v1.6/formatio';
-- program: Descriptor --
(#
   myDBEnv: @DBEnv;
   myCon: @myDBEnv.Connection;
   SQL: @myCon.DirectSQLStatement;
   RS: ^myCon.ResultSet;
   con,user,password: ^text;
   colNo,stmt: ^text;
   theInfo: ^rs.info.columnInfo
do
   myDBEnv.open;
   'Connection to open: '->puttext;
   getline->con[];
   'Username: '->puttext;
   getline->user[];
   'Password: '->puttext;
   getline->password[];
   'Column to fetch: '->puttext;
   getline->colNo[];
   (con[],user[],password[])->myCon.open;
   'select * from bugs '->SQL.Contents;
   SQL.Execute->RS[];
   RS.scan
     (#  do colNo.reset; colNo.getint->current.getText->putLine #);
   (for i: rs.info.NoOfCols repeat
     i->rs.info.getColumnInfo->theInfo[];
     '%s: %s\n'
       ->putFormat
         (#  do theInfo.ColumnName[]->s; theInfo.DataTypeName[]->s #)
   for);
   newline;
   myDBEnv.close
#)  

