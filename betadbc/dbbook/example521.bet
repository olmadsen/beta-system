ORIGIN '../betadbc';
INCLUDE '~beta/basiclib/formatio';
-- program: Descriptor --
(# sqlCon: @connection; stmt: @sqlCon.directSqlStatement; stmtTxt: ^text
do
   (2->arguments,3->arguments,4->arguments)->sqlCon.open;
   '(SELECT title,year FROM Movie)\n'->stmtTxt[];
   ' UNION\n'->stmtTxt.append;
   '(SELECT movieTitle AS title, movieYear AS year FROM StarsIn)'
     ->stmtTxt.append->stmt.open;
   stmt->putline;
   '\n%51s%s\n\n'->putFormat (#  do 'title'->s; 'year'->s #);
   (stmt.execute).scan
     (# 
     do '%51s%i\n'->putFormat (#  do current.s->s; current.i->i #)
     #)
#)  

