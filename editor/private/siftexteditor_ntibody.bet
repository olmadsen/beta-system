ORIGIN 'siftexteditorbody';
(*
 * COPYRIGHT
 *   Copyright Mjolner Informatics, 1995-97
 *   All rights reserved.
 *)
INCLUDE '~beta/guienv/v1.6/private/winnt/fields_ntibody'
        '~beta/guienv/v1.6/fields';
-- siftexteditorSetBindings: Descriptor --
(#  do  #)  

-- siftexteditorCharWidthType: Descriptor --
(#  do 80->value #)  

-- siftexteditorUpdate: Descriptor --
(#  do contents.update #)  

-- siftexteditorSetTexteditStyle: DoPart --
do
     (# cf: @CHARFORMAT; windowID: @integer; 
     do
        sizeOfCharFormat->malloc->cf.ptr;
        (if cf.ptr <> 0 then
            THIS(textField).interfaceObjectID->windowID;
            (cf.ptr,0,sizeOfCharFormat)->memset;
            sizeOfCharFormat->cf.cbSize;
            CFM_COLOR+CFM_UNDERLINE->cf.dwMask;
            (if ((COLOR_WINDOWTEXT->GetSysColor) = 0x00800080) then
                0x00808000->cf.crTextColor; 
             else
                0x00800080->cf.crTextColor; 
            if);
            (windowID,EM_SETCHARFORMAT,0x0001,cf.ptr)->SendMessage;
            cf.ptr->free;
            
        if);
        
     #)  

-- siftexteditorResetTexteditStyle: DoPart --
do
     (# cf: @CHARFORMAT; windowID: @integer; 
     do
        sizeOfCharFormat->malloc->cf.ptr;
        (if cf.ptr <> 0 then
            THIS(textField).interfaceObjectID->windowID;
            (cf.ptr,0,sizeOfCharFormat)->memset;
            sizeOfCharFormat->cf.cbSize;
            CFM_COLOR->cf.dwMask;
            siftexteditorPrivate.textColor->cf.crTextColor;
            (windowID,EM_SETCHARFORMAT,0x0000,cf.ptr)->SendMessage;
            cf.ptr->free
        if);
     #)  

-- siftexteditorFormat: DoPart --
do
   0->THIS(textField).private.formatFlags;
   THIS(textField).private.selectCharFormat->siftexteditorPrivate.textColor  

-- siftexteditorAllowFormat: DoPart --
do true->value  

