ORIGIN '../codeeditor';
LIB_ITEM 'editorcodeeditor'
(*
 * COPYRIGHT
 *	 Copyright (C) Aarhus University
 *	 All rights reserved.
 *)
-- fgObserverPrivate: Descriptor --
(#
   refresh:
     (# 
     do
        (if ymerCallBack[] <> none then
            (none,fg[])->ymerCallback.refreshGroup; 
         else
            'fgObserver.refresh: ymercallback is none!!'->putLine
        if)
     #)
#)  

-- fgObserverOnNameChanged: DoPart --
do
   (if trace[7] then
       '----- onNameChanged '->putText;
       fg.name->putText;
       ' '->put;
       fgObserver.no->putInt;
       newLine;
       
   if);
   (if isAfrejaEditor then ff[]->frejaExternalInterface.fragmentChanged if);
   private.refresh  

-- fgObserverOnFragInserted: DoPart --
do
   (if trace[7] then
       '----- onFragmentInserted '->putText;
       fg.name->putText;
       ' '->put;
       fgObserver.no->putInt;
       newLine;
       
   if);
   (if isAfrejaEditor then ff[]->frejaExternalInterface.fragmentInserted if);
   private.refresh  

-- fgObserverOnFragDeleted: DoPart --
do
   (if trace[7] then
       '----- onFragmentDeleted '->putText;
       fg.name->putText;
       ' '->put;
       fgObserver.no->putInt;
       newLine;
       
   if);
   (if isAfrejaEditor then ff[]->frejaExternalInterface.fragmentDeleted if);
   private.refresh  

-- fgObserverOnPropertyChanged: DoPart --
do
   (if trace[7] then
       '----- onPropertiesChanged '->putText;
       fg.name->putText;
       ' '->put;
       fgObserver.no->putInt;
       newLine;
       
   if);
   (if isAfrejaEditor then fg[]->frejaExternalInterface.propertiesChanged if);
   private.refresh  

-- fgObserverOnGroupSaved: DoPart --
do
   fg[]->ymerCallBack.onGroupSaved;
   resetGroupTouch;
   (if isAfrejaEditor then fg[]->frejaExternalInterface.groupSaved if)  

-- fgObserverOnGroupNotSaved: DoPart --
do
   (if isAfrejaEditor then fg[]->frejaExternalInterface.groupNotSaved if)  

-- fgObserverOnGroupAutoSaved: DoPart --
do (if frejaExternalInterface[] <> none then fg[]->frejaExternalInterface.groupAutosaved if)  

-- fgObserverOnGroupChecked: DoPart --
do
   (if frejaExternalInterface[] <> none then
       semanticErrors->frejaExternalInterface.groupChecked
   if);
   (* no now use fg notifications (fg[],not status)->onGroupChecked*)
     

-- fgObserverOnGroupLocked: DoPart --
do INNER  

-- fgObserverOnGroupUnlocked: DoPart --
do INNER  

-- fgObserverOnBeforeGroupClose: DoPart --
do INNER  

-- fgObserverOnGroupClosed: DoPart --
do INNER  

-- fgObserverOnRefresh: DoPart --
do
   (if trace[7] then
       '----- onRefresh '->putText;
       fg.name->putText;
       ' '->put;
       fgObserver.no->putInt;
       newLine;
       
   if);
   (if ymerCallBack[] <> none then
       (none,fg[])->ymerCallback.refreshGroup; 
    else
       'fgObserver.refresh: ymercallback is none!!'->putLine
   if)  

-- fgObserverOnTouched: DoPart --
do groupTouched  

-- fgObserverOnDetouched: DoPart --
do groupDetouched  

-- fgObserverOnCloseUntouchedGroup: DoPart --
do
   (if isAfrejaEditor then fg[]->frejaExternalInterface.closeUntouchedGroup if)  

