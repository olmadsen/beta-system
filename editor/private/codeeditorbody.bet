ORIGIN '../codeeditor';
INCLUDE '~beta/mps/v4.9.1/findgrammar'
        '~beta/betaast/v4.9.1/donecheck';
(*
 COPYRIGHT
 Copyright Mjolner Informatics, 1986-94
 All rights reserved.
 *)
(*
 COPYRIGHT
 Copyright Mjolner Informatics, 1986-94
 All rights reserved.
 *)
-- autoSaveLimitBody: Descriptor --
(#  do 1->ASlimit;  #)  

-- autoSaveBody: DoPart --
do 'autosave'->putLine

-- fragmentChangedEventBody: Descriptor --
(# 
do
(* (if (thisGroupEditor[] <> none )
 // true then
 (if thisGroupEditor.writeAccess
 // true then *)
   noOfAstChanges+1->noOfAstChanges;
   fragmentTouched;
   (if (noOfAstChanges >= ASLimit)
    // true then autoSave; 0->noOfAstChanges; 
   if);
   (*   if);
    
    if);*)
   
#)  

-- resetFragmentTouchBody: Descriptor --
(#  do 0->touched;  #)  

-- fragmentTouchedBody: Descriptor --
(# 
do
   touched+1->touched;
   (* (if thisGroupEditor[]
    // none then 
    else
    thisGroupEditor.groupTouched; 
    if);*)
   (if true (*debugBrowser*) then
       'fragment touched '->putText; touched->putint; ' times'->putLine; 
   if);
   'TOUCHED'->frag.prop.addProp;
   
#)  

-- fragmentDetouchedBody: Descriptor --
(# 
do
   touched-1->touched;
   (*  (if thisGroupEditor[]
    // none then 
    else
    thisGroupEditor.groupDetouched; 
    if);*)
   (if true (*debugBrowser*) then
       'fragment touched '->putText; touched->putint; ' times'->putLine; 
   if);
   
#)  

