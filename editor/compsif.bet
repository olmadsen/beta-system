ORIGIN '~beta/basiclib/v1.4/betaenv';
(*
 * COPYRIGHT
 *   Copyright Mjolner Informatics, 1995-96
 *   All rights reserved.
 *)
INCLUDE 'ymersiflib';
BODY 'private/compiler'
     'private/nouser';
-- program: Descriptor --
(#
   fb: @fragmentBrowser
     (#
        ymerBrowserWindow::<
          (#
             browserTitle::
               (# 
               do
                  'Sif: Mjolner BETA Source Browser and Editor'
                    ->title[] (*.prepend*)
               #);
             menubarType:: 
               (#
                  groupFileMenuType:: 
                    (#
                       open:: 
                         (# 
                         do
                            'New...'->iNew.new;
                            'New BETA Program...'->iNewBetaProgram.new;
                            'New BETA Library...'->iNewBetaLibrary.new;
                            newSeparator;
                            'Close'->iClose.new;
                            'Save'->iSave.new;
                            'Save As...'->iSaveAs.new;
                            'Save All...'->iSaveAll.new;
                            'Save Abstract...'->iSaveAbstract.new;
                            newSeparator;
                            'Recover'->iRecover.new;
                            'Revert'->iRevert.new;
                            newSeparator;
                            'Group Write Protection'->iSetIsReadOnly.new;
                            'Global Write Protection'
                              ->iSetGlobalWriteProtection.new
                         #)
                    #);
                  groupPerformMenuType:: 
                    (#
                       open::< 
                         (# 
                         do
                            'Check Current'->iCheck.new;
                            'Recheck'->iReCheck.new;
                            'Compile Current'->iCompile.new;
                            'Recompile'->iRecompile.new;
                            'Execute Current'->iExecute.new;
                            'Reexecute'->iReExecute.new;
                            newSeparator;
                            'Debug'->iDebug.new;
                            newSeparator;
                            'Semantic Errors...'->iSemanticErrors.new;
                            newSeparator;
                            'Show Diagram'->iShowDiagram.new;
                            INNER
                         #)
                    #);
                  open::< 
                    (# 
                    do
                       SLOTs.new;
                       SLOTs[]->append;
                       'Fragment'->GroupEdit.new;
                       'Tools'->GroupPerform.new;
                       INNER
                    #)
               #);
             open:: (#  do initCompiler #)
          #);
        isBETAsif::< (#  do true->value #);
        init::<
          (# 
          do
             ('Sif: Known Bugs and Inconveniences',
              '~beta/editor/v5.0.2/doc/TODO')->helpDocument;
             
          #);
        
     do
        'Sif - Mjolner BETA Browser and Editor version '->putText;
        editorVersion->putLine;
        '      integrated with the BETA Compiler version '->putText;
        compilerVersion->putLine;
        (if noOfarguments > 1 then
            (for i: noOfArguments-1 repeat
              i+1->arguments->ymerbrowser.appendProject
            for);
            (if noOfArguments-1 > 0 then ymerbrowser.appendDone if);
            
        if)
     #)
do fb
#)  

