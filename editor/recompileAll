#!/bin/sh
#
#
# recompile on other supported platforms than SUN4S


sun4s=ariel
hpux9pa=ronchamp
linux=delirium
sgi=arsenic

platforms="$linux $hpux9pa $sgi"

betalocation=/users/beta/r4.2

beta="$betalocation/bin/beta -w"

echo "--- Code-generating (in batch) on all platforms: $platforms"
echo "--- Must have been checked on sun4s!!"

sleep 5


for p in $platforms
do
case $p in
	$sun4s)
		TARGET=SUN4S
		;;
	$hpux9pa)
		TARGET=HPUX9PA
		;;
	$linux)
		TARGET=LINUX
		;;
	$sgi)
		TARGET=SGI
		;;
esac

	echo "	rsh $p ($beta  -o $p/sif sif > recomp/recomp.$p.lst)"
	(rsh $p "(cd $betalocation/editor;   setenv BETALIB $betalocation; \
                  $beta  -o  "$p"/sif sif; \
                  )"> recomp/recomp.$p.lst 2>&1) &

done

echo "--- Consult the files: recomp/recomp.*.lst for the results"
