ORIGIN 'ymersiflib';
include '~beta/sourcebrowser/v0.1/private/ymerBody' (* only temporarily *)
-- program: Descriptor --
(#
   stripExtension:
     (# p: ^text; pos: @integer
     enter p[]
     do
        '.'->p.findCh (#  do inx->pos #);
        (if pos > 0 then (1,pos-1)->p.sub->p[] if)
     exit p[]
     #)
do
   fragmentBrowser
   (#    newProj: ^ymerBrowser.browser.projects.project
     do
        (if noOfarguments > 1 then
            (for i: noOfArguments-1 repeat
             (* i+1->Arguments->stripExtension->mps.ast.expandToFullPath
              ->ymerBrowser.browser.selectFragmentGroup*)
                   &ymerbrowser.browser.projects.project[]->newProj[];
                 i+1
                   ->arguments
                   ->mps.AST.expandToFullPath
                   ->newProj.location.puttext;
                 newProj[]->ymerbrowser.browser.projects.setupProject;
                 newProj[]
                   ->ymerbrowser.browser.projects.theProjects.append;
            for);
            (if newProj[]<>NONE then
                ymerbrowser.browser.projectsChanged;
                newProj[]->ymerbrowser.browser.setProject;
            if)
        if)
     #)
#)  

