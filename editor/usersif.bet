ORIGIN '~beta/basiclib/v1.6/basicsystemenv';
INCLUDE '~beta/guienv/v1.6/guienvsystemenv'
        '~beta/sysutils/v1.6/pathhandler'
        'ymersiflib'
        'mylangcfl'
        'user';
BODY '~beta/editor/v5.2/private/nocompiler';
-- program: Descriptor --
systemenv
  (#
     setWindowEnv::  (#  do fb[]->theWindowEnv[] #);
     fb: @fragmentBrowser
       (#
          ymerBrowserWindow:: 
            (#
               browserTitle::  (#  do 'User sif: '->title.prepend #);
               menubarType:: 
                 (#
                    userMenu: @simplemenu
                      (#
                         iUserCommand: @item
                           (#
                              onStatus:: 
                                (#  do browser.cfe[] <> none ->value #);
                              onSelect:: 
                                (# 
                                do
                                   (none ,'Hello user','User dialog')
                                     ->alertUser;
                                   'user command: '->puttext;
                                   edenv.uep.global+1->edenv.uep.global->putInt;
                                   newLine
                                #)
                           #);
                         iIfInWhile: @item
                           (#
                              onStatus:: 
                                (# 
                                do
                                   (browser.cfe[] <> none ) and
                                   (browser.cfe.up.mylangCFL[] <> none ) and
                                   (browser.cfe.cs.node.symbol =
                                    browser.cfe.up.mylangCFL.iff)->value
                                #);
                              onSelect::  (#  do browser.cfe.up.ifInWhile #)
                           #);
                         open:: 
                           (# 
                           do
                              'User command'->iUserCommand.new;
                              'If in While'->iIfInWhile.new
                           #)
                      #);
                    open:: 
                      (# 
                      do 'User'->userMenu.new; userMenu[]->append; INNER
                      #)
                 #);
               workspace:: 
                 (#
                    menubarType:: 
                      (#
                         userMenu: @simplemenu
                           (#
                              iUserCommand: @item
                                (#
                                   onStatus::  (#  do true->value #);
                                   onSelect:: 
                                     (# 
                                     do
                                        (none ,'Hello user','User dialog')
                                          ->alertUser;
                                        'user command: '->puttext;
                                        edenv.uep.global+1->edenv.uep.global
                                          ->putInt;
                                        newLine
                                     #)
                                #);
                              open:: 
                                (#  do 'User command'->iUserCommand.new #)
                           #);
                         open:: 
                           (# 
                           do 'User'->userMenu.new; userMenu[]->append; INNER
                           #)
                      #)
                 #);
               codeViewWindow:: 
                 (#
                    menubarType:: 
                      (#
                         userMenu: @simplemenu
                           (#
                              iUserCommand: @item
                                (#
                                   onStatus:: 
                                     (# 
                                     do browser.cfe[] <> none ->value
                                     #);
                                   onSelect:: 
                                     (# 
                                     do
                                        (none ,'Hello user','User dialog')
                                          ->alertUser;
                                        'user command: '->puttext;
                                        edenv.uep.global+1->edenv.uep.global
                                          ->putInt;
                                        newLine
                                     #)
                                #);
                              open:: 
                                (#  do 'User command'->iUserCommand.new #)
                           #);
                         open:: 
                           (# 
                           do 'User'->userMenu.new; userMenu[]->append; INNER
                           #)
                      #)
                 #);
               open::  (#  do 'Browser window opened'->putLine #)
            #);
          userGrammarInit:: 
            (# 
            do
               'userGrammarInit'->putLine; ymerBrowser.edenv.uep.userGrammarInit
            #);
          init::  (#  do  #)
       do
          (if noOfarguments > 1 then
              (for i: noOfArguments-1 repeat
                i+1->arguments->ymerbrowser.appendProject
              for);
              (if noOfArguments-1 > 0 then ymerbrowser.appendDone if);
              
          if)
       #)
  #)  

