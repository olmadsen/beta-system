v5.0.1(0)

14/2-96: 
Frozen version for dSA

v5.0.2(0)

14/2-96:
Fixed the bug: If the checker was activated by double-clicking it crashed 
after checking in follow semantic link if there were bugs in the fragment 
structure

this has been merged into v5.0.1 in the PC sync. process

v5.0.2(1)

15/3-96: 

Fixed the bug: 
insert new fragment form when fragment list is empty
=>ref is none

Fixed the bug: 
copy root in one property editor and paste in another one
=> ref is none              

22/3-96:

Fixed the bug: 
following semantic links into a fragment that is not checked may 
lead to an indexerror in indextonode in valuetoast in getnodeattribute in 
dclRef. 
temporary fixed by binding the exceptions of indextonode, in a local copy of
the above operation (codeeditorbody)

v5.0.2(2) (version number was made 9/4-96)

27/3-96:

Fixed the bug:
recovery was not offered on fragment groups without fragmentforms

Added Search/Replace in the Edit menu of the property editor

1/4-96:

Fixed the bug:
When opening the second codeeditor on the same fragment form, 
and the ff has been changed in the first editor, the user is asked
whether to recover from the autosave file

Moved the groupFileMenu.open and performMenu.open to sif, 
in this way other tools like Frigg and Freja, can insert their 
own commands together with Sifs.
Take a copy these open bindings and adjust them.
This may be done differently in the future.
The same is done in siflight, compsif and usersif.

Added the following notifications to be used by Frigg:

ymersiflib.bet, fragmentBrowser:

     onAboutToCloseGroup:<
       (# fg: ^astInterface.fragmentGroup;
          OKtoClose,askSave: @boolean
            (* if OKtoClose the groupEditor is closed.
             * if askSave the user is prompted whether to save the group
             * else it is just saved (if necessary)
             *)
       enter fg[]
       do true->OKtoClose->askSave;
          INNER
       exit (OKtoClose,askSave)
       #);
     onGroupSaved:<
       (# fg: ^astInterface.fragmentGroup;
       enter fg[]
       do
          INNER
       #);
     onGroupCompiled:<
       (# fg: ^astInterface.fragmentGroup;
          OK: @boolean (* OK means no errors *)
       enter (fg[],OK)
       do
          INNER
       #);
     onGroupChecked:<
       (# fg: ^astInterface.fragmentGroup;
          OK: @boolean (* OK means no errors *)
       enter (fg[],OK)
       do
          INNER
       #);

2/4-96:

added onGroupClosed in ymersiflib (fragmentBrowser), 
which is called when sif closes a groupeditor

     onGroupClosed:<
       (# fg: ^astInterface.fragmentGroup
       enter fg[]
       do INNER
       #);

9/4-96:

cvs commit and install v5.0.2(2)

10/4-96:

Fixed the bug: Revert textediting does not reinstall the mps default 
error reporter. This gives problems during property editing.
Solution: a ref. to mps.errorReporter is kept in edenv.mpsErrorReporter.
After Revert textediting mps.errorReporter is reinstalled.

Fixed the bug: opening the property editor on an empty property list
crashes.

Fixed the bug: crashed when reopening a propertyeditor that was closed
via the System menu.

Fixed the bug: when entering an empty file name in the New dialogs the
editor crashed

Fixed the bug: when pressing a key in an empty siftexteditor the editor
crashes in onbeforechange

11/4-96:

commit and install v5.0.2(3)

11/4-96: 

added a star '*' in the Location field to indicate that a fg has been
touched

12/4-96:

reinstalled the mps errorreporter just before parsing the properties
to the prop ast

fixed the bug: enter textedit as 1. op in the editor - parse error 
revert textediting - undo - crash with ref. is none in doundo

fixed the bug: when the compiler saves a group and calls groupSaved this
is not propagated to onGroupSaved

tried to fix the EOS exception in the errorreporter, but could not reproduce
the error

commit and install v5.0.2(3)

theSemanticErrorViewer.bringtofront on semantic errors

fixed the bug: onGroupSaved is called the first time the fg is touched in 
sif

15/4-96: v5.0.2(4)

the dep.graph. is now traversed before calling the compiler.
or each file in the dg (that is open in sif)
it is checked if it was changed by another tool
If so compilation is not allowed and the user is told to leave sif

NB! I think that a groupeditor is opened for each fg in dp!!!!!
this must be changed!!!

commit and install v5.0.2(4)

>NB! I think that a groupeditor is opened for each fg in dp!!!!!
>this must be changed!!!
no my check was wrong udated and installed new version


16/4-96:

change markAsChanged to extendMarkAsChanged in editorenvboby
(New.., New BETA prog etc.)
to bind exceptions, now it does not crash if the .ast file already
exists and is non-writable, but the "changedByOtherTool" check 
gives an alert! should not happen

allow danish characters in textediting, only disallow characters < ' '

commit textediting and installed new version


18/4: 

there is also a problem with closed fragment groups after compilation
if the user changes files that are NOT open in sif, because the
compiler for such files closes the fragment group and opens a 
new one (see control-controller: grouplist.insertGroup), 
this gives problems in the sourcebrowsers dependency graph
that still has references to the old fg.
to avoid crashes the user is now notified when any files in the DG has
been changed (whether open or not in sif) and compilation is 
prohibited, but we need to solve this problem soon!!






