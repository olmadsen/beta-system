Sif agenda d. 16. april 1996.

 B:	alvorlig bug
 b:	lille bug
 I:	alvorlig uhensigtmaessighed (inconvenience)
 i:	lille uhensigtmaessighed
 e1:	rapporteret i fb. m. evaluering 1
 e2:	rapporteret i fb. m. evaluering 2
 dsa:   rapporteret i fb. m dsa, ** foreloebig er de i en mailfolder

group menu
----------
B/e2	. fejl opstod i sif da jeg gik ud i shell'en, fjernede en 
	  fragmentgruppe, gik tilbage til sif og valgte den netop fjernede 
	  fragmentgruppe.
	  Exception: Error in system call: No such file or directory
	  KOMMENTAR: denne kunne jeg ikke rekonstruere, men det skal nok 
	  passe at det sker i nogle situationer, 
          generelt maa man i oejeblikket ikke aendre aabne filer i andre tools.
b	. revert, virker ikke, da ymer stadig har en reference til 
	  fragment gruppen
	  KOMMENTAR: er disablet indtil videre
b	. Save As... burde cleare de semantiske attributter, da det kan 
	  give problemer naar man vil flg. sem. links i den nye fg.
	  Egentlig er problemet loest med en ASTGC, men det er disablet 
	  pga. problemet med fg.close.
b	. Save As.. giver nogen gange en .text fil istedet for .bet fil.
i	. evt. Close All... kommando
i/e2	. Save funktionalitet boer vaere i File menuen
i/e2	. Sletning af filer skal vaere muligt?

fragment menu
-------------
i	. undo paa gruppeeditor

property editor
---------------
B OK	. I propertyeditor: Ekspanderede til INCLUDE <<StringList>>, valgte 
	  <<StringList>> og skrev 'foo' 'fee'. Gik ned ved ctrl-t.
	  Kommentar: gaar ned med Qualification error i listSubstitute
          OK nu men der problemer med parseren mht. listZero nont.
  	  syncatno bliver 0! Ole har en loesning
b	. hvis flere propertyeditorer paa samme properties virker opdatering 
	  ikke i "de andre"
i	. efter propertyeditering, kan includes komme til at staa i bunden
i	. boer vaere et ymerLocalwindow aht. windows menu

edit menu
---------
b	. vaelges en kommentar kan man ikke vaelge insert after, 
b OK	. undo paa delete paa delliste med laengde list.noOfSons giver
	  kun 1. element
I OK	. undo mere end en gang, lav en liste istedet
I	. beregning af enable paste ikke altid lige god!
i	. userdefined templates
	. copy/paste af lexemer, menu over mulige lexemer 
i/e1	. en lille bekvemmelig ting kunne vaere hvis sif havde et punkt
	  under edit menuen, til at slette tomme saetninger i den
	  valgte blok. Menu punktet kunne hedde 'Remove Empty Forms'

texteditering
-------------
B/e1	. Udkommentering fjerner vha. teksteditering virker ikke, det 
	  udkommenterede forsvinder, do. ved del-lister 
	  KOMMENTAR: klart en fejl, 
	  WORKAROUND: teksteditor paa en stoerre struktur, i oejeblikket
	  testes der paa om resultatet af tekstedit er en kommentar, 
	  i det tilfaelde forhindres teksteditering.
B/e2	. man kan ikke aendre et tal til en tekst, 
	  f.eks. anedre 7 til N i 7 -> an_object,
	  giver parse fejl
B OK	. teksteditering af const giver virker underlig 
	  eks: (# a: (#  exit 2 #) do a->putInt; newLine #
	  hvis man retter 2 til 3 og oversaetter skrives stadig 2 ud!
	  men ASTen ser OK ud.
B OK	. efter teksteditering af leksemer kan der opstaa underlige semantisk 
	  fejl, som forsvinder hvis man laver en genparsning. eks.
	  teksteditering af evaluation i en if kan give efterflg. semantiske
	  fejl i then parten!? maaske har det ogsaa noget at goere med
	  skift fra remote til nonremote og omvendt.
          flg. har givet problemer: 
	  myObject.attribute_Containing_An_Instance_Of_A_Container.scan (# ... #)
          og theButton: @pushbutton (##), efter sletning af (##)
b/e1	. Man kan ikke kommentere noget, der ikke er detailet.
b OK	. hvis der ikke findes nogen parser, fanges det godt nok i doTextEdit men
	  det bliver ikke slaaet fra i onBeforeChange
I/e2	. det er irriterende at sif forlader textedit mode uden at parse 
	  hvis man browser til noget andet
	  KOMMENTAR: enig
I	. "stoej" efter teksteditering, isaer ved click udenfor og esc
I OK	. "space" som enter textediting boer enables igen
I OK	. ved parse fejl boer sif forsoege med mere generelle kategorier
	  OK, men vaelges foer, boer visualiseres?
I	. cut, copy, paste skal som minimum virke i teksteditoren
i	. det burde ikke vaere noedvendig med afsluttende parantes f.eks.
	  parseren burde selv foreslaa en komplet produktion ala. ArchiText

soegning
--------
I OK	. man kan ikke soege i hele fragmentgruppen 
i	. det kunne vaere rart hvis man kunne soege ogsaa i projekter, f.eks. 
	  dep. grafen.
i	. s|gning i kommentarer
i OK	. optimere search, bruger inxget, og sub, der boer vaere en seach paa
	  text i basiclib. 
i	. soegning/replace ogsaa struktureret
	  der er indtil videre lavet replace i lexemer (der dog mangler undo
	  og ikke virker paa const)
i OK	. not found burde ikke komme i dialog boks, men blot skrives i search-
	  dialogboksen

subeditor
---------
i	. saet position af vindue, der hvor cursor er
i	. boer vaere et ymerLocalwindow aht. windows menu
i	. evt. afskaffe subeditor som selvstaendigt begreb, eneste forskel 
	  paa subeditor og separate editor er subeditors listen i "moder" 
	  fragmentet. der er kun een repraesentant i formeditorlist. overvej 
	  hvad det vil betyde hvis der er "dubletter" i formeditorlist. 
	  De kan jo genkendes paa roden,  hvis man forudsaetter at der kun er 
	  en subeditor paa samme knude, kan man det?

separat editor
-------------
i OK	. boer ligesom subeditorer have samme abstraktionsniveau, som 
	  der hvor de kommer fra (hvis der er en anden aaben i forvejen)
	      
history
-------
i	. back er maaske for finkornet nogen gange, boer ogsaa vaere muligt at
	  goere det paa fragmentniveau

expand menu
-----------
i	. undo paa alternation nonterminal

view menu
---------
b OK	. semantisk link into "outside zoomed" bliver forvirret
b	. semantiske links paa primitive operationer som getLongAt findes ikke
	  men sif bliver forvirret og forlanger rechecking hvis man dobbelt-klikker
	  paa et saadant navn.
i 	. contraction paa dellister
i	. abstract og detail burde virke paa current "structure", dvs, den
	  struktur som current selection befinder sig i (jvf. preben mogensen)
	  Preben: abstract skal altid vaere abstract recursively og hvis ingen
	  i deltraet skal den tage mindste deltrae
i	. det ville varer rart hvis man kunne finde alle Attributes fragmenter
	  burde vaere muligt nu med DG.

kommentarer
-----------
i	. expand af kommentar i liste vil expande alle kommentarer i listen
i	. switch paa hver enkelt comment om vises eller ej, default boer
	  vaere afh. af laengden af kommentaren	

SLOTs menu
----------
B	. Fill Slot ved DoPart form:
	  descriptorForm skal konverteres til InsertedItem,
	  ellers opdager checkeren ikke koden
	  Generelt kan der opstaa problemer=crash hvis der kompileres
	  efter fillSLOT , et af problemerne er at body properties stadig 
	  er der 
          KOMMENTAR: er disablet pt.
b	. Hvis jeg har et SLOT ved navn 'foo', aendrer navnet til 'fee' via
	  teksteditering og derefter laver et nyt SLOT (vha. 'Make DoPart
	  SLOT...') ved navn 'foo', saa faar jeg at vide at er allerede 
	  eksisterer et SLOT ved navn 'foo'.
	  KOMMENTAR: maa kunnne loeses ved at kalde recomputeSLOTchain
	  efter editering af en SLOT
i	. optimere slot search
	
tools menu
----------
I	. output fra linker til sif
i	. execute og start valhalla er ikke lavet

starting sif
------------
i OK	. skal kunne aabne fragmentform fra kommandolinien som foer
i	. hvis Sif foo name, lav en search paa name
i/e1	. Det ville vaere rart hvis sif kunne finde ud af at laese
	  dumps. Det vil sige laese de textfiler der bliver produceret
	  når der sker en runtime fejl i et beta program. Denne
	  tekstuelle beskrivelse ville kunne pege på forskellige
	  fragment former, hvor man så kun browse rundt efter
	  fejlen. 

user interface
--------------
i OK	. kombineret edit,expand, mm. popup menu
i 	. preferencer med options f.eks. ved autosave, adaptiv pp etc.
i	. kunne vaere rart at kunne aabne en texteditor paa en almindelig fil, 
	  enten blot til at kigge i eller til at paste fra/til
i	. iconifisering/deikonifisering af vinduer
i	. fonte mm. burde kunne aendres nemt.
i	. expand menuen burde vise resultatet af en expand og ikke en 
  	  syntaktisk kategori
i	. short cuts: tab burde gaa til naeste nont.
i OK	. piletaster: burde lave pp.hit paa det punkt som tekstcursoren staar
	  paa, men man skal ogsaa kunne navigere strkturelt

guienv stuff
-----------
I  OK	. backspace eller piletaster.
	  saa vidt jeg kan se saa er det enten eller.
	  default er at man har piletaster, men for at faa backspace til 
	  at virke saetter man flg. i .Xdefaults

	  *XmText.translations:           #override\n\
   	                    <Key>Delete: delete-previous-character()
	  *XmTextField.translations:      #override\n\
  	                     <Key>Delete: delete-previous-character()
	  og saa virker piletasterne ikke mere.

I OK	. scrollIntoView etc. hvis man saetter selection paa en texteditor
          laves der automatisk scrollIntoView hvis selection.end er nedenunder
	  vindueskanten, det giver et uroligt billede. Dette kan 
          undgaas hvis man disabler automatic scrolling foer man saetter 
	  selectionen. Men det giver saa problemer hvis man foelger semantiske
          links, saa vil selektionen ikke blive vist i vinduet pga. af
	  disable af automatic scroll!
	  endelig er jeg gaaet bort fra lave gensaette selectionen ved
	  enableTarget, da det vil scrolle til selectionen, hvilket er 
	  forvirrende. Men det burde ikke vaere min opgave at saette
	  selektionen. Alt i alt skal der laves noget her!
	  Desuden skal scrollIntoView scrolle til midten af vinduet, 
	  og ikke som nu til 1. eller sidate linie
i	. case sensitive key short cuts f.eks. ctrl b og Ctrl B til finkornet 
	  og grovkornet Back
	. roen: Jeg savner lidt en geometry option i sif/freja, så man kan bestemme 
	  hvor sif kommer, og hvilken størrelse den skal have.

prettyprinter/grammar stuff
---------------------------
OK b	. ved aabning af grammatikker bliver der ikke bundet exceptions paa
	  om de eksiterer
i	. gamle grammatikker up-to-date, 
	  simula: index fejl i scanner
 	  metagrammar new: ERROR illegal syncatno for newAST:0 Yggdrasil stops
          der bliver ikke skabt en knude i doNewGroup, hvis det ikke
          er en betagrammatik?! hvorfor virker mylang etc. saa?
i	. prettyprint (ombrydning) af kommentarer
i/e1	. brugerstyret prettyprint

mps stuff 
---------
OK B	. newASTforparser overflow se nedenfor
OK B	. hvis man tekstediterer en struktur der indeholder en contractet
	  liste af erklaeringer (dvs. Attributes), kommer der en overfloedig
	  knude i ASTen, nemlig en ekstra Attributes knude, hvilket giver
	  semantiske fejl, med efterflg. pp dump, naar fejlen skal vises
	  KOMMENTAR: bliver i ojeblikket omgaaet ved at detaile Attributes 
	  automatisk
i	. ciffer i nonterminal ikke tilladt, er rapportet
	. der boer laves et AST verifikations check

ymer stuff
----------
B	. Man kan ikke reloade en fil som er blevet aendret udenfor f.eks. i 
	  emacs.
          er pt. slaaet fra saa man ikke faar lov til at compilere, da det
          vil medfoere lukke fg'er.
OK B	. Gaar ned med ref. is none paa Domain af MBSGrammarsExt
          OK iflg. Joergen
I	. revert i sif er i oejblikket slaaet fra da ymer ikke vil "give slip 
	  paa" den gamle reference

compiler integration
--------------------
OK b/e1	. der er stadig nogle compiler exceptions som ikke bliver propageret
	  til sif, f.eks. fejl ved manglende access-rettigheder f.eks. paa
	  job-filen.
I	. ved property error ved comp, udvaelger den ikke den fejlramte fg
i	. compiler options fra sif
i	. linkning bliver ikke altid udfoert (dvs. jobfilen)
	  KOMMENTAR: et memory problem, skriv i dokumentation

Freja integration
-----------------
se FrejaSifStatus

Valhalla integration
--------------------
I	. Overvej alternative abstrakte praesentationer, dvs. gemme info i SAST
	  istedet for i AST.
 	 
diverse
-------
B	. AST GC er ved at vaere vigtig 
	  KOMMENTAR: ved automatisk AST GC, skal man overveje hvad det betyder
	  for de semantiske links samt Freja. Der findes et forslag til 
	  hvordan Freja kan konverte gamle indexer til nye ved at gemme 
	  AST-stier foer aktivering af GC.
i	. det burde vaere muligt at aabne gruppefiler uden at parsning sker
	  hvis textfilen er nyere
i	. flat operation i pp eller sif!, burde vaere nemt!
i	. aendringer i en nameDecl burde automatisk aendres i alle nameAppls
i	. name completion eller navne menu med tilladte navne, ville vaere 
	  fint for at undgaa at fragmenterne skal vaere checkede hele tiden 
	  kan man maaske blot stille lokale og for nyligt brugte navne til 
	  raadighed
i	. kunne vaere rart simpelthen at kunne klikke paa den identifier, 
	  man oensker indsat!
	. det kunne vaere rart med en AST diff

documentation
-------------


brugserfaringer / ting der irriterer
---------------------------------
. scroll into view altid sidste linie! for meget scroll
. OK global search/replace (query-replace) savnes 


-------------------------------------------------------------------------

udestaaende fejl moenstre:

27 bus error
 9 grammatik versionskonflikt, kompileren gaar ned efter exception, 
   men ikke stand alone
 2 ast overflow
 4 MBSgrammarsExt
 4 backslash problemet
 4 qua fejl i codeviewer.init
 3 pp.doresize, index out of range
11 getgroup
 4 indextonode
 4 realopen

er rettet:

 3 dependency graph error

-------------------------------------------------------------------------

prioritetsliste

check! og check ogsaa ovenfor!
OK b	. undo paa delete paa delliste med laengde list.noOfSons giver
	  kun 1. element

. bedre teksteditor
. struktur search/replace
. ny selection der goer det nemmere at teksteditere
. tillad flere tekstediteringer
. ingen alert ved parse error, men kun beep
. compiler info vindue
. execute
. popupmenu ogsaa ved nont.
OK . uparrow, kan nogen gange ikke komme videre
. pg down, pg up, home, end
OK . ikke vaelge tomme knuder
NEJ, brug istedet hojrepil . ^d som alternativ til dobbeltklik
OK . cut fragment, vaelg son after
. teksteditering af remote etc.
search OK nu . search replace paa fg og dg
OK . undo
OK . ved nogen editeringsoperationer, f.eks. cut paa en liste
  skal der scrolles bagefter
. implicit parse text hvis man browser under textedit
. to edit comment.....
OK . sif foo-body
. textediting af sidste listeelement hvis paa samme linie, vist nok giver
  stoej, maaske men det er ihvertfald ogsaa hvis man teksteditere inde
  i noget som staar paa resten af linien.
  eks: (if .... xxx; if); hvis man teksteditere xxx saa giver det problemer
  men kun hvis ; er der efter xxx
. search med regulaere udtryk
. search replace paa properties i project!
. strip . hvis sidste tegn i arg
OK. forward delete ved enden af tekstediteringsomraadet giver parse problemer
  da lastPosition bliver 1 mindre for hver gang, saa det burde ikke
  tillades, men hvordan ved guienv texteditoren at det er en forward delete?
  a problem with the old replace was detected: undo is not possible

.  since the text og lexemtext was changed 
  is fixed in the global replace, but not in the local, must be done!

. scanProjects
OK . search dialogen (den nye opdager ikke altid at man skifter indhold 
  i 4. vindue?
OK . askbeforetextediting ogsaa i forbindelse med external textediting


OK Hvis man foelger et semantisk link til et fragment, hvor man har
zoomet ind paa en del ast som ikke indeholder linke-destinationen, saa
virker det ikke (Sif siger "SetFocus: Node not found") i konsollen.

Naar nu man sidder og laver mange forskellige soegninger via den nye
soegdialog (som naesten goer emacs/grep overfloedig!), og man saaledes
gentagne gange bruger 'Browse hits', saa kunne det vaere rart, hvis man
havde en historie i 'Browse hits' vinduet. Paa denne maade kunne man gaa
tilbage til tidligere soegninger og hurtigt finde de ting frem igen, som
man allerede een gang har faaet hits paa.
Indgangene i en saadan historiemenu kunne f.eks. vaere soegestrengen+
navnet paa projektet/gruppen/fragmentformen, som man soegte efter/i.

OK Hvis man har markeret et tal i Sif, saa kan man saa vidt jeg kan se ikke
komme i tekstediteringsmode, hverken ved ctrl-t eller ved bare at
begynde at taste.

 sif paa readonly filer, der ikke er parset

Hej Elmer

Jeg har bemærket et par småfejl i Sif:

Property editor problemer/fejl:

1) Lav et nyt library eller program vha Group menuen

2) Åbn property editor (det er fedt med et shortcut til den editor)

"Fejl":
 
	a) Der er highlightet for meget. Semikolonet + et mellemrum efter
	   det er også highlightet. Dette gør det umuligt at bruge ctrl-a
	   for at indsætte flere property type. At der highlightes for
	   meget, når property editoren åbnes gør sig altid gældende.

	b) Lav en <<PropertyOpt>>, gør den til INCLUDE <<StringList>>;
           Skriv en streng f.eks. '~beta/sysutils/v1.5/objinterface'
	   Mens strengen er highlightet, prøv nu, at bruge ctrl-a eller
	   ctrl-u
           Det kan man ikke.

	c) Prøv at lukke property editoren mens man er i text edit mode
	   Så forsvinder alt man har skrevet. Burde Sif ikke prøve at
	   parse?

	d) Det er ikke altid, at Fragments vindue i Sif indeholder de
	   korrekte fragmenter. Det er især René, har haft problemer.
	   Jeg kan ikke på stående fod reproducere denne fejl.

Tekstediteringsfejl:

Efter at tekstediteringen er blevet ændret, så er det blevet umuligt at
editere følgende:

(for vælgMig: 10 repeat vælgMig->rel.insertSon for)

Prøv at vælge 'vælgMig' i starten af løkken og gå i teksteditering. Man kan
ikke skrive noget.
Det var de fejl jeg har fundet på det seneste, som jeg kan huske lige
nu. Der kommer måske en mail igen om et par dage.


OK DORESIZE (undgaa dump!!)g

efter frysning:
---------------
pastepermit
smaaforbedringer af teksteditupdate
forbedring af haandtering af kommentarer

udviklingsversion:
------------------
ny prettyprinter
astGC
propertyeditor i browser, evt. foerst ved dobbeltklik

Nu jeg alligevel er i gang: Det ville være rart, hvis "Search" vinduet
kunne lukkes vha ctrl-w
