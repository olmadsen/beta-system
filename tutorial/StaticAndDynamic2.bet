ORIGIN '~beta/basiclib/v1.5/formatio'
---- program: descriptor ----
(# 
   (* Static and Dynamic references *)
   
   Point: (# X,Y: @integer;
          enter (X,Y)
          exit  (X,Y)
          #);
   
   refA: ^Point;
   P1,P2: @Point;
   
   Dump:
     (#
     do 'P1: %3d, P2: %d, refA: %d\n'->
           putformat(# do P1.X -> d; P2.X -> d; refA.x -> d #)
     #);

   
do
   'Dynamic references'->putline;
   newline;
   
   &Point[]->refA[];
   
   (1,1)->P1->P2->refA;
   Dump;
   
   (2,2)->P2;
   (3,3)->refA;
   Dump;
   
   P1[]->refA[];  Dump;
   P2[]->refA[];  Dump;
   
   (1,1)->P1; (2,2)->P2; (3,3)->refA;
   Dump;
   
   (111,333)->&Point->P1;
   Dump;
   Newline;
#)
