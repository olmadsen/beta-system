ORIGIN 'astlevel';
BODY 'private/findGrammarBody'
[[
--- INCLUDE 'applgram'
(*
 * COPYRIGHT
 *       Copyright (C) Mjolner Informatics, 1986-93
 *       All rights reserved.
 *)
--- astInterfaceLib: attributes ---
(* idx: 2 *)
findGrammar: grammarFinder
  (# notFound:< astInterfaceException
       (* invoked if the grammar cannot be found *)
       (# <<SLOT findGrammarNotFoundBody: dopart>> #);
     noParserAvailable:< astInterfaceNotification
       (* notification invoked if no parser is available for this grammar *)
       (# <<SLOT findGrammarNoParserAvailableBody:dopart>> #);
     noRegisteredGrammars :< astInterfaceException
       (* invoked if no grammars have been registered.  If grammars are
        * registered during this exception, and control is returned to
        * findGrammar, the registered grammars will be used. *)
       (# <<SLOT findGrammarNoRegisteredGrammarsBody: dopart>> #);
     accessError:< astInterfaceException
       (* invoked if any access error occurs during the registering of
        * grammars
        *);
     startParsing:< 
       (* invoked if parsing is done during the registering of grammars *)
       (# do INNER #);
     registerGrammars::<
       (# accessError:< astInterfaceException
            (* invoked if any access error occurs during the registering of
             * grammars
             *);
          startParsing:< 
            (* invoked if parsing is done during the registering of grammars *)
            (# do INNER #);
          registerGrammarsCatcher: (* Private *) @handler
          (# <<SLOT findGrammarRegisterGrammarsCatcherBody:dopart>> #);
       do <<SLOT findGrammarRegisterGrammarsBody:descriptor>>; INNER
       #);
     registeredGrammars::< (# <<SLOT findGrammarRegisteredGrammarsBody:dopart>> #);
     grammarsPATH:<
       (* the name of the file in which the valid grammars are specified.
        * Used by registerGrammars 
        *)
       (# grammars: ^text
       <<SLOT findGrammarGrammarsPATHBody:dopart>>
       exit grammars[]
       #);
     metaGrammarFile:<
       (* the name of the file in which the  meta-grammar is specified *)
       (# metaGrammar: ^text
       <<SLOT findGrammarMetaGrammarFileBody:dopart>>
       exit metaGrammar[]
       #);
     private: @ <<SLOT findGrammarPrivate: descriptor>>;
     newGrammar: (* Private *) ^applGram;
     grammarWithPath: (* Private *) ^text;
     grammarGroup, grammarDefsGroup: (* Private *) ^fragmentGroup;
     bobsFile: (* Private *) @file;
     findGrammarCatcher: (* Private *) @handler
     (# <<SLOT findGrammarCatcherBody:dopart>> #)
  do <<SLOT findGrammarDoBody: descriptor>>;
  #);
---]]
