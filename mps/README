		The Mjolner BETA Meta Programming System
		========================================
					
					
			     Release 3.1.1
							
The Meta Programming System
---------------------------

Please consult the Meta Programming System Reference Manual MIA 91-14 for a
complete description of this system.

This README file is a supplement and a up-to-date description of how to use the
Mjolner BETA Meta Programming System.

The Basic Mjolner BETA System is a prerequisite to use Mjolner BETA Meta
Programming System.


Contents
--------

The Mjolner BETA Meta Programming System consists of a series of tools and a
set of libraries.  The libraries are:
	mps:	The metaprogramming system library (astlevel, applgram, 
		findgrammar, metagram, property)
	betast:	The context-free level library for BETA (beta1)
	pretty:	The prettyprinter library (astviewer)

The tools are described in the next section.


Generating a Meta Programming System Interface
----------------------------------------------

The Tools
---------

The system contains several tools to be used to generate the metaprogramming
system interface, a parser, and a prettyprinter.

generator: takes a file with a grammar as argument and generate a 
	   metaprogramming interface and input files for the BOBS 
	   parser generator
bobsit	   takes the output file from the generator and checks whether the 
	   grammar is LALR(1) and generates parser table file and input file 
	   for the prettyprint generator tools
makepretty Generates prettyprinter grammar using the outfile from bobsit
morepretty Generates prettyprinter table using the grammar from makepretty
pp	   The table driven prettyprinter tool
dodump	   Dumps an AST in a human readable format

Using the Tools
---------------

Change directory to the directory: ~beta/demo:mps:pascal: This directory
contains an example grammar for making a small calculator.  The grammar is in
file pascal-meta.gram

First execute the generator tool:
	generator pascal

The generator will check the grammar and then generate a context-free level 
meta programming interface and the bobs input.

Resulting files:
	pascalcfl.bet  	    The context-free level meta programming interface
			    to Pascal
	pascal-meta.group   The pascal grammar AST
	pascal.group			
	pascal-parser.bobs  BOBS input file

Now run BOBS:
	bobsit pascal

First the exbobs tool wil check that grammar is LALR(1) and then it will
generate tables for the parser. The tabc tool will then generate tables for
beta bobs parser.

Resulting files:
	pascal-parser.lst   Output listing file from BOBS.
	parsin              A Pascal skeleton parser (Not used)
	pascal-parser.bobs  The parser tables

Now create the prettyprinting grammar:
	makepretty pascal

Resulting file:
	pascal-pretty.pgram The prettyprinter grammar

This file is a text file describing how to the prettyprint should look like.
This file can be edited to make the prettyprint look nicer than the default.

Now create the prettyprint tables:
	morepretty pascal

Resulting files:
	pascal-pretty.group  The prettyprint specification grammar AST
	pascal-pretty.lst    List file
	pascal-pretty.ptbl   The rpettyprint table.

Now it is possible to use the doprettyprint tool on an example file:
	pp example.p

The resulting prettyprint is printed in the window.
The prettyprint can be saved in a file using the command:
	pp example.p > example.pp

It should be obviuos that the default generated prettyprint layout is not very
pretty. Try rename the file pascal-pretty.pgram.nicer to pascal-pretty.pgram:
	mv pascal-pretty.pgram pascal-pretty.pgram.orig
	mv pascal-pretty.pgram.nicer pascal-pretty.pgram

and then run morepretty again and try a new pp on the example.


Contents List
-------------
~beta/betaast/v5.0.1		    The Meta Programming interface library
				    for BETA
~beta/bobs/v6.8			    The BETA BOBS parser
~beta/bobsgen/v1.2/{machine}exbobs  The BOBS parser generator
~beta/bobsgen/v1.2/{machine}tabc    Tool for converting BOBS parse tables 
~beta/grammars/metagram/v4.4	    The Mjolner BETA Meta Grammar
~beta/grammars/pretty/v2.3	    The Mjolner BETA Prettyprint Meta Grammar
~beta/grammars/			    Various example grammars: pascal, ecool,
				    OSDL, GDMO, document
~beta/meta/v5.0.1/{machine}gen	    The Meta Programming Generator Tool
~beta/mps/v5.0.1		    The Meta Programming interface library
~beta/pretty/v5.0.1		    The prettyprinter tool and interface library
~beta/prettygen/v5.0.1		    Tools for generating prettyprinter input
~beta/bin/generator		    Scripts for executing the Tools
~beta/bin/bobsit
~beta/bin/makepretty
~beta/bin/morepretty
~beta/bin/pp
~beta/bin/dogram
