ORIGIN '~beta/mps/astlevel';
INCLUDE 'knightinterface';
LIB_DEF 'frejaInterface' '../lib';
-- lib: Attributes --
frejaInterface:
  (# (* procedureral interface to Freja *)
     newDiagram:< object;
     showDiagram:< (#  do INNER showDiagram #);
     newFragment:<
       (# ff: ^astInterface.fragmentForm; node: ^astInterface.ast
       enter (ff[],node[])
       do INNER newFragment
       #);
     openForm:<
       (# ff: ^astInterface.fragmentForm; node: ^astInterface.ast
       enter (ff[],node[])
       do INNER openForm
       #);
     groupChecked:<
       (# semanticErrors: @boolean
       enter semanticErrors
       do INNER groupChecked
       #);
     groupSaved:<
       (# fg: ^astInterface.fragmentGroup
       enter fg[]
       do INNER groupSaved
       #);
     groupNotSaved:<
       (# fg: ^astInterface.fragmentGroup
       enter fg[]
       do INNER groupNotSaved
       #);
     closeUntouchedGroup:<
       (# fg: ^astInterface.fragmentGroup
       enter fg[]
       do INNER closeUntouchedGroup
       #);
     groupAutosaved:<
       (# fg: ^astInterface.fragmentGroup
       enter fg[]
       do INNER groupAutosaved
       #);
     propertiesChanged:<
       (# fg: ^astInterface.fragmentGroup
       enter fg[]
       do INNER propertiesChanged
       #);
     fragmentChanged:<
       (# ff: ^astInterface.fragmentForm
       enter ff[]
       do INNER fragmentChanged
       #);
     fragmentInserted:<
       (# ff: ^astInterface.fragmentForm
       enter ff[]
       do INNER fragmentInserted
       #);
     fragmentDeleted:<
       (# ff: ^astInterface.fragmentForm
       enter ff[]
       do INNER fragmentDeleted
       #);
     askBeforeTextediting:< booleanValue
       (# node: ^astInterface.ast enter node[] do INNER #);
     askBeforeTexteditingMessage:< (# msg: ^text do INNER exit msg[] #);
     setKnightInterface:< (# ki: ^knightInterface enter ki[] do INNER #)
  #)  

