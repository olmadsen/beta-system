ORIGIN '../frejalib';
-- frejalibdopart: Descriptor --
(# 
do
   &fragmentBrowser
     (#
        ymerBrowserWindow::< 
          (#
             browserTitle::  (#  do 'Freja: '->title.prepend #);
             onTerminateApplication:: 
               (# 
               do
                  false->oktoTerminate;
                  theModel.theGraphicalInterface.theDesignInterface.theFileMenu.
                    Quit.hit;
                  (* (if not sifHidden then
                   true->sifHidden;
                   theFragmentBrowser.ymerBrowser.hide;
                   'Show Sif'
                   ->
                   theModel.theGraphicalInterface.theDesignInterface.theFileMenu.
                   hideShowSifItem.rename
                   if)*)
                  
               #);
             quit::  (#  #);
             eventHandler:: 
               (# onAboutToClose::  (#  do false->okToClose #) #);
             menubarType:: 
               (#
                  frejaMenu: @simpleMenu
                    (#
                       iNewLib: @item
                         (# onSelect::  (#  do FrejaNewLib #) #);
                       iNewProgram: @item
                         (# onSelect::  (#  do FrejaNewProgram #) #);
                       iNewGraphicsPage: @item
                         (# onSelect::  (#  do FrejaNewGraphicsPage #)
                         #);
                       iOpen: @item
                         (# onSelect::  (#  do FrejaOpen #) #);
                       iClose: @item
                         (# onSelect::  (#  do FrejaClose #) #);
                       iSave: @item
                         (# onSelect::  (#  do FrejaSave #) #);
                       iSaveAs: @item
                         (# onSelect::  (#  do FrejaSaveAs #) #);
                       iRevert: @item
                         (# onSelect::  (#  do FrejaRevert #) #);
                       iShowClassDiag: @item
                         (# onSelect::  (#  do FrejaShowClassDiag #) #);
                       iShowObjectDiag: @item
                         (# onSelect::  (#  do FrejaShowObjectDiag #)
                         #);
                       iLoadGraphics: @item
                         (# onSelect::  (#  do FrejaLoadGraphics #) #);
                       iPrint: @item
                         (# onSelect::  (#  do FrejaPrint #) #);
                       iPreferences: @item
                         (# onSelect::  (#  do FrejaPreferences #) #);
                       open:: 
                         (# 
                         do
                            'New Diagram...'->iNewLib.new;
                            (* 'New Program...'->iNewProgram.new; *)
                            'New Graphics Page...'->iNewGraphicsPage.new;
                            'Open...'->iOpen.new;
                            newSeparator;
                            'Close'->iClose.new;
                            'Save'->iSave.new;
                            'Save as...'->iSaveAs.new;
                            'Revert'->iRevert.new;
                            newSeparator;
                            'Show Class Diagram...'->iShowClassDiag.new;
                            'Show Object Diagram...'->iShowObjectDiag.new;
                            newSeparator;
                            'Load Graphics...'->iLoadGraphics.new;
                            newSeparator;
                            'Print...'->iPrint.new;
                            newSeparator;
                            'Preferences...'->iPreferences.new
                         #)
                    #);
                  open::  (#  do 'Freja'->frejaMenu.new #)
               #);
             open::  (#  #)
          #);
        onAboutToCloseGroup::  (#  do false->OKtoClose->askSave #);
        isBETAsif::<  (#  do true->value #);
        frejaInclude::< 
          (# 
          do theModel.theGraphicalInterface.frejaAssociationsInclude->t[]
          #);
        init::< 
          (# 
          do
             ('Sif: Known Bugs and Inconveniences','~beta/editor/v5.2/doc/TODO')
               ->helpDocument;
             ('Freja: Known Bugs and Inconveniences',
              '~beta/freja/v3.1/FrejaSifStatus')->helpDocument;
             ('Freja FAQ','~beta/freja/doc/freja-faq.html')->helpDocument;
             
          #)
     do
        'Freja - Mjolner BETA Case Tool version 4.0'->putLine;
        '        using Mjolner BETA Browser and Editor version '->putText;
        editorVersion->putLine;
        '        integrated with the BETA Compiler version '->putText;
        compilerVersion->putLine;
        (* pahe *)
        theModel
     #)[]->theFragmentBrowser[]
#)  

