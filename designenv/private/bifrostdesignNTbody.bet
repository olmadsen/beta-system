ORIGIN 'bifrostobjectbody';
INCLUDE '~beta/bifrost/v2.3/print/printBifrostPage'
        '~beta/bifrost/v2.3/print/printLib';
-- bifrostobjectbodymdbodyCVSINFO:descriptor--
(#
do
   '$Id: bifrostdesignNTbody.bet,v 1.5 1998-04-23 11:25:05 grouleff Exp $'
     -> msg.putLine
#)

-- hideTextOutline:descriptor --
(#
do &theText.theShape.hiliteDesc[] -> theText.theShape.ho[];
#)

-- bifrostPageKeyDown:descriptor --
(#
(* enter (shiftKey,controlKey,altKey,shiftLockKey,keyNr,asciiCode) *)
do
   (if UI.veryVerbose then
       'onKeyDown: %d\n' -> putFormat(# do ch -> d #)
   if);
   (shiftKey, controlKey, metaKey, false (* shift lock *), ch, ch)
     -> theDocument.onKeyDown
#)

-- printPageExecute: DoPart --
do
   (#
      orep: [0]@integer;
      inx: @integer
   do
      (theDocument.getPages).listToNodeIDs -> orep;
      1 -> inx;
      (UI.currentBifrostPage[],'Print') -> UI.theGUI.printDocument
      (# 
         printPage::
           (# 
              bp: ^UI.bifrostPage;
              bnd: ^bp.rectangle
           do
              (* orep[inx] -> UI.getApage -> bp[]; *)
              'gHdc: %d\n' -> putFormat(# do gHdc -> d #);
              UI.currentBifrostPage[] -> bp[];
              &bp.rectangle[] -> bnd[];
              bp.theMainPicture.getBounds -> bnd;
              (-bnd.x,-bnd.y) -> bp.theMainPicture.move;
              (gHdc,bp.theScroller.contents[],NONE)
                -> bp.printBifrostPage;
              (bnd.x,bnd.y) -> bp.theMainPicture.move;
              false -> morePages;
              (* (gHdc,bp.theScroller.contents[],NONE) -> bp.printBifrostPage;
              (if inx//orep.range then
                  false -> morePages
               else
                  inx + 1 -> inx;
                  true -> morePages
 if)
 *)
           #)
      #)
   #)

-- bifrostPageLoadDrawMaybe: descriptor --
(# 
do
   theMainPicture[] -> theScroller.contents.draw 
#)

-- repositionTextAdjust: descriptor --
(#
do
#)

-- designPlatformExtentions:descriptor --
(#
do
   (if UI.verbose then
       'designPlatformExtentions start' -> putLine
   if);

   (if UI.verbose then
       'designPlatformExtentions end' -> putLine
   if);
#)
