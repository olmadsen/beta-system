ORIGIN 'sourcebrowserbody';

-- selectFragmentGroup: DoPart --
do 'Select fragmentgroup on:%s\n'
     ->putformat (#  do fgname[]->s #); 
   (fgName[],true)->AddToUsedGroups;   
   
   (fgname[],'.')->mps.ast.thepathhandler.localpath->putline;     
   
-- selectFragmentForm: DoPart --
do
   'Select fragmentform on:%s-%s\n'
     ->putformat (#  do fgname[]->s; formname[]->s #);  
   
   (if sbprivate.rootProjectID
    // sbprivate.RecentPrjId then
       (fgName[],true)->AddToUsedGroups
    // sbprivate.DotPrjID then
       (fgname[],currentDirectory)->mps.ast.thepathhandler.localpath->putline;
    // sbprivate.StdLibPrjID then
    // sbprivate.HomedirPrjID then
       '~'->putline;
       (fgname[],'~')->mps.ast.thepathhandler.localpath->putline;
   if);
   

   (* 'selectFragmentForm - GroupAdded'->putline; *)
   
   (if not
       ((sbprivate.formView.selectedFormName[] <> none ) and
       (formName[]->sbprivate.formView.selectedFormName.equal)) then
       (sbprivate.formView.root).items.scan
         (# form: ^sbprivate.formView.form; 
         do (if current## = sbprivate.formView.form## then
                current[]->form[];
                (if form.ff.name->formName.equalNCS then
                    form.select;
                    formName.copy->sbprivate.formView.selectedFormName[];
                    sbprivate.formview.theScroller[]->form.scrollIntoView
                if)
            if)
         #)
    else
       (if sbprivate.formView.selectedFormName[] <> none then
           sbprivate.formView.selectedFormName[]->putline;
       if)
   if)  
