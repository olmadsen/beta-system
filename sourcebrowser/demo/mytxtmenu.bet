ORIGIN '../ymer';
--windowlib:attributes--
txtMenu: menu
  (# cte:^asciieditor;
     getCte:<Object;
     iCut: @menuItem
       (# eventhandler::
            (# onstatus::
                 (#  do (cte[]<>NONE) and cte.cutStatus->value #);
               onselect::
                 (# do cte.doCut #) #)
       #);
     iCopy: @menuItem
       (# eventhandler::
            (# onstatus::
                 (#  do (cte[]<>NONE) and cte.copyStatus->value #);
               onselect::
                 (# do cte.doCopy #) #)
       #);
     iPaste: @menuItem
       (# eventhandler::
            (# onstatus::
                 (#  do (cte[]<>NONE) and cte.pasteStatus->value #);
               onselect::
                 (# do cte.doPaste #) #)
       #);
     iClear: @menuItem
       (# eventhandler::
            (# onstatus::
                 (#  do (cte[]<>NONE)->value #);
               onselect::
                 (# do cte.doClear #) #)
       #);
     iSave: @menuItem
       (# eventhandler::
            (# onstatus::
                 (#  do (cte[]<>NONE)->value #);
               onselect::
                 (# do cte.save #) #)
       #);
     iSaveAs: @menuItem
       (# eventhandler::
            (# onstatus::
                 (#  do (cte[]<>NONE)->value #);
               onselect::
                 (# do cte.saveAs #) #)
       #);
     iReload: @menuItem
       (# eventhandler::
            (# onstatus::
                 (#  do (cte[]<>NONE)->value #);
               onselect::
                 (# do cte.reload #) #)
       #);
     iSearch: @menuItem
       (# eventhandler::
            (# onstatus::
                 (#  do (cte[]<>NONE)->value #);
               onselect::
                 (# do cte.search #) #)
       #);
     iReplace: @menuItem
       (# eventhandler::
            (# onstatus::
                 (#  do (cte[]<>NONE)->value #);
               onselect::
                 (# do cte.replace #) #);
       #);
     iToggle: @menuItem
       (# eventhandler::
            (# onstatus::
                 (#  do (cte[]<>NONE)->value #);
               onselect::
                 (#
                 do cte.toggleAllowEdit;
                    not checked->checked
            #) #);
          open::
            (# do 'Txt Write Protection'->name; true->checked #);
       #);
     eventhandler::
       (# onSelect::
            (#
            do (if cte[]<>NONE then
                   not cte.allowEdit->iToggle.checked
               if)
            #)
       #);
     open::
       (# sep: ^separator;
       do getCte;
          iCut.open; iCut[]->append;
          iCopy.open; iCopy[]->append;
          iPaste.open; iPaste[]->append;
          iClear.open; iClear[]->append;
          &separator[]->sep[]; sep.open; sep[]->append;
          iSave.open; iSave[]->append;
          iSaveAs.open; iSaveAs[]->append;
          iReload.open; iReload[]->append;
          &separator[]->sep[]; sep.open; sep[]->append;
          iSearch.open; iSearch[]->append;
          iReplace.open; iReplace[]->append;
          &separator[]->sep[]; sep.open; sep[]->append;
          iToggle.open; iToggle[]->append;
       #);
  #);
