ORIGIN 'ymer';

BODY 'private/toolsMenuBody';
(*
 * COPYRIGHT
 *   Copyright Mjolner Informatics, 1995-96
 *   All rights reserved.
 *)

--- additionalMenus: attributes ---
toolsMenu: menu
  (# iCompiler: @menuItem
       (# eventhandler::
            (# onStatus::
                 (#
                 do (browser.currentGroup[]<>NONE) or
                    ((browser.currentProject[]<>NONE) and
                    (browser.currentProject.isRoot or
                    browser.currentProject.isExtent or
                    browser.currentProject.isDomain or
                    browser.currentProject.isDirectory))
                      ->value
                 #);
               onSelect::
                 (# compiler: <<SLOT iCompilerSlot: descriptor>>
                 do compiler
                 #)
            #);
          open:: (# do 'Compiler'->name #)
       #);
     iRepeatingCompiler: @menuItem
       (# eventhandler::
            (# onStatus::
                 (#
                 do (browser.currentGroup[]<>NONE) or
                    ((browser.currentProject[]<>NONE) and
                    (browser.currentProject.isRoot or
                    browser.currentProject.isExtent or
                    browser.currentProject.isDomain or
                    browser.currentProject.isDirectory))
                      ->value
                 #);
               onSelect::
                 (# repeatingCompiler: <<SLOT iRepeatingCompilerSlot: descriptor>>
                 do repeatingCompiler
                 #)
            #);
          open:: (# do 'Repeating Compiler'->name #)
       #);
     iExecute: @menuItem
       (# eventhandler::
            (# onStatus::
                 (#
                 do ((browser.currentProject[]<>NONE) and
                    (browser.currentProject.isRoot or
                    browser.currentProject.isExtent or
                    browser.currentProject.isDomain)) or
                    (browser.currentGroup[]<>NONE)
                      ->value
                 #);
               onSelect::
                 (# execute: <<SLOT iExecuteSlot: descriptor>>
                 do execute
                 #)
            #);
          open:: (# do 'Execute'->name #)
       #);
     iDebug: @menuItem
       (# eventhandler::
            (# onStatus::
                 (#
                 do ((browser.currentProject[]<>NONE) and
                    (browser.currentProject.isRoot or
                    browser.currentProject.isExtent or
                    browser.currentProject.isDomain)) or
                    (browser.currentGroup[]<>NONE)
                      ->value
                 #);
               onSelect:: 
                 (# debug: <<SLOT iDebugSlot: descriptor>>
                 do debug
                 #)
            #);
          open:: (# do 'Debug'->name #)
       #);
     iSif: @menuItem
       (# eventhandler::
            (# onStatus::
                 (#
                 do ((browser.currentProject[]<>NONE) and
                    (browser.currentProject.isRoot or
                    browser.currentProject.isExtent or
                    browser.currentProject.isDomain)) or
                    (browser.currentGroup[]<>NONE)
                      ->value
                 #);
               onSelect:: 
                 (# sif: <<SLOT iSifSlot: descriptor>>
                 do sif
                 #)
            #);
          open:: (# do 'Edit: Sif'->name #)
       #);
     iFreja: @menuItem
       (# eventhandler::
            (# onStatus::
                 (#
                 do ((browser.currentProject[]<>NONE) and
                    (browser.currentProject.isRoot or
                    browser.currentProject.isExtent or
                    browser.currentProject.isDomain)) or
                    (browser.currentGroup[]<>NONE)
                      ->value
                 #);
               onSelect:: 
                 (# freja: <<SLOT iFrejaSlot: descriptor>>
                 do freja
                 #)
            #);
          open:: (# do 'Edit: Freja'->name #)
       #);
     iTextEdit: @menuItem
       (# eventhandler::
            (# onStatus::
                 (#
                 do ((browser.currentProject[]<>NONE) and
                    (browser.currentProject.isRoot or
                    browser.currentProject.isExtent or
                    browser.currentProject.isDomain)) or
                    (browser.currentGroup[]<>NONE)
                      ->value
                 #);
               onSelect:: 
                 (# textEdit: <<SLOT iTextEditSlot: descriptor>>
                 do textEdit
                 #)
            #);
          open:: (# do 'Edit: Text editor'->name #)
       #);
     iInterfaceBuilder: @menuItem
       (# eventhandler::
            (# onStatus::
                 (#
                 do ((browser.currentProject[]<>NONE) and
                    (browser.currentProject.isRoot or
                    browser.currentProject.isExtent or
                    browser.currentProject.isDomain)) or
                    (browser.currentGroup[]<>NONE)
                      ->value
                 #);
               onSelect:: 
                 (# interfaceBuilder: <<SLOT iInterfaceBuilderSlot: descriptor>>
                 do interfaceBuilder
                 #)
            #);
          open:: (# do 'Edit: InterfaceBuilder'->name #)
       #);
     iAnalyze: @menuItem
       (# eventhandler::
            (# onStatus::
                 (#
                 do ((browser.currentProject[]<>NONE) and
                    (browser.currentProject.isRoot or
                    browser.currentProject.isExtent or
                    browser.currentProject.isDomain)) or
                    (browser.currentGroup[]<>NONE)
                      ->value
                 #);
               onSelect:: 
                 (# analyze: <<SLOT iAnalyzeSlot: descriptor>>
                 do analyze
                 #)
            #);
          open:: (# do 'Analyze: betawc'->name #)
       #);
     open::
       (# sep: ^menuItem
       do 'Tools'->name;
          iCompiler.open; iCompiler[]->append;
          iRepeatingCompiler.open; iRepeatingCompiler[]->append;
          iExecute.open; iExecute[]->append;
          iDebug.open; iDebug[]->append;
          iSif.open; iSif[]->append;
          iFreja.open; iFreja[]->append;
          iTextEdit.open; iTextEdit[]->append;
          iInterfaceBuilder.open; iInterfaceBuilder[]->append;
          iAnalyze.open; iAnalyze[]->append;
       #);
  #);
