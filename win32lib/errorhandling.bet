ORIGIN 'ntitypes';
(*
 * COPYRIGHT
 *       Copyright (C) Mjolner Informatics, 1994-95
 *       All rights reserved.
 *)

-- Lib: Attributes --

(****** Error handling ******************************************************)

(* void    WINAPI LogError(UINT err, void FAR* lpInfo); *)
LogError: external
(#
  in0: @integer; (* UINT *)
  in1: @integer; (* void FAR* *)
enter (in0,in1)
do callStd;
#);

(* void    WINAPI LogParamError(UINT err, FARPROC lpfn, void FAR* param); *)
LogParamError: external
(#
  in0: @integer; (* UINT *)
  in1: ##external; (* FARPROC *)
  in2: @integer; (* void FAR* *)
enter (in0,in1##,in2)
do callStd;
#);

(*Debugging support (DEBUG SYSTEM ONLY) *)

WINDEBUGINFO: cstruct
  (# bytesize::< (# do 24 -> value; #);
     flags: @long (# pos::< (# do 0 -> value; #); #); (* UINT flags *)
     dwOptions: @long (# pos::< (# do 4 -> value; #); #); (* DWORD dwOptions *)
     dwFilter: @long (# pos::< (# do 8 -> value; #); #); (* DWORD dwFilter *)
     (* achAllocModule !!!!!!!!!!!!! *) (* char    achAllocModule[8]; *)
     dwAllocBreak: @long (# pos::< (# do 12 -> value; #); #); (* DWORD dwAllocBreak *)
     dwAllocCount: @long (# pos::< (# do 16 -> value; #); #); (* DWORD dwAllocCount *)
  #);

(* BOOL    WINAPI GetWinDebugInfo(WINDEBUGINFO FAR* lpwdi, UINT flags); *)
GetWinDebugInfo: external
(#
  in0: @integer; (* WINDEBUGINFO FAR* *)
  in1: @integer; (* UINT *)
  out: @boolean; (* BOOL *)
enter (in0,in1)
do callStd;
exit out
#);

(* BOOL    WINAPI SetWinDebugInfo(const WINDEBUGINFO FAR* lpwdi); *)
SetWinDebugInfo: external
(#
  in0: @integer; (* const WINDEBUGINFO FAR* *)
  out: @boolean; (* BOOL *)
enter in0
do callStd;
exit out
#);

(* void    WINAPI FatalExit(int); *)
FatalExit: external
(#
  in0: @integer; (* int *)
enter in0
do callStd;
#);

(* void    WINAPI FatalAppExit(UINT, LPCSTR); *)
FatalAppExit: external
(#
  in0: @integer; (* UINT *)
  in1: [1] @char; (* LPCSTR *)
enter (in0,in1)
do callStd;
#);

(* BOOL    WINAPI ExitWindows(DWORD dwReturnCode, UINT wReserved); *)
ExitWindows: external
(#
  in0: @integer; (* DWORD *)
  in1: @integer; (* UINT *)
  out: @boolean; (* BOOL *)
enter (in0,in1)
do callStd;
exit out
#);

(* BOOL    WINAPI ExitWindowsExec(LPCSTR, LPCSTR); *)
ExitWindowsExec: external
(#
  in0: [1] @char; (* LPCSTR *)
  in1: [1] @char; (* LPCSTR *)
  out: @boolean; (* BOOL *)
enter (in0,in1)
do callStd;
exit out
#);

(* void    WINAPI DebugBreak(void); *)
DebugBreak: external
(#
do callStd;
#);

(* void    WINAPI OutputDebugString(LPCSTR); *)
OutputDebugString: external
(#
  in0: [1] @char; (* LPCSTR *)
enter in0
do callStd;
#);

(* UINT    WINAPI SetErrorMode(UINT); *)
SetErrorMode: external
(#
  in0: @integer; (* UINT *)
  out: @integer; (* UINT *)
enter in0
do callStd;
exit out
#);

(* DWORD WINAPI GetLastError(VOID); *)
GetLastError: external
  (# out: @integer;
  do 'GetLastError' -> callStd;
  exit out
  #);

(* VOID WINAPI SetLastError(DWORD dwErrCode); *)
SetLastError: external
  (# errCode: @integer;
  enter errCode
  do 'SetLastError' -> callStd;
  #);
