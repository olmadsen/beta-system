ORIGIN '~beta/basiclib/v1.6/file';
BODY 'private/ntfile_body';


(* The BETA interface to disk-entries in a hierarchic file system
 * files, and directories is organised as follows:
 * 
 *   DiskEntry:     Machine independent interface to entries like file and 
 *                  directories on the disk (file 'file.bet').
 *   UnixEntry:     Unix specific specialization of DiskEntry 
 *                  (file 'unixfile.bet').
 *   MacEntry:      Macintosh specific specialization of DiskEntry 
 *                  (file 'macfile.bet').
 *   NtEntry:       Windows NT / Win32 specific specialization of DiskEntry 
 *                  (file 'ntfile.bet').
 * 
 *   File:          Machine independent interface to disk files. Is a 
 *                  specialization of Stream (file 'betaenv.bet'), and contains 
 *                  a DiskEntry (file 'file.bet').
 *   UnixFile:      Unix specific specialization of File, which contains a 
 *                  UnixEntry (file 'unixfile.bet').
 *   MacFile:       Macintosh specific specialization of File, which
 *                  contains a MacEntry (file 'macfile.bet').
 *   NtFile:        Windows NT / Win32 specific specialization of File,
 *                  which contains a NtEntry (file 'ntfile.bet').
 *    
 *   Directory:     Machine independent interface to directories/folders.
 *                  Contains a DiskEntry (file 'directory.bet').
 *   UnixDirectory: Unix specific specialization of Directory, which
 *                  contains a UnixEntry (file 'unixdirectory.bet').
 *   MacDirectory:  Macintosh specific specialization of Directory, which
 *                  contains a MacEntry (file 'macdirectory.bet').
 *   NtDirectory:   Macintosh specific specialization of Directory, which
 *                  contains a MacEntry (file 'macdirectory.bet').
 * 
 * COPYRIGHT
 *       Copyright Mjolner Informatics, 1992-95
 *       All rights reserved.
 *)
(* idx=2 *)
---- LIB: attributes ----

NtEntry: DiskEntry
  (* Pattern describing unix specific attributes of disk-entries like files
   * and directories in a hierarchic unix file system
   *)
  (# 
     <<SLOT NtEntryLib: attributes>>;
     
     (* FIXME: there should be an interface to the attrib stuff
      * implemented here (setting and getting).
      *)
     
     accessTime: IntegerValue
       (* The (system) time of the last read or write manipulation of 
        * THIS(NtEntry) 
        *)
       (# error:<DiskEntryException;
       <<SLOT NtEntryAccessTime: dopart>>
       #);
     creationTime: IntegerValue
       (* System time of the last status change of THIS(NtEntry). In our
        * case a status change occurs when the following operations
        * are activated on THIS(NtEntry):
        * touch, permission.add, permission.remove
        *)
       (# error:<DiskEntryException;
       <<SLOT NtEntryCreationTime: dopart>>
       #);

    
  #); (* NtEntry *)


NtFile: File
  (* BETA interface to disk files in NT *)
  (#
     <<SLOT NtFileLib: attributes>>;
     
     EntryDesc::< NtEntry;
     
  #)
