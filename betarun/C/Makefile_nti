#
# OPTIONS
#  RTINFO:   Allow the runtime system to write out information during pe.
#  RTDEBUG:  Allow consistency check during pe.
#

bor\betarun.pe: xmakefile_nti
	$(MAKE) -f xmakefile_nti \
	-DWIN32 \
	"-DCPP=cpp32 -P-" \
	"-DC_FLAGS=-Dnti -Dnti_bor -DWIN32 -DPE" \
	"-DC_OPT=-O2 -g255 -j1"

bor\betarun.lib: xmakefile_nti
	$(MAKE) -f xmakefile_nti \
	-DWIN32 \
	"-DCPP=cpp32 -P-" \
	"-DC_FLAGS=-Dnti -Dnti_bor -DWIN32" \
	"-DC_OPT=-O2 -g255 -j1"

bor\betarun_v.lib: xmakefile_nti
	$(MAKE) -f xmakefile_nti \
	-DWIN32 \
	"-DCPP=cpp32 -P-" \
	"-DC_FLAGS=-Dnti -Dnti_bor -DRTVALHALLA -DWIN32" \
	"-DC_OPT=-O2 -g255 -j1"

bor\betarun_debug.lib: xmakefile_nti
	$(MAKE) -f xmakefile_nti \
	-DWIN32 \
	"-DCPP=cpp32 -P-" \
	"-DC_FLAGS=-Dnti -Dnti_bor -DRTDEBUG -DWIN32" \
	"-DC_OPT=-O2 -g255 -j1 -v"

ms\betarun.pe: xmakefile_nti
	$(MAKE) -nologo -f xmakefile_nti \
	CC=cl \
	"CPP=cl -P" \
	"C_FLAGS=-W3 -nologo -Dnti -Dnti_ms -DWIN32 -DPE" \
	"C_OPT=-O2"

ms\betarun.lib: xmakefile_nti
	$(MAKE) -nologo -f xmakefile_nti \
	CC=cl \
	"CPP=cl -P" \
	"C_FLAGS=-W3 -nologo -Dnti -Dnti_ms -DWIN32" \
	"C_OPT=-O2"

ms\betarun_v.lib: xmakefile_nti
	$(MAKE) -nologo -f xmakefile_nti \
	CC=cl \
	"CPP=cl -P" \
	"C_FLAGS=-W3 -nologo -Dnti -Dnti_ms -DRTVALHALLA -DWIN32" \
	"C_OPT=-O2"

ms\betarun_debug.lib: xmakefile_nti
	$(MAKE) -nologo -f xmakefile_nti \
	CC=cl \
	"CPP=cl -P" \
	"C_FLAGS=-W3 -nologo -Dnti -Dnti_ms -DRTDEBUG -DWIN32" \
	"C_OPT=-O2 -Zi"

#xmakefile_nti: ymakefile-C
#	rm -f xmakefile_nti
#	cp ymakefile-C ymakefile-C.c
#	$(CPP) ymakefile-C.c |\
#	+sed -e 's/^#.*//' -e 's/^[ \f\t][ \f\t]*$$//' -e 's/^ //' |\
#	+sed -n -e '/^..*$$/p' > xmakefile_nti
#	rm ymakefile-C.c

clean:
	if exist *.obj del /Q *.obj
	if exist data.h del /Q data.h
	if exist data.c del /Q data.c

ymakefile-C:

