#
# OPTIONS
#  RTINFO:   Allow the runtime system to write out information during pe.
#  RTDEBUG:  Allow consistency check during pe.
#

bor\betarun.pe: xmakefile
	$(MAKE) -f xmakefile \
	-DWIN32 \
	"-DC_FLAGS=-Dnti" \
	"-DC_OPT=-O2 -g255 -j1" \

bor\betarun.lib: xmakefile
	$(MAKE) -f xmakefile \
	-DWIN32 \
	"-DC_FLAGS=-Dnti" \
	"-DC_OPT=-O2 -g255 -j1 -v -y" \

bor\betarun.debug: xmakefile
	$(MAKE) -f xmakefile \
	-DWIN32 \
	"-DC_FLAGS=-DRTDEBUG -Dnti" \
	"-DC_OPT=-O2 -g255 -j1 -v -y"

ms\betarun.pe: xmakefile
	$(MAKE) -f xmakefile \
	"CC=cl" \
	"C_FLAGS=-Dnti" \
	"C_OPT=-O2"

ms\betarun.lib: xmakefile
	$(MAKE) -f xmakefile \
	"CC=cl" \
	"C_FLAGS=-Dnti" \
	"C_OPT=-O2 -Zd"

ms\betarun.debug: xmakefile
	$(MAKE) -f xmakefile \
	"CC=cl" \
	"C_FLAGS=-Dnti -DRTDEBUG" \
	"C_OPT=-O2 -Zd"

#xmakefile: ymakefile-GC
#       rm -f xmakefile
#       cp ymakefile-GC ymakefile-GC.c
#       $(CPP) ymakefile-GC.c >1
#       sed -e 's/^#.*//' <1 >2
#       sed -e 's/^[ \f\t][ \f\t]*$$//' <2 >3
#       sed -e 's/^ //' <3 >4
#       sed -n -e '/^..*$$/p' <4 >xmakefile
#       rm ymakefile-GC.c

clean:
	if exist *.obj del *.obj




