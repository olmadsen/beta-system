#
# OPTIONS
#  RTINFO:   Allow the runtime system to write out information during pe.
#  RTDEBUG:  Allow consistency check during pe.
#
betarun_pe.lib: xmakefile_nti
	$(MAKE) -nologo -f xmakefile_nti \
	"CC=cl" \
	"C_FLAGS=-W3 -nologo -Dnti -Dnti_ms -DRTVALHALLA" \
	"C_OPTA=-O2"\
	"C_OPTB=-O2"

betarun.lib: xmakefile_nti
	$(MAKE) -nologo -f xmakefile_nti \
	"CC=cl" \
	"C_FLAGS=-W3 -nologo -Dnti -Dnti_ms" \
	"C_OPTA=-O2"\
	"C_OPTB=-O2"

betarun_v.lib: xmakefile_nti
	$(MAKE) -nologo -f xmakefile_nti \
	"CC=cl" \
	"C_FLAGS=-W3 -nologo -Dnti -Dnti_ms -DRTVALHALLA" \
	"C_OPTA=-O2"\
	"C_OPTB=-O2"

betarun_ugc.lib: xmakefile_nti
	$(MAKE) -nologo -f xmakefile_nti \
	"CC=cl -O2 -Zi" \
	"C_FLAGS=-W3 -nologo -Dnti -Dnti_ms -DRTDEBUG -Ddo_unconditional_gc" \
	"C_OPTA= -O2 -Zi"\
	"C_OPTB= -O2 -Zi"

betarun_sym.lib: xmakefile_nti
	$(MAKE) -nologo -f xmakefile_nti \
	"CC=cl -O2 -Zi" \
	"C_FLAGS=-W3 -nologo -Dnti -Dnti_ms -DRTVALHALLA" \
	"C_OPTA=-O2 -Zi"\
	"C_OPTB=-O2 -Zi"

betarun_debug.lib: xmakefile_nti
	$(MAKE) -nologo -f xmakefile_nti \
	"CC=cl -O2 -Zi" \
	"C_FLAGS=-W3 -nologo -Dnti -Dnti_ms -DRTDEBUG" \
	"C_OPTA=-O2 -Zi"\
	"C_OPTB=-O2 -Zi"

#xmakefile_nti: ymakefile-GC
#       rm -f xmakefile_nti
#       cp ymakefile-GC ymakefile-GC.c
#       $(CPP) ymakefile-GC.c >1
#       sed -e 's/^#.*//' <1 >2
#       sed -e 's/^[ \f\t][ \f\t]*$$//' <2 >3
#       sed -e 's/^ //' <3 >4
#       sed -n -e '/^..*$$/p' <4 >xmakefile_nti
#       rm ymakefile-GC.c

clean:
	if exist *.obj del *.obj





