betarun.o: C/c.common.o CRUN/c.run.o GC/c.gc.o
	ld -x -r -o betarun.try C/c.common.o CRUN/c.run.o GC/c.gc.o


C/c.common.o: ALWAYS
	cd C;  make

CRUN/c.run.o: ALWAYS
	cd CRUN; make

GC/c.gc.o: ALWAYS
	cd GC; make


debug: betarun.debug

betarun.debug: C/c.common.debug CRUN/c.run.debug GC/c.gc.debug
	ld -r -o betarun.debug C/c.common.debug CRUN/c.run.debug GC/c.gc.debug

C/c.common.debug: ALWAYS
	cd C; make debug

CRUN/c.run.debug: ALWAYS
	cd CRUN; make debug

GC/c.gc.debug: ALWAYS
	cd GC; make debug

tags:
	etags /users/beta/betarun/v2.5/sun4/{GC,CRUN,C}/*.[hc]

clean: ALWAYS
	cd C; make clean
	cd CRUN; make clean
	cd GC; make clean
	- rm -f sun4.o 

ALWAYS:
