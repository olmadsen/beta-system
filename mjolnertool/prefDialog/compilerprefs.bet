ORIGIN '~beta/guienv/guienv';
INCLUDE '~beta/interfacebuilder/support/groupbox'
        '~beta/guienv/controls'
        'compileroptions'
        '~beta/interfacebuilder/support/auxcontrols';
-- windowLib: Attributes --
compilerpreferencescanvas: canvas
  (#
     prefs: ^compilerPreferences;
     savestate:
       (#  
       do booloptions.savestate; 
          generalswitches.savestate;
          linkoption.savestate;
       #);
     open::< 
       (# 
       do
          borderStyles.etchedIn->border.style;
          true->border.visible;
          (440,245)->size;
          booloptions.open;
          generalswitches.open;
          linkoption.open;
          INNER
       #);
     booloptions: @groupbox
       (#
          savestate: (* put state of buttons into preferences *)
            (# 
            do
               warnings.state->prefs.warnings;
               debuginfo.state->prefs.debuginformation;
               QuaWarnings.state->prefs.quacheck;
               
            #);
          open::< 
            (# 
            do
               'Boolean Options'->title;
               (425,110)->size;
               (5,10)->position;
               warnings.open;
               debuginfo.open;
               QuaWarnings.open;
               indexcheck.open;
               tracecheck.open;
               tracecode.open;
               groupbox1.open;
               INNER
            #);
          warnings: @checkbox
            (#
               open::< 
                 (# 
                 do
                    'Generate Warnings'->label;
                    (155,16)->size;
                    (10,25)->position;
                    prefs.warnings->state;
                    INNER
                 #)
            #);
          debuginfo: @checkbox
            (#
               open::< 
                 (# 
                 do
                    'Generate Debug Information'->label;
                    (210,16)->size;
                    (10,50)->position;
                    prefs.debuginformation->state;
                    INNER
                 #)
            #);
          QuaWarnings: @checkbox
            (#
               open::< 
                 (# 
                 do
                    'Generate QuaCheck Warnings'->label;
                    (185,16)->size;
                    (10,75)->position;
                    prefs.quacheck->state;
                    INNER
                 #)
            #);
          indexcheck: @checkbox
            (#
               open::< 
                 (# 
                 do
                    'Generate Index Check'->label;
                    (185,16)->size;
                    (220,75)->position;
                    INNER
                 #)
            #);
          tracecheck: @checkbox
            (#
               open::< 
                 (# 
                 do
                    'Trace Checking'->label;
                    (175,16)->size;
                    (220,50)->position;
                    INNER
                 #)
            #);
          tracecode: @checkbox
            (#
               open::< 
                 (# 
                 do
                    'Trace Code Generation'->label;
                    (195,16)->size;
                    (220,25)->position;
                    INNER
                 #)
            #);
          groupbox1: @groupbox
            (#
               open::< (#  do (425,40)->size; (0,130)->position; INNER #)
            #)
       #);
     generalswitches: @groupbox
       (#
          savestate:
            (#  t:^text;
            do generaloptions.contents->t[];
               t.reset;
               t[]->prefs.readArguments;
               generaloptions.contents->t[]; 
               t->prefs.cmdopt;
            #);
          open::< 
            (# t:@text;
            do
               'General Options (Commandline style):'->title;
               (425,55)->size;
               (5,180)->position;
               generaloptions.open;
               prefs.cmdopt->t;
               t[]->generaloptions.contents;
               INNER
            #);
          generaloptions: @edittext
            (#
               open::<  (#  do (400,22)->size; (10,20)->position; INNER #)
            #)
       #);
     linkoption: @groupbox
       (#
          savestate:
            (# t:^text; 
            do linkopttext.contents->t[];
               t.reset;
               t->prefs.linkopts
            #);
          open::<
            (# t:@text;
            do
               'Linkoptions'->title;
               (425,55)->size;
               (5,125)->position;
               linkopttext.open;
               prefs.linkopts->t;
               t[]->linkopttext.contents;
               INNER
            #);
          linkopttext: @edittext
            (#
               open::< (#  do (400,22)->size; (10,20)->position; INNER #)
            #)
       #)
  #)  

