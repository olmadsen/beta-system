ORIGIN '~beta/guienv/guienv';
INCLUDE 'editoroptions'
        '~beta/guienv/utils/groupbox'
        '~beta/guienv/utils/auxcontrols'
        '~beta/guienv/controls';
-- windowlib: Attributes --
editorpreferencescanvas: canvas
  (#
     prefs: ^editorPreferences;
     savestate:
       (# t: ^text; i: @integer; 
       do
          font.fontname.contents->t[];
          t.reset;
          t->prefs.StdFontFace;
          font.fontsize.contents->t[];
          t.reset;
          t.getint
            (# syntaxerror::  (#  do true->continue #)
            do (if value = 0 then 10->value if)
            #)->i;
          i->prefs.StdFontSize;
          loggroupbox.showchkbox.state->prefs.OpenLogWindow;
          loggroupbox.popupchkbox.state->prefs.PopupLogWindow
       #);
     open::< 
       (# 
       do
          borderStyles.etchedIn->border.style;
          true->border.visible;
          (440,245)->size;
          Font.open;
          loggroupbox.open;
          INNER
       #);
     Font: @groupbox
       (#
          fontsizetext: @text;
          fonttext: @text;
          open::< 
            (# 
            do
               'Font'->title;
               (415,80)->size;
               (5,5)->position;
               fontname.open;
               statictext1.open;
               choosebutton.open;
               fontsize.open;
               prefs.StdFontFace->fonttext;
               fonttext[]->fontname.contents;
               fontsizetext.clear;
               prefs.StdFontSize->fontsizetext.putint;
               fontsizetext[]->fontsize.contents;
               INNER
            #);
          chooseFont: (#  do  #);
          fontname: @edittext
            (#
               open::<  (#  do (225,21)->size; (60,20)->position; INNER #)
            #);
          statictext1: @statictext
            (#
               open::< 
                 (# 
                 do 'size'->label; (35,16)->size; (20,50)->position; INNER
                 #)
            #);
          choosebutton: @pushbutton
            (#
               eventhandler:: 
                 (# onmousedown::  (#  do choosefont;  #);  #);
               open::< 
                 (# 
                 do
                    'Choose Font'->label;
                    (90,20)->size;
                    (270,50)->position;
                    INNER
                 #)
            #);
          fontsize: @edittext
            (#
               open::<  (#  do (135,22)->size; (60,50)->position; INNER #)
            #)
       #);
     loggroupbox: @groupbox
       (#
          open::< 
            (# 
            do
               'Logwindow:'->title;
               (415,55)->size;
               (5,90)->position;
               showchkbox.open;
               prefs.OpenLogWindow->showchkbox.state;
               popupchkbox.open;
               prefs.PopupLogWindow->popupchkbox.state;
               INNER
            #);
          showchkbox: @checkbox
            (#
               open::< 
                 (# 
                 do
                    'Open logwindow at start'->label;
                    (180,16)->size;
                    (15,25)->position;
                    INNER
                 #)
            #);
          popupchkbox: @checkbox
            (#
               open::< 
                 (# 
                 do
                    'Popup logwindow at compile'->label;
                    (210,16)->size;
                    (195,25)->position;
                    INNER
                 #)
            #)
       #)
  #)  

