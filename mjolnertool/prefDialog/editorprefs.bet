ORIGIN '~beta/guienv/guienv';
INCLUDE 'editoroptions'
        '~beta/interfacebuilder/support/groupbox'
        '~beta/interfacebuilder/support/auxcontrols'
        '~beta/guienv/controls';
-- windowlib: Attributes --
editorpreferencescanvas: canvas
  (#
     prefs: ^editorPreferences;
     savestate:
       (# t: ^text; i: @integer; 
       do
          font.fontname.contents->t[];
          t.reset;
          t->prefs.StdFontFace;
          font.fontsize.contents->t[];
          t.reset;
          t.getint
            (# syntaxerror:: (#  do true->continue #)
            do (if value = 0 then 10->value if)
            #)->i;
          i->prefs.StdFontSize
       #);
     open::< 
       (# 
       do
          borderStyles.etchedIn->border.style;
          true->border.visible;
          (440,245)->size;
          Font.open;
          INNER
       #);
     Font: @groupbox
       (#
          open::< 
            (# 
            do
               'Font'->caption;
               (415,80)->size;
               (5,5)->position;
               fontname.open;
               statictext1.open;
               choosebutton.open;
               fontsize.open;
               INNER
            #);
          chooseFont: (#  do  #);
          fontname: @edittext
            (#
               open::<  (#  do (225,21)->size; (60,20)->position; INNER #)
            #);
          statictext1: @statictext
            (#
               open::< 
                 (# 
                 do 'size'->label; (35,16)->size; (20,50)->position; INNER
                 #)
            #);
          choosebutton: @pushbutton
            (#
               eventhandler:: 
                 (# onmousedown::  (#  do choosefont;  #);  #);
               open::< 
                 (# 
                 do
                    'Choose Font'->label;
                    (90,20)->size;
                    (270,50)->position;
                    INNER
                 #)
            #);
          fontsize: @edittext
            (#
               open::<  (#  do (135,22)->size; (60,50)->position; INNER #)
            #)
       #)
  #)  

