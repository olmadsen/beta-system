ORIGIN '~beta/basiclib/v1.4/betaenv';
BODY 'private/namevaluedbbody';

--- lib:attributes ---

(* NameValueDB
 * ===========
 * 
 * A NameValueDB keeps track of sets of textual (name,value) pairs.
 * 
 * init initializes or reinitializes the db.
 * 
 * add adds or overwrites an existing (name,value) pair.
 * 
 * remove removes a (name,value) pair.
 * 
 * scan scans the (name,value) pairs in the database.
 *)

NameValueDB:
  (# init:< (# <<SLOT NameValueDBinit:dopart>> #);
     add:
       (# name,value: ^Text;
       enter (name[],value[])
       <<SLOT NameValueDBadd:dopart>>   
       #);
     remove:
       (# name: ^Text;
       enter name[]
       <<SLOT NameValueDBremove:dopart>>
       #);
     scan:
       (# curname,curvalue: ^Text;
       <<SLOT NameValueDBscan:dopart>>
       #);
     size: IntegerValue
       (# 
       <<SLOT NameValuDBsize:dopart>>
       #);
     nvprivate: @<<SLOT NameValueDBprivate:descriptor>>
  #);
