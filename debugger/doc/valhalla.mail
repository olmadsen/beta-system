From sbrandt@daimi.aau.dk Thu Jan  7 12:44:51 1993
Received: from amparo.daimi.aau.dk (blanche.daimi.aau.dk) by daimi.aau.dk with SMTP id AA08142
  (5.65c8/IDA-1.4.4); Thu, 7 Jan 1993 12:44:35 +0100
Received: by amparo.daimi.aau.dk (5.64/1.34)
	id AA05617; Thu, 7 Jan 93 12:44:34 +0100
From: sbrandt@daimi.aau.dk
Message-Id: <9301071144.AA05617@amparo.daimi.aau.dk>
Subject: Re:  valhalla+
To: kjm@mjolner.dk (Kim Jensen Moeller)
Date: Thu, 7 Jan 93 12:44:32 MET
Cc: datpete@daimi.aau.dk, kjm@daimi.aau.dk, ess@daimi.aau.dk, jlk@daimi.aau.dk,
        olm@daimi.aau.dk, sbrandt@daimi.aau.dk
In-Reply-To: <9301071131.AA07165@mjolner.dk>; from "Kim Jensen Moeller" at Jan 7, 93 11:31 am
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

> 
> Vil det sige at jeg kan sende Valhalla ud i den store verden??
> 

Det er der saadan set kun 3 problemer i:

  1. Der er ingen manual. 
     (Men jeg kan da godt skrue en funktionsoversigt sammen i morgen.)

  2. Kun jeg selv har proevet den.
     (Proev det!)

  3. valhalla+ antager at det debuggede program er oversat med
     v4.4.1 af compileren. Hvis dette ikke er tilfaeldet saettes
     det initielle breakpoint forkert. Ogsaa dette kan dog loeses
     i morgen. Problemet skyldes de ekstra instruktioner indsat
     for at cleare i3 og i4 i prologen til koden for en descriptor.
     Ved at bestemme det initielle breakpoint paa en anden
     (mere besvaerlig) maade kan det dog omgaas.

Saamaend.

-- Soren

From olm@daimi.aau.dk Thu Jan  7 12:16:15 1993
Received: from sofie.daimi.aau.dk by daimi.aau.dk with SMTP id AA07338
  (5.65c8/IDA-1.4.4); Thu, 7 Jan 1993 12:16:03 +0100
Received: by sofie.daimi.aau.dk (5.64/1.34)
	id AA14503; Thu, 7 Jan 93 12:16:01 +0100
Date: Thu, 7 Jan 93 12:16:01 +0100
From: olmadsen@daimi.aau.dk
Message-Id: <9301071116.AA14503@sofie.daimi.aau.dk>
To: datpete@daimi.aau.dk, ess@daimi.aau.dk, jlk@daimi.aau.dk, kjm@daimi.aau.dk,
        olm@daimi.aau.dk, sbrandt@daimi.aau.dk
Subject: Re:  valhalla+
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Fint! HP UX 7 er ikke droppet, der ern beta4.4+ til den ogsaa
,men pt er intet ovrsat i basiclib/v1.3 sporet.

Men det kan godt vaere at vi snart blir nodt til at droppe
HP UX 7

---olm

From sbrandt@daimi.aau.dk Thu Jan  7 11:51:46 1993
Received: from amparo.daimi.aau.dk (blanche.daimi.aau.dk) by daimi.aau.dk with SMTP id AA06646
  (5.65c8/IDA-1.4.4); Thu, 7 Jan 1993 11:51:36 +0100
Received: by amparo.daimi.aau.dk (5.64/1.34)
	id AA05170; Thu, 7 Jan 93 11:51:35 +0100
From: sbrandt@daimi.aau.dk
Message-Id: <9301071051.AA05170@amparo.daimi.aau.dk>
Subject: valhalla+
To: datpete@daimi.aau.dk, kjm@daimi.aau.dk, ess@daimi.aau.dk, jlk@daimi.aau.dk,
        olm@daimi.aau.dk, sbrandt@daimi.aau.dk
Date: Thu, 7 Jan 93 11:51:33 MET
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO


Valhalla er nu flyttet til basiclib v1.3 og har saa vidt 
jeg ved ingen deciderede fejl. Den er dog kun klar til SUN-4, 
men medmindre compileren genererer forkerte stabs paa HP, vil 
jeg tro at versioner til SUN-3 og HP foelger hurtigt. (dvs i morgen)
Er HPUX 7 ioevrigt droppet eller hva?

Det sidste stykke tid er gaaet med at faa de nye soege metoder til at
fungere og rette diverse smaafejl (qua fejl og den slags). 
Valhalla kan nu soege efter udtryk paa 2 forskellige maader.
Begge startes v.h.a. knapper i codevieweren:

Static Search:
   Kan udfoeres hvis der i codevieweren er selecteret et imperativ.
   (Naar brugeren klikker i codevieweren selekteres naermeste
    imperativ automatisk. (Som i Sif, men altsaa kun imperativer))
   Brugeren kan saa skrive et udtryk evt. indeholdende remote access,
   og hvis det findes vil der aabnes en codeviewer med det tilsvarende pattern.
   Soegningens scope er som om det skrevne udtryk stod paa den plads hvor
   det i oejeblikket selekterede imperativ staar. (Pyh). Det betyder altsaa at 
   resultatet af soegningen kan afhaenge af hvad der i oejeblikket er selekteret.

Dynamic Search:
   Kan udfoeres hvis codeVieweren viser 'current code'. Soegningen vil saa foregaa
   med udgangspunkt i current object og den i oejeblikket eksekverende descriptor.
   Hvis soegningen resulterer i et object, vil der aabnes en objectviewer der viser
   objektet. Hvis soegningen resulterer i et pattern aabnes en kodeviewer med dette
   pattern.
   

Den nye valhalla startes med enten 

  valhalla+ <programnavn>

eller blot

  valhalla+


Proev det!

-- Soren

From sbrandt@daimi.aau.dk Wed Jan  6 14:49:54 1993
Received: from amparo.daimi.aau.dk (blanche.daimi.aau.dk) by daimi.aau.dk with SMTP id AA21575
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Wed, 6 Jan 1993 14:49:50 +0100
Received: by amparo.daimi.aau.dk (5.64/1.34)
	id AA00393; Wed, 6 Jan 93 14:49:48 +0100
From: sbrandt@daimi.aau.dk
Message-Id: <9301061349.AA00393@amparo.daimi.aau.dk>
Subject: Endnu en qua fejl i betasematt (v3.7)
To: kjm@daimi.aau.dk (Kim Jensen M|ller), sbrandt@daimi.aau.dk (S|ren Brandt)
Date: Wed, 6 Jan 93 14:49:46 MET
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO


Denne gang er det betasematt-nameDclAttributes' findDescriptor.
Den har qua fejl hvis 'sort' er 'patternDecl' og der 
tale om en unexpanded. Altsaa hvis nd skyldes noget i
stil med:

   (# dyt: <<SLOT humle:descriptor>>;
      ...
   #)

skal man undlade at bruge nd.findDescriptor.
Den letteste maade at rette det paa vil simpelthen vaere
at lade 'theDescriptor' vaere en ast og ikke en expanded.

-- Soren

From sbrandt@daimi.aau.dk Mon Oct 19 14:19:22 1992
Received: from amparo.daimi.aau.dk (blanche.daimi.aau.dk) by daimi.aau.dk with SMTP id AA21840
  (5.65c8/IDA-1.4.4); Mon, 19 Oct 1992 14:19:18 +0100
Received: by amparo.daimi.aau.dk (5.64/1.34)
	id AA07589; Mon, 19 Oct 92 14:19:16 +0100
From: sbrandt@daimi.aau.dk
Message-Id: <9210191319.AA07589@amparo.daimi.aau.dk>
Subject: valhalla
To: datpete@daimi.aau.dk, kjm@daimi.aau.dk, ess@daimi.aau.dk, jlk@daimi.aau.dk,
        olm@daimi.aau.dk, sbrandt@daimi.aau.dk,
        jnp@daimi.aau.dk (J|rgen N|rgaard),
        malhotra@daimi.aau.dk (Jawahar Malhotra)
Date: Mon, 19 Oct 92 14:19:13 MET
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO


I forbindelse med flytning af valhalla til basiclib/v1.1 og senere v1.2,
har jeg netop frosset en version 1.0 af valhalla. Denne version
koerer paa Sun3, HPUX-7 og HPUX-8 og skal kaldes med 'valhalla'.
Indtil videre er der ikke noget der hedder 'valhalla+' eller
'valhalla++'

-- Soren

From ess@mjolner.dk Wed Sep 23 09:50:38 1992
Received: from mjolner.dk by daimi.aau.dk with SMTP id AA29267
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Wed, 23 Sep 1992 09:50:34 +0200
Received: by mjolner.dk (5.51.2/SMI-3.2)
	id AA05441; Wed, 23 Sep 92 09:44:07    
Date: Wed, 23 Sep 92 09:44:07    
From: ess@mjolner.dk (Elmer Soerensen Sandvad)
Message-Id: <9209230844.AA05441@mjolner.dk>
To: sbrandt@mjolner.dk
Subject: valhalla
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Error in stringArray. Exceeding arraySize

ved Display Stack

/Elmer

From datpete Tue Sep  1 14:54:38 1992
Received: from sofie.daimi.aau.dk by daimi.aau.dk with SMTP id AA29797
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Tue, 1 Sep 1992 14:54:37 +0200
Received: by sofie.daimi.aau.dk (5.64/1.34)
	id AA21847; Tue, 1 Sep 92 14:54:35 +0200
From: datpete
Message-Id: <9209011254.AA21847@sofie.daimi.aau.dk>
Subject: Re: RTS identifiere. Betydning.
To: sbrandt@daimi.aau.dk (sbrandt)
Date: Tue, 1 Sep 92 14:54:33 METDST
In-Reply-To: <9208311211.AA29868@amparo.daimi.aau.dk>; from "sbrandt" at Aug 31, 92 2:11 pm
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

sbrandt writes:
> 
> Hej Peter,
> 
> Da DOT (Debugger Object Table) vel tidligst kommer i funktion fra RTS v2.5 
> sidder jeg i oejeblikket og skal lave en foreloebig loesning paa problemet 
> med at objecter som debuggeren har vinduer paa kan finde paa at flytte sig.
> 
> I den forbindelse vil jeg gerne vide hvad de praecise betydninger af nedennaevnte
> identifiere er:
> 
> IOALimit, -- Max Stoerrelse af IOA omraade?
|jeblikkelige |vre gr{nse for IOA. {ndres ved hver IOAGc.

> IOA,      -- Start paa IOA omraade?
> IOATop    -- Slut paa IOA omraade?
Der i IOA, hvor der i |jeblikket er fyldt op til.
Der g{lder IOA <= IOATop <= IOALimit

> 
> AOABaseBlock, -- ??
F|rste block i listen af AOA blokke, hver af st|rrelse AOABlockSize

> AOATopBlock,  -- ??
Sidste s}danne block

> 
> LVRABaseBlock, -- ??
> LVRATopBlock   -- ??
Samme som for AOA

   Kan disse fire benyttes til at afgoere om et givet object
>      		       befinder sig i enten AOA- eller LVRA omraadet?
> 		       Hvordan, i givet fald?
> 
Se i inLVRA() i lvra.c, inAOA i macro.h i RT systemet



> NumIOAGc, NumAOAGc, NumLVRAGc: -- Antal foretagne garbage collections af de forsk. typer.
> 
Yes, opdateres som det f|rste i hver s}dan GC.


> 
> Hvad jeg oensker er, givet en object adresse at finde ud af i hvilket omraade objectet
> befinder sig. Kommer der saa en GC i det omraade hvor objectet befinder sig, (dette kan
> vel ses af at den tilsvarende Num*Gc er vokset) maa objectet markeres som 
> "Formentlig Garbage" og vil derfor ikke laengere vaere tilgaengeligt via det aabnede
> vindue.
> 
> Kan du udstyre mig med den noedvendige viden for at opnaa dette?

H}ber ovenst}ende er nok, ellers sp|rg igen.

> 
> 
> -- Soren
> 

Peter

From sbrandt Mon Aug 31 16:08:52 1992
Received: from amparo.daimi.aau.dk (blanche.daimi.aau.dk) by daimi.aau.dk with SMTP id AA18037
  (5.65c8/IDA-1.4.4); Mon, 31 Aug 1992 16:08:49 +0200
Received: by amparo.daimi.aau.dk (5.64/1.34)
	id AA02053; Mon, 31 Aug 92 16:08:47 +0200
From: sbrandt
Message-Id: <9208311408.AA02053@amparo.daimi.aau.dk>
Subject: NameDecl.access ??
To: olm@daimi.aau.dk (Ole Lehrmann Madsen)
Date: Mon, 31 Aug 92 16:08:43 METDST
Cc: sbrandt@daimi.aau.dk (S|ren Brandt)
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Hej Ole,

Spoergsmaal:

Givet en NameDcl nd, hvad er saa betydningen af
nd.access?

Der er tale om en semantisk attribut defineret i 
betasematt.

-- Soren

From olm Mon Aug 31 17:30:45 1992
Received: from sofie.daimi.aau.dk by daimi.aau.dk with SMTP id AA20581
  (5.65c8/IDA-1.4.4); Mon, 31 Aug 1992 17:30:44 +0200
Received: by sofie.daimi.aau.dk (5.64/1.34)
	id AA16735; Mon, 31 Aug 92 17:30:43 +0200
Date: Mon, 31 Aug 92 17:30:43 +0200
From: olmadsen
Message-Id: <9208311530.AA16735@sofie.daimi.aau.dk>
To: olm@daimi.aau.dk, sbrandt@daimi.aau.dk
Subject: Re:  NameDecl.access ??
Cc: olmadsen@daimi.aau.dk, sbrandt@daimi.aau.dk
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

access = 0	objektet er allokeret inline i det omsluttende obj.
		ex.:  i: @integer; x: @T
access = 1	objektet er en konstant reference.
		ex.:  x: @ <<SLOT ...>>; y: @T hvor T er virtuel
Access = 2	objektet er en variable ref.
		ex.:  R: ^ T

Den sidste kraever altsaa NONe check
---olm


From sbrandt Mon Aug 31 14:11:27 1992
Received: from amparo.daimi.aau.dk (blanche.daimi.aau.dk) by daimi.aau.dk with SMTP id AA14207
  (5.65c8/IDA-1.4.4); Mon, 31 Aug 1992 14:11:23 +0200
Received: by amparo.daimi.aau.dk (5.64/1.34)
	id AA29868; Mon, 31 Aug 92 14:11:21 +0200
From: sbrandt
Message-Id: <9208311211.AA29868@amparo.daimi.aau.dk>
Subject: RTS identifiere. Betydning.
To: datpete@daimi.aau.dk (Peter Andersen)
Date: Mon, 31 Aug 92 14:11:19 METDST
Cc: sbrandt@daimi.aau.dk (S|ren Brandt)
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Hej Peter,

Da DOT (Debugger Object Table) vel tidligst kommer i funktion fra RTS v2.5 
sidder jeg i oejeblikket og skal lave en foreloebig loesning paa problemet 
med at objecter som debuggeren har vinduer paa kan finde paa at flytte sig.

I den forbindelse vil jeg gerne vide hvad de praecise betydninger af nedennaevnte
identifiere er:

IOALimit, -- Max Stoerrelse af IOA omraade?
IOA,      -- Start paa IOA omraade?
IOATop    -- Slut paa IOA omraade?

AOABaseBlock, -- ??
AOATopBlock,  -- ??

LVRABaseBlock, -- ??
LVRATopBlock   -- ??   Kan disse fire benyttes til at afgoere om et givet object
     		       befinder sig i enten AOA- eller LVRA omraadet?
		       Hvordan, i givet fald?

NumIOAGc, NumAOAGc, NumLVRAGc: -- Antal foretagne garbage collections af de forsk. typer.


Hvad jeg oensker er, givet en object adresse at finde ud af i hvilket omraade objectet
befinder sig. Kommer der saa en GC i det omraade hvor objectet befinder sig, (dette kan
vel ses af at den tilsvarende Num*Gc er vokset) maa objectet markeres som 
"Formentlig Garbage" og vil derfor ikke laengere vaere tilgaengeligt via det aabnede
vindue.

Kan du udstyre mig med den noedvendige viden for at opnaa dette?


-- Soren

From kjm@mjolner.dk Thu Jul 23 12:04:38 1992
Received: from mjolner.dk by daimi.aau.dk with SMTP id AA09271
  (5.65c8/IDA-1.4.4); Thu, 23 Jul 1992 12:04:28 +0200
Received: by mjolner.dk (5.51.2/SMI-3.2)
	id AA06317; Thu, 23 Jul 92 12:00:31 +0100
Date: Thu, 23 Jul 92 12:00:31 +0100
Message-Id: <9207231100.AA06317@mjolner.dk>
To: "Baiss E. Magnusson" <73230.3225@compuserve.com>, <support@mjolner.dk>
From: kjm@mjolner.dk
Subject: Re: Beta
Cc: ess@mjolner.dk, olm@daimi.aau.dk, jlk@daimi.aau.dk, datpete@daimi.aau.dk,
        sbrandt@daimi.aau.dk
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Dear Baiss,

Thank you for the quistions.

>Dear Beta friends,
>
>I have some questions and comments about Beta as defined by the DRAFT dated
>Sept. 22, 1991.
>
>First, about your progress, when do you expect to have the following available
>in the Macintosh version:
>1) Implementation of pattern <REAL>

The next release of the beta compiler (v4.4) will include a full implementation
of the real pattern. The current release (v4.3.1) includes a preliminary
implementation of the real pattern (with a procedural interface to floating-point operations),
as defined in fragment ~beta/betaenv/v4.2/reals.bet

>2) A debugger for Beta on the Mac

This is the most complex feature of any macintosh programming environment.
Currently, we have not started the development of a Macintosh Debugger,
and we like to complete the development of the Unix debugger before starting
on the Macintosh debugger.

Maybe we could use SADE of MPW, but we hove not investigated this yet.

>Secondly, about the Macintosh class <MacEnv>, I found in too many of the
>examples use of absolute coordinates to describe actions. One never uses
>absolute coordinates in a real Macintosh program but instead first uses Gestalt
>calls to determine the nature of the machine the user has and then uses named
>constants to reference from. Or, in all actions within a given window the
><portRect> of the window (or pane of the window) is referenced from.

Thank you for the suggestion. The coordinates used in the examples,
are local inside the window or inside the canvas of the window.

Gestalt is a System 7.0 feature, and we do not like the Mjolner BETA system to
be dependent of System 7.0, since many still uses System 6.0.
Still, it is just small examples.

>Thirdly, I wonder if the following syntax is changeable. Could the character
>sequence // be defined to mean that everthing on the rest of the line is a
>comment, and could the sequence == be used as // is now currently used?

Thank you for the idea. Some time ago the // actually was = but it was
changed due to problems with the parser and because the // symbol looks
nicer and is more visible in the code.

We do not currently plan to change the syntax, that will influence thousands
of lines of BETA code.

>Fourthly, on page 51 of the Beta book is the line of code:
>do Y -> &Reciproc -> (X,X);
>It seems to me to be ambiguous about what X will contain after the assignment,
>does it have the input value Y or the reciprocal of Y?

It is a typo in the book. The value of X after the evaluation is undefined.
It shoul be something like:
do Y -> &Reciproc -> (X1,X2);

Thank you for noticing the error.



Sincerely,


Kim Jensen Moller                                (email: kjm@mjolner.dk)
Mjolner Informatics ApS
Science Park Aarhus                              Phone: +45 86202000
DK-8000 Aarhus C                                 Fax:   +45 86201222
Denmark.
     	


From datpete Fri Jul 10 11:04:26 1992
Received: from torun.daimi.aau.dk (muriel.daimi.aau.dk) by daimi.aau.dk with SMTP id AA21620
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Fri, 10 Jul 1992 11:04:25 +0200
Received: by torun.daimi.aau.dk (5.64/1.34)
	id AA20475; Fri, 10 Jul 92 11:04:23 +0200
From: datpete
Message-Id: <9207100904.AA20475@torun.daimi.aau.dk>
Subject: valhalla: q => y/n
To: sbrandt@daimi.aau.dk (S|ren Brandt)
Date: Fri, 10 Jul 92 11:04:22 METDST
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

the subject says it all, eller hva'?

Blot endnu et forslag til listen: Hvis man taster 'q' i debuggeren, b|r du lige
instantiere en PromptForBoolean og sp|rge om man nu ogs} mener det.

Peter

From sbrandt Wed Jun 24 14:54:14 1992
Received: from torun.daimi.aau.dk (cora.daimi.aau.dk) by daimi.aau.dk with SMTP id AA10307
  (5.65c8/IDA-1.4.4); Wed, 24 Jun 1992 14:54:12 +0200
Received: by torun.daimi.aau.dk (5.64/1.34)
	id AA24563; Wed, 24 Jun 92 14:54:10 +0200
From: sbrandt
Message-Id: <9206241254.AA24563@torun.daimi.aau.dk>
Subject: Re: debugger problemer
To: jnorgaard@daimi.aau.dk (jnorgaard)
Date: Wed, 24 Jun 92 14:54:08 METDST
Cc: sbrandt@daimi.aau.dk (S|ren Brandt)
In-Reply-To: <9206220744.AA09818@amparo.daimi.aau.dk>; from "jnorgaard" at Jun 22, 92 9:44 am
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Hej Jorgen,

Jeg mener nu at have faaet has paa det problem i debuggeren der
forhindrede dig i at debugge servermain. Du er velkommen til at
forsoege dig ved lejlighed. Du skal stadig benytte bdgtool+.

Der er endvidere sket den vigtige aendring at keyboard-acceleratorer 
ogsaa virker i code- og object-viewere, saa du ikke skal have musen
op i hoved-vinduet hver gang du skal udfoere en kommando.

-- Soren

From sbrandt Mon Jun 22 14:59:43 1992
Received: from stinne.daimi.aau.dk by daimi.aau.dk with SMTP id AA27883
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Mon, 22 Jun 1992 14:59:36 +0200
Received: by stinne.daimi.aau.dk (5.64/1.34)
	id AA16301; Mon, 22 Jun 92 14:59:34 +0200
From: sbrandt
Message-Id: <9206221259.AA16301@stinne.daimi.aau.dk>
Subject: Report on Mjolner BETA Debugger
To: Staffan.Skogby@eua.ericsson.se
Date: Mon, 22 Jun 92 14:59:32 METDST
Cc: sbrandt@daimi.aau.dk (S|ren Brandt)
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Hi Staffan,

Thankyou for Your comments on the Mjolner BETA Debugger.

As I have been responsible for the debugger during the past 3
months, I will try to answer Your comments the best I can.

Let me start by making clear that You are perfectly right. The version
of the debugger You have been using indeed is a very preliminary
and unstable one and has not been considered ready for actual use.
In the version that is currently being developed, a great deal of
the problems You mention have already been solved:

   The cases You report that makes the debugger terminate unexpectedly
   have all been solved by now.

   It is, off course, no longer a problem to set breakpoints.

   The speed of a number of operations has been improved significantly.
   However, some aspects of efficiency still needs to be considered, in
   particular the time of startup may need further improvement.

   If a debugged program terminates normally you may rerun it, and if
   it terminates abnormally you may inspect the program state upon
   error and eventually rerun it.

   A manual is currently being written.

Since the version You evaluated a number of problems have been
solved, and work is being done to improve the user interface of the
debugger. There is however, at least two things You mention that will
be taken into consideration in the further development of the debugger.
These are:

   The relationships between the different windows is not reflected very
   well (some would say not at all), and we will consider how to improve
   this.

   Automatic update of object-viewers to reflect the current state will
   probably be implemented. It may however be optional, as it could give
   performance problems if a lot of object viewers had to be updated
   every time the debugger gets control.

Once again thankyou for Your comments on the debugger.

Yours sincerely,
Soren Brandt

From jnp Mon Jun 22 09:44:45 1992
Received: from amparo.daimi.aau.dk (louise.daimi.aau.dk) by daimi.aau.dk with SMTP id AA17801
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Mon, 22 Jun 1992 09:44:43 +0200
Received: by amparo.daimi.aau.dk (5.64/1.34)
	id AA09818; Mon, 22 Jun 92 09:44:41 +0200
Date: Mon, 22 Jun 92 09:44:41 +0200
From: jnorgaard
Message-Id: <9206220744.AA09818@amparo.daimi.aau.dk>
To: sbrandt@daimi.aau.dk
Subject: debugger problemer
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO



bdgtool++ problemer :


HPUX7 (m}ske ogs} 8):

  Ved    
    Beta execution aborted: Repetition index out of range.
  erkl{rer bdg 'execution terminated' eller noget i den stil
  men current object(&code) er ikke hvor det skete, men (for
  ~beta/oodb/interface/v0.1.1/servermain) dette yderste objekt.

HPUX7 (m}ske ogs} 8):
  (tidligere rapporteret i kompatibel ordlyd)
  I ~beta/oodb/interface/v0.1.1/servermain, (k|rt sammen med
  ~beta/hypermedia/v0.10.3/hypermedia). N}r ovenn{vnte fejl er
  opst}et v{lg 'current object' og derp} 'origin' for dette.

  Vent l a n g tid og bdg d|r med/af:
#IOA Heap space full, req.: 105492.



/j|rgen

PS Vil du ikke nok fort{lle n}r du mener at have rettet fejl
og i hvilken version? Det er s} muligt at pr|ve {ndringerne ...

From sbrandt Sat Jun 20 21:25:16 1992
Received: by daimi.aau.dk id AA11267
  (5.65c8/IDA-1.4.4 for sbrandt); Sat, 20 Jun 1992 21:25:14 +0200
From: S|ren Brandt <sbrandt>
Message-Id: <199206201925.AA11267@daimi.aau.dk>
Subject: Svar til debugger kommentarer
To: sbrandt (S|ren Brandt)
Date: Sat, 20 Jun 92 21:25:13 BST
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Hej Elmer,

Nedenfor mit svar til debugger kritikken. Hvis du foeler at der er
nogen uheldige formuleringer er du velkommen til at aendre dem.
Ligeledes er jeg ikke klar over hvilken helhed det skal indgaa i,
saa du kan jo blive noedt til at aendre nogle ting i den forbindelse.

-- Soren


-------------------------

Thankyou for Your comments on the Mjolner BETA Debugger.

Let me start by making clear that You are perfectly right. The version
of the debugger You have been using indeed is a very preliminary
and unstable one and has not been considered ready for actual use.
In the version that is currently being developed, a great deal of
the problems You mention have already been solved:

   The cases You report that makes the debugger terminate unexpectedly
   have all been solved by now.

   It is, off course, no longer a problem to set breakpoints.

   The speed of a number of operations has been improved significantly.
   However, some aspects of efficiency still needs to be considered, in
   particular the time of startup may need further improvement.

   If a debugged program terminates normally you may rerun it, and if
   it terminates abnormally you may inspect the program state upon
   error and eventually rerun it.

   A manual is currently being written.

Since the version You evaluated a number of problems have been
solved, and work is being done to improve the user interface of the
debugger. There is however, at least two things You mention that will
be taken into consideration in the further development of the debugger.
These are:

   The relationships between the different windows is not reflected very
   well (some would say not at all), and we will consider how to improve
   this.

   Automatic update of object-viewers to reflect the current state will
   probably be implemented. It may however be optional, as it could give
   performance problems if a lot of object viewers had to be updated
   every time the debugger gets control.

Once again thankyou for Your comments on the debugger.

Yours sincerely,
Soren Brandt

From malhotra Fri Jun 19 10:34:51 1992
Received: from amparo.daimi.aau.dk (linnea.daimi.aau.dk) by daimi.aau.dk with SMTP id AA26525
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Fri, 19 Jun 1992 10:34:48 +0200
Received: by amparo.daimi.aau.dk (5.64/1.34)
	id AA28886; Fri, 19 Jun 92 10:34:44 +0200
Date: Fri, 19 Jun 92 10:34:44 +0200
From: jmalhotra
Message-Id: <9206190834.AA28886@amparo.daimi.aau.dk>
To: sbrandt@daimi.aau.dk
In-Reply-To: sbrandt's message of Thu, 18 Jun 92 21:10:18 METDST <9206181910.AA03032@stinne.daimi.aau.dk>
Subject: Re: Debugger OK (really)
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO


   Now I really believe You are able to use the debugger.

GREAT. And it does work!

   The problem was the one I mentioned, that the formId in the interpreter-
   generated prototypes is an empty string. Someone didn't like
   that...

I notice that it displays UNKNOWN for the object. What should it
display "normally"? I'll try to fix my prototypes to conform with what
it expected.

   See you the next time you crash the debugger :-)

Indeed.

	--Jawahar



From sbrandt Thu Jun 18 21:10:29 1992
Received: from stinne.daimi.aau.dk by daimi.aau.dk with SMTP id AA07418
  (5.65c8/IDA-1.4.4); Thu, 18 Jun 1992 21:10:22 +0200
Received: by stinne.daimi.aau.dk (5.64/1.34)
	id AA03032; Thu, 18 Jun 92 21:10:20 +0200
From: sbrandt
Message-Id: <9206181910.AA03032@stinne.daimi.aau.dk>
Subject: Debugger OK (really)
To: malhotra@daimi.aau.dk (Jawahar Malhotra)
Date: Thu, 18 Jun 92 21:10:18 METDST
Cc: sbrandt@daimi.aau.dk (S|ren Brandt)
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Hi Jawahar,

Now I really believe You are able to use the debugger.

I just managed to show an instance of the pattern
beta.ObjectDescriptor.interp.createInstance _after_ 
execution of the line 
   (proto, originObjAdr) -> runtime.AllocateItem -> theObject[]

The problem was the one I mentioned, that the formId in the interpreter-
generated prototypes is an empty string. Someone didn't like that...

See you the next time you crash the debugger :-)

-- Soren

From malhotra Thu Jun 18 16:04:21 1992
Received: from amparo.daimi.aau.dk (linnea.daimi.aau.dk) by daimi.aau.dk with SMTP id AA28165
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Thu, 18 Jun 1992 16:04:13 +0200
Received: by amparo.daimi.aau.dk (5.64/1.34)
	id AA28572; Thu, 18 Jun 92 16:04:11 +0200
Date: Thu, 18 Jun 92 16:04:11 +0200
From: jmalhotra
Message-Id: <9206181404.AA28572@amparo.daimi.aau.dk>
To: sbrandt@daimi.aau.dk
In-Reply-To: sbrandt's message of Wed, 17 Jun 92 13:43:39 METDST <9206171143.AA14114@torun.daimi.aau.dk>
Subject: Re: debugger test
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO


Hi Soren,

   Now I have another problem. I can't debug main because of
   insufficient access-rights. If you have the time, please
   try "the usual" one more time. I hope it works now. Please
   mail me what happened.

It still doesn't work. I tried both bdgtool+ and bdgtool++. 
BTW which of these are you making the fixes in. 
I will be in tomorrow, but will be out for the next 3 weeks. 
During that time, you're welcome to use the interpreter as a test of
the debugger. It may be best that you create a dir for yourself and
copy out the the files. Guess you only need the executable.

thanks 
	--Jawahar

	



From datpete Wed Jun 17 15:08:51 1992
Received: from torun.daimi.aau.dk (muriel.daimi.aau.dk) by daimi.aau.dk with SMTP id AA17105
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Wed, 17 Jun 1992 15:08:44 +0200
Received: by torun.daimi.aau.dk (5.64/1.34)
	id AA15461; Wed, 17 Jun 92 15:08:42 +0200
From: datpete
Message-Id: <9206171308.AA15461@torun.daimi.aau.dk>
Subject: Re: bdgtool+
To: sbrandt@daimi.aau.dk (sbrandt)
Date: Wed, 17 Jun 92 15:08:39 METDST
In-Reply-To: <9206171301.AA15118@torun.daimi.aau.dk>; from "sbrandt" at Jun 17, 92 3:01 pm
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

I alle andre situatiuoner er "Step Into" vel d{kkende for hvad der sker?
Kunne man ikke lave "Step over" s}ledes at hvis der ikke er et imperativ efter
det aktuelle, s} g|r den i stedet det som step into ville have gjort, alts}
finder n{ste beta-linie. Det er jo ligemeget for brugeren at dette faktisk sker
ved singlestepping. 
Dette ville i hvert fald g|re denne meget almindelige situation nemmere at
h}ndtere for brugeren. S} er der KUN forskel p} stepinto og stepover, hvis man
st}r ved indgangen til en kontrolstruktur eller lige f|r evaluering af et nyt
object.

Blot en ide ....


Peter

From datpete Wed Jun 17 14:58:24 1992
Received: from torun.daimi.aau.dk (muriel.daimi.aau.dk) by daimi.aau.dk with SMTP id AA16807
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Wed, 17 Jun 1992 14:58:15 +0200
Received: by torun.daimi.aau.dk (5.64/1.34)
	id AA15091; Wed, 17 Jun 92 14:58:11 +0200
From: datpete
Message-Id: <9206171258.AA15091@torun.daimi.aau.dk>
Subject: Re: bdgtool+
To: sbrandt@daimi.aau.dk (sbrandt)
Date: Wed, 17 Jun 92 14:58:09 METDST
In-Reply-To: <9206171249.AA15101@torun.daimi.aau.dk>; from "sbrandt" at Jun 17, 92 2:49 pm
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

> Aev, er du allerede faerdig...

N}, jamen s} ...

OK, en if er ikke en block. Men problemet er, at d} jeg stod i sidste state
ment i else-delen af if s{tningen og sagde "Step (over)", s} fik jeg denne
besked:

No next imperative. Use ExitBlock or StepInto instead

Skulle jeg have brugt Step Into i stedet ?

Exitblock syntes i hvert fald mere passende end step into i denne situation(?)

Peter

From datpete Wed Jun 17 14:38:31 1992
Received: from anne.daimi.aau.dk by daimi.aau.dk with SMTP id AA15994
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Wed, 17 Jun 1992 14:38:23 +0200
Received: by anne.daimi.aau.dk (5.64/1.34)
	id AA26152; Wed, 17 Jun 92 14:38:21 +0200
From: datpete
Message-Id: <9206171238.AA26152@anne.daimi.aau.dk>
Subject: bdgtool+
To: sbrandt@daimi.aau.dk (S|ren Brandt)
Date: Wed, 17 Jun 92 14:38:19 METDST
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Jeg har nu afpr|vet situationen fra denb anden dag. Alt er OK nu:
Grunden til at den gik ned har givet v{ret at jeg }bnede en descriptor
der IKKE indeholdt kode, men kun decls. Det giver nu er lille bitte
vindue, s} det er OK. M}ske skulle du checke for dette og inds{tte
"(No imperatives)" i asciitexten i denne situation.

N}r jeg }bner en descriptor der faktisk indeholder kode, s} ser det
meget nydeligt ud at vinduet nu passer til koden!

Jeg oplevede dog en fejlsiatuation: Jeg pr|vede at s{tte et breakpoint
efter at programmet var endt normalt. Det kunne den ikke lide:

 bdgtool+
BETA Debugger for HPUX-8. Experimental version.
decompose beta-program to debug? /kurt/fisk.bet

forking process
initializing astinterface
opening executable
waiting for forked process
initializing scanner
doing scan of executable
fixing symboltablesBreakpoint set
Breakpoint set
continuing to start of BETA-code
opening main programFragment
The path '/kurt/fisk.bet' is composed like this:
Head of path:      /kurt
Actual name:       fisk.bet
Prefix of name:    fisk
Suffix of name:    t
Extension of name:
(but there is no such entry on disk)
Debugged process terminated normally
(l,r): 4 7
Ast-index of selection: 414
Found imperative ast-index: 506

Debugging requires write access to the file to debug


Hvis jeg s{tter breakpointet inden jeg k|rer programmet fra M1PROGRAM f|rste hggang, s} virker det fint:

(l,r): 4 7
Ast-index of selection: 414
Found imperative ast-index: 506
Breakpoint set


Dog oplevede jeg s} f|lgende:
en exit block i en if gik tilsyneladende helt ud af den descriptor som if-s{tningen
var i (?)

Desuden var der problemer med selectionen af det sted man var. Jeg kan vise
dig det, hvis du ikke selv kan fremprovokere det.

Det var alt for denne gang (:-)

Peter

From sbrandt@daimi.aau.dk Fri May  8 10:14:01 1992
Received: from isabella.daimi.aau.dk by daimi.aau.dk with SMTP
	(5.61++/IDA-1.2.8) id AA28909; Fri, 8 May 92 10:13:56 +0200
Received: by torun.daimi.aau.dk (5.64/1.34)
	id AA14258; Fri, 8 May 92 10:13:53 +0200
From: sbrandt@daimi.aau.dk
Message-Id: <9205080813.AA14258@torun.daimi.aau.dk>
Subject: Beta HPUX-8 debugger klar
To: malhotra@daimi.aau.dk, jnp@daimi.aau.dk, datpete@daimi.aau.dk,
        kjm@daimi.aau.dk, ess@daimi.aau.dk, jlk@daimi.aau.dk, olm@daimi.aau.dk,
        sbrandt@daimi.aau.dk
Date: Fri, 8 May 92 10:13:51 METDST
X-Mailer: ELM [version 2.3 PL11]
Status: RO

Hejsa,

HPUX-8 versionen af Beta debuggeren er nu (forhaabentlig)
i samme stand som HP-udgaven. 
I er med andre ord velkomne til at afproeve den og checke
at der ikke er fejl i HPUX-8 versionen som ikke findes
i de oevrige versioner. 

Vaer opmaerksom paa, at HPUX-8 versionen af debuggeren
kun virker paa programmer compileret med beta+ (v4.3.2)
compileren.

Jeg er begyndt at fragmentere debugger-kildeteksten.
Naar dette er gjort, vil jeg kaste mig over redesign og
fejlretning. Jeg er derfor ligeledes interesseret i 
hvilke fejl i maatte vaere stoedt paa i Jeres 
hidtidige brug af debuggeren, ligesom designforslag vil
vaere velkomne.

--Soeren
   

From sbrandt@daimi.aau.dk Wed Feb  3 13:21:25 1993
Received: from amparo.daimi.aau.dk (blanche.daimi.aau.dk) by daimi.aau.dk with SMTP id AA06670
  (5.65c8/IDA-1.4.4); Wed, 3 Feb 1993 13:21:24 +0100
Received: by amparo.daimi.aau.dk (5.64/1.34)
	id AA15970; Wed, 3 Feb 93 13:21:22 +0100
From: sbrandt@daimi.aau.dk
Message-Id: <9302031221.AA15970@amparo.daimi.aau.dk>
Subject: Re: valhalla diagnostics
To: jmalhotra@daimi.aau.dk
Date: Wed, 3 Feb 93 13:21:20 MET
Cc: sbrandt@daimi.aau.dk (S|ren Brandt)
In-Reply-To: <9302031217.AA17961@amparo.daimi.aau.dk>; from "jmalhotra@daimi.aau.dk" at Feb 3, 93 1:17 pm
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: O

> 1 is the answer. Will this impair the operation of the debugger?

I dont think so. Probably the message should just be removed.
If, on the other hand, you should get new problems after receiving
these "unknown type" messages, I would like to hear about it.

-- Soren

From malhotra@daimi.aau.dk Wed Feb  3 13:17:26 1993
Received: from amparo.daimi.aau.dk (linnea.daimi.aau.dk) by daimi.aau.dk with SMTP id AA06469
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Wed, 3 Feb 1993 13:17:18 +0100
Received: by amparo.daimi.aau.dk (5.64/1.34)
	id AA17961; Wed, 3 Feb 93 13:17:16 +0100
Date: Wed, 3 Feb 93 13:17:16 +0100
From: jmalhotra@daimi.aau.dk
Message-Id: <9302031217.AA17961@amparo.daimi.aau.dk>
To: sbrandt@daimi.aau.dk
In-Reply-To: sbrandt@daimi.aau.dk's message of Wed, 3 Feb 93 12:39:13 MET <9302031139.AA15933@amparo.daimi.aau.dk>
Subject: Re: valhalla diagnostics
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO



   The "unknown type" message originates from the scanning of the
   stab symbols in the executable. If the executable contains stabs
   in an unexpected format, these messages may be the result.

   Some possible causes:

      1. You linked with some C (or other language) code containing stabs
	 generated by the C compiler.
      2. You translated some Beta fragment with a wrong version of the
	 compiler. (Which one did you use?)
      3. Force majeure...

1 is the answer. Will this impair the operation of the debugger?

  --Jawahar

From sbrandt@daimi.aau.dk Wed Feb  3 12:39:20 1993
Received: from amparo.daimi.aau.dk (blanche.daimi.aau.dk) by daimi.aau.dk with SMTP id AA04117
  (5.65c8/IDA-1.4.4); Wed, 3 Feb 1993 12:39:17 +0100
Received: by amparo.daimi.aau.dk (5.64/1.34)
	id AA15933; Wed, 3 Feb 93 12:39:14 +0100
From: sbrandt@daimi.aau.dk
Message-Id: <9302031139.AA15933@amparo.daimi.aau.dk>
Subject: Re: valhalla diagnostics
To: jmalhotra@daimi.aau.dk
Date: Wed, 3 Feb 93 12:39:13 MET
Cc: sbrandt@daimi.aau.dk (S|ren Brandt)
In-Reply-To: <9302031059.AA17212@amparo.daimi.aau.dk>; from "jmalhotra@daimi.aau.dk" at Feb 3, 93 11:59 am
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

> Any ideas what caused the "unknown type" messages.

Yes and no.

The "unknown type" message originates from the scanning of the
stab symbols in the executable. If the executable contains stabs
in an unexpected format, these messages may be the result.

Some possible causes:

   1. You linked with some C (or other language) code containing stabs
      generated by the C compiler.
   2. You translated some Beta fragment with a wrong version of the
      compiler. (Which one did you use?)
   3. Force majeure...

Do you have any additional information?


Regarding the HPUX8 valhalla for the new compiler:

   Currently I have a problem with unsetting breakpoint. As this
   means that I have trouble testing other features, it is hard to
   say anything about the general state. Anyway, I am still optimistic
   and believe that a version will be ready within a week from now.


-- Soren

From malhotra@daimi.aau.dk Wed Feb  3 11:59:15 1993
Received: from amparo.daimi.aau.dk (linnea.daimi.aau.dk) by daimi.aau.dk with SMTP id AA01627
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Wed, 3 Feb 1993 11:59:12 +0100
Received: by amparo.daimi.aau.dk (5.64/1.34)
	id AA17212; Wed, 3 Feb 93 11:59:07 +0100
Date: Wed, 3 Feb 93 11:59:07 +0100
From: jmalhotra@daimi.aau.dk
Message-Id: <9302031059.AA17212@amparo.daimi.aau.dk>
To: sbrandt@daimi.aau.dk
Subject: valhalla diagnostics
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO


I got the following 

    linnea 108 : valhalla- main
    BETA Debugger for HPUX-8.
    forking process
    initializing astinterface
    opening executable
    waiting for forked process
    initializing scanner
    doing scan of executable
    unknown type !!! 456
    unknown type !!! 0
    unknown type !!! 40960
    unknown type !!! 424
    unknown type !!! 0
    unknown type !!! 40960
    unknown type !!! 456
    unknown type !!! 0
    unknown type !!! 40960
    unknown type !!! 456
    unknown type !!! 0
    unknown type !!! 40960
    fixing symboltables
    continuing to start of BETA-code
    opening main programFragment

    Loading /home/uranus/malhotra/phd/hacks/interp/macNew/main...11 descriptors and 105 lines...Done


Any ideas what caused the "unknown type" messages.

  --Jawahar


From sbrandt@daimi.aau.dk Thu Jan 28 12:51:39 1993
Received: from amparo.daimi.aau.dk (blanche.daimi.aau.dk) by daimi.aau.dk with SMTP id AA13764
  (5.65c8/IDA-1.4.4); Thu, 28 Jan 1993 12:51:22 +0100
Received: by amparo.daimi.aau.dk (5.64/1.34)
	id AA23434; Thu, 28 Jan 93 12:51:18 +0100
From: sbrandt@daimi.aau.dk
Message-Id: <9301281151.AA23434@amparo.daimi.aau.dk>
Subject: Re: debugger for new version of compiler
To: jmalhotra@daimi.aau.dk
Date: Thu, 28 Jan 93 12:51:17 MET
Cc: sbrandt@daimi.aau.dk (S|ren Brandt)
In-Reply-To: <9301281132.AA25356@amparo.daimi.aau.dk>; from "jmalhotra@daimi.aau.dk" at Jan 28, 93 12:32 pm
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO


> I'm planning to upgrade to the new version of the compiler. Will the
> debugger be available for the new version for the HP 9000/400
> machines? When will it be available?
> 

Actually it is almost ready, but right now most work is going into the
writing of a manual. Anyway, i'll take a look at the status of the
HP9000 version tomorrow, and report back to you then.

-- Soren

From malhotra@daimi.aau.dk Thu Jan 28 12:32:15 1993
Received: from amparo.daimi.aau.dk (linnea.daimi.aau.dk) by daimi.aau.dk with SMTP id AA13144
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Thu, 28 Jan 1993 12:32:05 +0100
Received: by amparo.daimi.aau.dk (5.64/1.34)
	id AA25356; Thu, 28 Jan 93 12:32:02 +0100
Date: Thu, 28 Jan 93 12:32:02 +0100
From: jmalhotra@daimi.aau.dk
Message-Id: <9301281132.AA25356@amparo.daimi.aau.dk>
To: sbrandt@daimi.aau.dk
Subject: debugger for new version of compiler
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO


Hi,

I'm planning to upgrade to the new version of the compiler. Will the
debugger be available for the new version for the HP 9000/400
machines? When will it be available?

  --Jawahar

From kjm@mjolner.dk Sat Feb  6 15:07:26 1993
Received: from mjolner.dk by daimi.aau.dk with SMTP id AA03780
  (5.65c8/IDA-1.4.4); Sat, 6 Feb 1993 15:07:18 +0100
Received: by mjolner.dk (5.51.2/SMI-3.2)
	id AA02236; Sat, 6 Feb 93 14:02:34 DK 
Message-Id: <9302061402.AA02236@mjolner.dk>
Date: Sat, 6 Feb 1993 15:08:23 +0100
To: olm@daimi.aau.dk, ess@daimi.aau.dk, jlk@daimi.aau.dk, datpete@daimi.aau.dk,
        kjm@mjolner.dk, sbrandt@daimi.aau.dk
From: kjm@mjolner.dk (Kim Jensen Moller)
X-Sender: kjm@mjolner.dk (Unverified)
Subject: Vaucher: VALHALLA
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

>Date: Fri, 5 February 1993 11:41:09 -0500
>From: Jean Vaucher <vaucher@iro.umontreal.ca>
>To: kjm@mjolner.dk (Kim Jensen Moller)
>Subject: VALHALLA
>Content-Type: TEXT/plain; charset=US-ASCII
>Status: RO
>
>I have downloaded Valhalla and it works fine.
>
>Thank you.
>JeanV.
>
>

Kim Jensen Moller                                (email: kjm@mjolner.dk)
Mjolner Informatics ApS
Science Park Aarhus                              Phone: +45 86202000
DK-8000 Aarhus C                                 Fax:   +45 86201222
Denmark.
     	


From malhotra@daimi.aau.dk Thu Feb 11 09:49:25 1993
Received: from amparo.daimi.aau.dk by daimi.aau.dk with SMTP id AA03811
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Thu, 11 Feb 1993 09:49:22 +0100
Received: by amparo.daimi.aau.dk (5.64/1.34)
	id AA17982; Wed, 10 Feb 93 19:56:35 +0100
Date: Wed, 10 Feb 93 19:56:35 +0100
From: jmalhotra@daimi.aau.dk
Message-Id: <9302101856.AA17982@amparo.daimi.aau.dk>
To: sbrandt@daimi.aau.dk
Subject: debugger
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO


I get the following for objects created by the interpreter:

	Cannot show "destObj"(No debug-info for "TMPFragInterp")

Any idea how I can provide the necessary debug-info?

  --Jawahar

From sbrandt@daimi.aau.dk Thu Feb 11 09:58:21 1993
Received: from amparo.daimi.aau.dk (blanche.daimi.aau.dk) by daimi.aau.dk with SMTP id AA05171
  (5.65c8/IDA-1.4.4); Thu, 11 Feb 1993 09:58:11 +0100
Received: by amparo.daimi.aau.dk (5.64/1.34)
	id AA19526; Thu, 11 Feb 93 09:57:56 +0100
From: sbrandt@daimi.aau.dk
Message-Id: <9302110857.AA19526@amparo.daimi.aau.dk>
Subject: Re: debugger
To: jmalhotra@daimi.aau.dk
Date: Thu, 11 Feb 93 9:57:55 MET
Cc: sbrandt@daimi.aau.dk (S|ren Brandt)
In-Reply-To: <9302101856.AA17982@amparo.daimi.aau.dk>; from "jmalhotra@daimi.aau.dk" at Feb 10, 93 7:56 pm
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

> 
> 
> I get the following for objects created by the interpreter:
> 
> 	Cannot show "destObj"(No debug-info for "TMPFragInterp")
> 
> Any idea how I can provide the necessary debug-info?
> 

You can't. The problem is that the information must be present in the
executable when valhalla is started. I probably wont be able to handle
this without some (planned) changes in the runtime layout that must be
supported by the compiler. I don't known when these changes will be made
but I suspect it could take some time.

-- Soren

From kjm@mjolner.dk Thu Feb 11 09:58:27 1993
Received: from mjolner.dk by daimi.aau.dk with SMTP id AA05170
  (5.65c8/IDA-1.4.4); Thu, 11 Feb 1993 09:58:11 +0100
Received: by mjolner.dk (5.51.2/SMI-3.2)
	id AA05706; Wed, 10 Feb 93 20:40:25 DK 
Date: Wed, 10 Feb 93 20:40:25 DK 
From: kjm@mjolner.dk (Kim Jensen Moeller)
Message-Id: <9302102040.AA05706@mjolner.dk>
To: datpete@daimi.aau.dk, ess@daimi.aau.dk, jlk@daimi.aau.dk, kjm@mjolner.dk,
        olm@daimi.aau.dk, olmadsen@daimi.aau.dk, pjs@mjolner.dk,
        sbrandt@daimi.aau.dk
Subject: Re:  Fragment Info File
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Det er jo en maskin uafhaegning information som har noget med ast'er at
g|re og ikke den genererede kode.

Men det kan vel ogsaa g|res paa den maade.
Compileren kan saa ikke udnytte det i bind fragments.

		--kim.

From olm@daimi.aau.dk Wed Feb 10 18:27:23 1993
Received: from sofie.daimi.aau.dk by daimi.aau.dk with SMTP id AA01651
  (5.65c8/IDA-1.4.4); Wed, 10 Feb 1993 18:27:21 +0100
Received: by sofie.daimi.aau.dk (5.64/1.34)
	id AA13697; Wed, 10 Feb 93 18:27:19 +0100
Date: Wed, 10 Feb 93 18:27:19 +0100
From: olmadsen@daimi.aau.dk
Message-Id: <9302101727.AA13697@sofie.daimi.aau.dk>
To: datpete@daimi.aau.dk, ess@daimi.aau.dk, jlk@daimi.aau.dk, kjm@mjolner.dk,
        olm@daimi.aau.dk, pjs@mjolner.dk, sbrandt@daimi.aau.dk
Subject: Re:  Fragment Info File
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Men vil dettte ikke kunne haandteres paa samme vis som naar der kommer
info i .o filerne til brug for at eliminere initFrament ved perisstens?
---olm'.

From sbrandt@daimi.aau.dk Thu Feb 11 10:04:41 1993
Received: from amparo.daimi.aau.dk (blanche.daimi.aau.dk) by daimi.aau.dk with SMTP id AA06050
  (5.65c8/IDA-1.4.4); Thu, 11 Feb 1993 10:04:37 +0100
Received: by amparo.daimi.aau.dk (5.64/1.34)
	id AA23726; Thu, 11 Feb 93 10:04:36 +0100
From: sbrandt@daimi.aau.dk
Message-Id: <9302110904.AA23726@amparo.daimi.aau.dk>
Subject: Re:  Fragment Info File
To: kjm@mjolner.dk (Kim Jensen Moeller)
Date: Thu, 11 Feb 93 10:04:35 MET
Cc: olm@daimi.aau.dk (Ole Lehrmann Madsen),
        sbrandt@daimi.aau.dk (S|ren Brandt)
In-Reply-To: <9302102040.AA05706@mjolner.dk>; from "Kim Jensen Moeller" at Feb 10, 93 8:40 pm
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

> 
> Det er jo en maskin uafhaegning information som har noget med ast'er at
> g|re og ikke den genererede kode.
> 
> Men det kan vel ogsaa g|res paa den maade.
> Compileren kan saa ikke udnytte det i bind fragments.
> 

Endvidere er der vel ingen grund til at den information skal fylde
op i .o filerne, da det kun er debugger og compiler der skal bruge den,
og de kan vel ligesaa godt hente den fra ast'er eller en ekstra (.fif)
fil. PersistentStore har jo ikke noget at bruge 'binding information' til...

-- Soren

From sbrandt@daimi.aau.dk Thu Feb 11 11:59:10 1993
Received: from amparo.daimi.aau.dk (blanche.daimi.aau.dk) by daimi.aau.dk with SMTP id AA12956
  (5.65c8/IDA-1.4.4); Thu, 11 Feb 1993 11:59:05 +0100
Received: by amparo.daimi.aau.dk (5.64/1.34)
	id AA23847; Thu, 11 Feb 93 11:59:04 +0100
From: sbrandt@daimi.aau.dk
Message-Id: <9302111059.AA23847@amparo.daimi.aau.dk>
Subject: ny valhalla (ogsaa til HPUX8)
To: datpete@daimi.aau.dk, kjm@daimi.aau.dk, ess@daimi.aau.dk, jlk@daimi.aau.dk,
        olm@daimi.aau.dk, sbrandt@daimi.aau.dk, jmalhotra@daimi.aau.dk,
        les@daimi.aau.dk (Lennert Sloth), nold@daimi.aau.dk (Jens Arnold Hem)
Date: Thu, 11 Feb 93 11:59:02 MET
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO


Jeg har opdateret valhalla scriptet saa det nu kalder
  ~beta/debugger/v1.2.2/?Valhalla

Denne version virker paa baade SUN4 og HPUX8 og er derudover forbedret 
paa flere punkter. De vigtigste er:

  'Step Into' er optimaliseret ganske voldsomt i det tilfaelde hvor
  der udfoeres C-kode (f.eks GC) inden naeste Beta imperativ rammes. 
  Paa HPUX8 er der dog et problem med nogle manglende labels, men det kender
  Peter alt til. :-)

  Breakpoints er nu markeret med et lille '!' foran det relevante imperativ.

  Nestede blokke praesenteres abstrakt.

  Hele objectdescriptor (ikke kun actionpart) vises nu i CodeVieweren.
  Til gengaeld er "Local Attributes' menuen afskaffet.
  


Der er et problem med selectionen. 


En lille pudsighed paa HPUX8:

Foer strip:
-rwxr-xr-x   1 beta     users    2711931 Feb 11 11:12 HPUX8Valhalla*
Efter strip:
-rwxr-xr-x   1 beta     users    1152004 Feb 11 11:20 HPUX8Valhalla*

Det er ikke (helt) saa galt paa SUN4:

Foer:
-rwxr-xr-x  1 beta      3104768 Feb 11 11:28 SUN4Valhalla*
Efter:
-rwxr-xr-x  1 beta      2326528 Feb 11 11:35 SUN4Valhalla*




-- Soren

From datpete@daimi.aau.dk Thu Feb 11 14:13:36 1993
Received: from amparo.daimi.aau.dk (louise.daimi.aau.dk) by daimi.aau.dk with SMTP id AA19537
  (5.65c8/IDA-1.4.4); Thu, 11 Feb 1993 14:13:20 +0100
Received: by amparo.daimi.aau.dk (5.64/1.34)
	id AA25443; Thu, 11 Feb 93 14:13:18 +0100
From: datpete@daimi.aau.dk
Message-Id: <9302111313.AA25443@amparo.daimi.aau.dk>
Subject: Re: ny valhalla (ogsaa til HPUX8)
To: sbrandt@daimi.aau.dk
Date: Thu, 11 Feb 93 14:13:17 MET
Cc: datpete@daimi.aau.dk, kjm@daimi.aau.dk, ess@daimi.aau.dk, jlk@daimi.aau.dk,
        olm@daimi.aau.dk, jmalhotra@daimi.aau.dk, les@daimi.aau.dk,
        nold@daimi.aau.dk
In-Reply-To: <9302111059.AA23847@amparo.daimi.aau.dk>; from "sbrandt@daimi.aau.dk" at Feb 11, 93 11:59 am
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Nydeligt med disse forbedringer. Jeg skal nok f} lavet de manglende
labels p} mc680x0, men det kr{ver noget (meta)programmering af runtime
generatoren (:-(

HP stabs er jo meget voldsommere end sun-ditto, det forklarer vel strip's
voldsomme virkning p} HP?

Peter

From karenkm@daimi.aau.dk Wed Feb 10 15:42:07 1993
Received: from [130.225.16.157] (karenkm.daimi.aau.dk) by daimi.aau.dk with SMTP id AA10693
  (5.65c8/IDA-1.4.4 for <daimi-alle>); Wed, 10 Feb 1993 15:41:13 +0100
Date: Wed, 10 Feb 1993 15:41:13 +0100
Message-Id: <199302101441.AA10693@daimi.aau.dk>
To: daimi-alle@daimi.aau.dk
From: kkmoller@daimi.aau.dk
Subject: Sommerskole, aug. 93
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Nedenn{vnte bliver bragt i n{ste nummer af EATCS Bulletin. N{rmere
oplysninger om lokal deltagelse f|lger.

Prelimimary Announcement

Summerschool in

LOGICAL METHODS IN CONCURRENCY

August 2-13, 1993
Computer Science Department, Aarhus University
Aarhus, Denmark



Description:
	Sponsored by the EEC Human Capital and Mobility Programme and 
the Danish Research Academy, a series of seven summershools will 
take place in Denmark during the summer of 1993. One will be in computer
science, organized by the Computer Science Department, Aarhus University.
Under
the title "Logical Methods in Concurrency", the summerschool will focus on
the
theoretical foundation of the specification and verification of distributed
computing, covering the use of models, logics and automata.

Programme:	
The scientific programme has not yet been completely finalized. But among
the
speakers will be:
	Professor D. Dill, Stanford
Professor D. Harel, Rehovot
 Professor C. Stirling, Edinburgh
Professor P.S.Thiagarajan, Madras
Professor P. Wolper, Lige

Participants:
	Advanced doctoral students and post doc scientists from European
countries. For
application see below. Local expen ses will be covered by the summerschool,
but
participants are expected to pay their own travel.

Organizers:	Mogens Nielsen, Glynn Winskel, and Nils Klarlund.

Sponsored by:	EEC Human Capital and Mobility Programme and the Danish
Research Adacemy.

Deadline for 
application: 	May 1, 1993.

Application &
further
information:	N. Klarlund	e-mail: klarlund@daimi.aau.dk
	Computer Science Department	Tel.: 	+45 86 12 71 88
	Aarhus University	Fax: 	+45 86 13 57 25
	Ny Munkegade, Bldg. 540
	DK-8000 Aarhus C, Denmark


From kjm@mjolner.dk Wed Feb 10 14:54:27 1993
Received: from mjolner.dk by daimi.aau.dk with SMTP id AA08068
  (5.65c8/IDA-1.4.4); Wed, 10 Feb 1993 14:54:13 +0100
Received: by mjolner.dk (5.51.2/SMI-3.2)
	id AA05459; Wed, 10 Feb 93 13:49:23 DK 
Message-Id: <9302101349.AA05459@mjolner.dk>
Date: Wed, 10 Feb 1993 14:55:24 +0100
To: olm@daimi.aau.dk, ess@daimi.aau.dk, jlk@daimi.aau.dk, datpete@daimi.aau.dk,
        kjm@mjolner.dk, sbrandt@daimi.aau.dk, pjs@mjolner.dk
From: kjm@mjolner.dk (Kim Jensen Moller)
Subject: Fragment Info File
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

S|ren har i debuggeren brug for at vide hvilke grupper der er
i executable. Endvidere har debuggeren brug for hvilke forms der er
i grupperne, samt deres respektive slot bindinger.
Vi kalder denne information for Fragment Info File - FIF fil.

Dvs vi vil lave en extra fil med samme navn som executable med extension .fif

En guppe liste kan nemt genereres efter kompilering, men slot bindingerne
kan kun genereres hvis den p}g{ldede gruppe har enten v{ret checket eller
har v{re l{st ind under kompilering til brug for checkning af andre
afh{ngige fragmenter.
Fx. vil betaenv gruppen altid v{re l{st ind, mens fx. body fragmenter jo ikke
l{ses ind med mindre det er p}kr{vet.

Man kan jo s} efter kompilering l{se alle grupper ind og binde slots, men
s} mister vi jo lidt af den seperate kompilering!! :-)

Der er 2. l|sninger:

1. Generer en extra fil (.fif fil) for hver gruppe hver gang den checkes
og bruge disse filer til generering af en .fif fil for executable.

2. Udvide gruppe filen med lidt extra information for hver form: et astindex og
en fragmentform text som beskriver bindingen.

Hvis vi v{lger l|sning 2 kan dette udnyttes i kompileren, idet checkede grupper
ikke l{ngere beh|ver at binde slots. Slot binding er en temmelig sl|v operation
som den er lavet nu.

L|sning 2 betyder at ast'erne ikke vil v{re bagud kompatible, ligesom n}r
vi indf|rer en ny grammatik.

L|sning 1 betyder at der for hver fragmentgruppe vil blive genereret en
extra fil. Dette er vel ikke |nskeligt.

Jeg har lavet en forel|bing test l|sning baseret p} 1.




Kim Jensen Moller                                (email: kjm@mjolner.dk)
Mjolner Informatics ApS
Science Park Aarhus                              Phone: +45 86202000
DK-8000 Aarhus C                                 Fax:   +45 86201222
Denmark.
     	


From ess@daimi.aau.dk Fri Feb 12 01:34:42 1993
Received: from belfort.daimi.aau.dk (angers.daimi.aau.dk) by daimi.aau.dk with SMTP id AA14988
  (5.65c8/IDA-1.4.4); Fri, 12 Feb 1993 01:34:32 +0100
Received: by belfort.daimi.aau.dk (5.64/1.34)
	id AA11667; Thu, 11 Feb 93 21:28:15 +0100
Date: Thu, 11 Feb 93 21:28:15 +0100
From: essandvad@daimi.aau.dk
Message-Id: <9302112028.AA11667@belfort.daimi.aau.dk>
To: sbrandt@daimi.aau.dk
Cc: datpete@daimi.aau.dk, kjm@daimi.aau.dk, jlk@daimi.aau.dk, olm@daimi.aau.dk,
        sbrandt@daimi.aau.dk, jmalhotra@daimi.aau.dk, les@daimi.aau.dk,
        nold@daimi.aau.dk
In-Reply-To: sbrandt@daimi.aau.dk's message of Thu, 11 Feb 93 11:59:02 MET <9302111059.AA23847@amparo.daimi.aau.dk>
Subject: ny valhalla (ogsaa til HPUX8)
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

fint med forbedringerne af valhalla!

ang. kode stoerrelse saa er tallene for Sif (foer og efter strip):

HPUX8: 5.8 og 2.6 Mbytes
SUN4:  6.6 og 4.5 Mbytes !!

/Elmer

From jlk@daimi.aau.dk Mon Mar  8 10:52:49 1993
Received: from anne.daimi.aau.dk by daimi.aau.dk with SMTP id AA21292
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Mon, 8 Mar 1993 10:52:44 +0100
Received: by anne.daimi.aau.dk (5.64/1.34)
	id AA07073; Mon, 8 Mar 93 10:52:42 +0100
Date: Mon, 8 Mar 93 10:52:42 +0100
From: jlknudsen@daimi.aau.dk
Message-Id: <9303080952.AA07073@anne.daimi.aau.dk>
To: sbrandt@daimi.aau.dk
Subject: valhalla+
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Det er lykkedes mig at f} flg. fejl :

nameDeclToGenericObject returned NONE

# Beta execution aborted: Stop is called, look at 'beta.dump'.

Jeg havde mange vinduer }bne, og lavede en dynamic search da det skete.

   Jorgen Lindskov Knudsen, Computer Science Department, Aarhus University
   Ny Munkegade 116, DK-8000 Aarhus C, DENMARK
   E-mail: jlknudsen@daimi.aau.dk, Phone: +45 86 12 71 88, Fax: +45 86 13 57 25

From jlk@daimi.aau.dk Mon Mar  8 10:40:32 1993
Received: from anne.daimi.aau.dk by daimi.aau.dk with SMTP id AA20870
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Mon, 8 Mar 1993 10:40:29 +0100
Received: by anne.daimi.aau.dk (5.64/1.34)
	id AA07065; Mon, 8 Mar 93 10:40:28 +0100
Date: Mon, 8 Mar 93 10:40:28 +0100
From: jlknudsen@daimi.aau.dk
Message-Id: <9303080940.AA07065@anne.daimi.aau.dk>
To: sbrandt@daimi.aau.dk
Subject: valhalla+
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Hvis man taster:
	valhalla+
sp|rges der:
	BETA program to debug?

Hvis jeg nu taster fejl:
	BETA program to debug? astCop[y
s} reagerer valhalla+ ved at sige:
	astCop[y not found.
og derefter terminere.

Det ville v{re mere "venligt" at lade mig taste et nyt program navn...

   Jorgen Lindskov Knudsen, Computer Science Department, Aarhus University
   Ny Munkegade 116, DK-8000 Aarhus C, DENMARK
   E-mail: jlknudsen@daimi.aau.dk, Phone: +45 86 12 71 88, Fax: +45 86 13 57 25

From jlk@daimi.aau.dk Mon Mar 15 09:29:28 1993
Received: from anne.daimi.aau.dk by daimi.aau.dk with SMTP id AA05997
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Mon, 15 Mar 1993 09:29:21 +0100
Received: by anne.daimi.aau.dk (5.64/1.34)
	id AA14324; Mon, 15 Mar 93 09:29:18 +0100
Date: Mon, 15 Mar 93 09:29:18 +0100
From: jlknudsen@daimi.aau.dk
Message-Id: <9303150829.AA14324@anne.daimi.aau.dk>
To: sbrandt@daimi.aau.dk
In-Reply-To: sbrandt@daimi.aau.dk's message of Mon, 15 Mar 93 9:23:51 MET <9303150823.AA01990@amparo.daimi.aau.dk>
Subject: Re: valhalla+
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Er det rigtigt, at det bliver som at starte valhalla forfra?  Man sparer da
load tiden, og (m}ske) lidt initialisering (og indl{sning af gruppefilen, som
IKKE har {ndret sig).  Samtidigt er brugeren fri for at skulle t{nke i termer
af genstart af Valhalla (finde en shell, etc. :-).

Man kunne m}ske have en restart menu-indgang for at undg} overhead ved rerun?

   Jorgen Lindskov Knudsen, Computer Science Department, Aarhus University
   Ny Munkegade 116, DK-8000 Aarhus C, DENMARK
   E-mail: jlknudsen@daimi.aau.dk, Phone: +45 86 12 71 88, Fax: +45 86 13 57 25

From jlk@daimi.aau.dk Mon Mar 15 09:11:15 1993
Received: from anne.daimi.aau.dk by daimi.aau.dk with SMTP id AA04606
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Mon, 15 Mar 1993 09:11:11 +0100
Received: by anne.daimi.aau.dk (5.64/1.34)
	id AA14306; Mon, 15 Mar 93 09:11:06 +0100
Date: Mon, 15 Mar 93 09:11:06 +0100
From: jlknudsen@daimi.aau.dk
Message-Id: <9303150811.AA14306@anne.daimi.aau.dk>
To: sbrandt@daimi.aau.dk
Subject: valhalla+
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Windows menu:  det ville v{re rart med en "close all" indgang.  Den konkrete
anledning er, at jeg debugger et [rogram.   }bner en r{kke vinduer.  Finder
fejlen.  Retter denne i emacs, og recompilerer.  Jeg vil herefter gerne lave en
rerun.   Men inden, vil jeg naturligvis gerne hurtigt slippe af med de "gamle"
debug vinduer (mao. ikke "menubar"-vinduet).

   Jorgen Lindskov Knudsen, Computer Science Department, Aarhus University
   Ny Munkegade 116, DK-8000 Aarhus C, DENMARK
   E-mail: jlknudsen@daimi.aau.dk, Phone: +45 86 12 71 88, Fax: +45 86 13 57 25

From datpete@daimi.aau.dk Tue Mar 16 22:25:31 1993
Received: from neptun.daimi.aau.dk by daimi.aau.dk with SMTP id AA05438
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Tue, 16 Mar 1993 22:25:23 +0100
Received: by neptun.daimi.aau.dk id AA09719
  (5.65c8/IDA-1.4.4 for sbrandt@daimi.aau.dk); Tue, 16 Mar 1993 22:25:20 +0100
From: Peter Andersen <datpete@daimi.aau.dk>
Message-Id: <199303162125.AA09719@neptun.daimi.aau.dk>
Subject: BetaErrorString
To: sbrandt@daimi.aau.dk (S|ren Brandt)
Date: Tue, 16 Mar 93 22:25:18 MET
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Jeg har nu i ~beta/betarun/v2.5.2/sun4/betarun.debug (KUN) lavet en 
global variabel BetaErrorString, der er en char * til teksten for 
den sidste BetaError.
Den s{ttes i C/outpattern.s.
V{r opm{rksom p}, at der breakes i BetaError ogs} ved Qua fejl, og at man derefter
kan risikere at forts{tte (hvis QuaCont), se c/exit.c.

Generelt vil BetaErrorString v[re opdateret n}r BetaError forlades, men
hvis du kun vil breake n}r programmet faktisk vil stoppe, kan du breake 
i BetaExit. Da er BetaErrorString ogs} opdateret.

H}ber det l|ser dit problem. Hvis du hellere vil have nummeret, kan vi
godt {ndre til det, men jeg regnede med, at du helst ville have teksten.

Peter

From sbrandt@daimi.aau.dk Mon Mar 29 12:29:32 1993
Received: from amparo.daimi.aau.dk (blanche.daimi.aau.dk) by daimi.aau.dk with SMTP id AA05469
  (5.65c8/IDA-1.4.4); Mon, 29 Mar 1993 12:29:29 +0200
Received: by amparo.daimi.aau.dk (5.64/1.34)
	id AA10254; Mon, 29 Mar 93 12:29:27 +0200
From: sbrandt@daimi.aau.dk
Message-Id: <9303291029.AA10254@amparo.daimi.aau.dk>
Subject: Re: valhalla+
To: jlknudsen@daimi.aau.dk
Date: Mon, 29 Mar 93 12:29:26 METDST
Cc: sbrandt@daimi.aau.dk (S|ren Brandt)
In-Reply-To: <9303290755.AA25316@anne.daimi.aau.dk>; from "jlknudsen@daimi.aau.dk" at Mar 29, 93 9:55 am
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO


Nej, du har ikke naevnt det foer. Jeg skal goere noget ved ~-ekspansionen
paa et tidspunkt.

Hvad angaar parametre:

Hvis du starter valhalla ved blot at skrive valhalla+ bliver du
promptet for et program navn. Der kan du saa skrive parametre.
Parametre som du angiver paa valhallas egen kommandolinie risikerer at 
blive spist af X inden valhalla faar fat i dem. Derved kan X parametre som 
egt. var til den debuggede process blive brugt af valhalla selv og processen 
vil i saa fald ikke se noget til dem.

Altsaa: Start valhalla uden parametre og svar saa paa prompten med alle de
parametre du oensker til det debuggede program.

-- Soren

From jlk@daimi.aau.dk Mon Mar 29 12:42:22 1993
Received: from anne.daimi.aau.dk by daimi.aau.dk with SMTP id AA05939
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Mon, 29 Mar 1993 12:42:16 +0200
Received: by anne.daimi.aau.dk (5.64/1.34)
	id AA25567; Mon, 29 Mar 93 12:42:13 +0200
Date: Mon, 29 Mar 93 12:42:13 +0200
From: jlknudsen@daimi.aau.dk
Message-Id: <9303291042.AA25567@anne.daimi.aau.dk>
To: sbrandt@daimi.aau.dk
Cc: sbrandt@daimi.aau.dk
In-Reply-To: sbrandt@daimi.aau.dk's message of Mon, 29 Mar 93 12:29:26 METDST <9303291029.AA10254@amparo.daimi.aau.dk>
Subject: Re: valhalla+
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Spiser X ogsaa parametrene, hvis de er "quoted"?

Uafh{ngigt heraf, synes jeg, at X argumentet er mindre vigtigt. Mao. jeg synes,
at valhalla skal acceptere argumenter i kommandolinien til programmet.  At X s}
er underlig...

   Jorgen Lindskov Knudsen, Computer Science Department, Aarhus University
   Ny Munkegade 116, DK-8000 Aarhus C, DENMARK
   E-mail: jlknudsen@daimi.aau.dk, Phone: +45 86 12 71 88, Fax: +45 86 13 57 25

From malhotra@daimi.aau.dk Thu Mar 25 11:07:35 1993
Received: from amparo.daimi.aau.dk (linnea.daimi.aau.dk) by daimi.aau.dk with SMTP id AA09740
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Thu, 25 Mar 1993 11:07:31 +0100
Received: by amparo.daimi.aau.dk (5.64/1.34)
	id AA21546; Thu, 25 Mar 93 11:07:29 +0100
Date: Thu, 25 Mar 93 11:07:29 +0100
From: jmalhotra@daimi.aau.dk
Message-Id: <9303251007.AA21546@amparo.daimi.aau.dk>
To: sbrandt@daimi.aau.dk
Subject: debugger quit due to qualification error
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO


I did an object search and the debugger quit. Here's the dump.

Beta execution aborted: Qualification error in reference assignment.

Call chain:

  item <*> in ~beta/debugger/v1.2/private/betaobjectBody
    -- value#value# in ~beta/debugger/v1.2/private/betaobjectBody
  item value#<value#> in ~beta/debugger/v1.2/betaobject
    -- betaBasicCharType#betaBasicType#betaGenericObject# in ~beta/debugger/v1.2/betaobject
  item <*> in ~beta/debugger/v1.2/private/betaobjectBody
    -- shortDump#shortDump# in ~beta/debugger/v1.2/private/betaobjectBody
  item <shortDump#>shortDump# in ~beta/debugger/v1.2/betaobject
    -- betaBasicCharType#betaBasicType#betaGenericObject# in ~beta/debugger/v1.2/betaobject
  item <*>ForTo# in ~beta/debugger/v1.2/private/betaobjectBody
    -- * in ~beta/debugger/v1.2/private/betaobjectBody
  item <*> in ~beta/debugger/v1.2/private/betaobjectBody
    -- shortDump#shortDump# in ~beta/debugger/v1.2/private/betaobjectBody
  item <shortDump#>shortDump# in ~beta/debugger/v1.2/betaobject
    -- BetaCharRepetition#Betarepetition#betaGenericObject# in ~beta/debugger/v1.2/betaobject
  item <thisAttribute#>thisAttribute# in ~beta/debugger/v1.2/private/betaobjectBody
    -- *scanDecls# in ~beta/debugger/v1.2/private/betaobjectBody
  item <*>scan# in ~beta/betaast/v3.8/betasematt
    -- *scan# in ~beta/betaast/v3.8/betasematt
  item <*> in ~beta/mps/v4.8/private/astBody
    -- *scan# in ~beta/mps/v4.8/private/astBody
  item *<scan#> in ~beta/betaast/v3.8/betasematt
    -- Names#list#expanded#Ast# in ~beta/betaast/v3.8/betasematt
  item <*>scan# in ~beta/betaast/v3.8/betasematt
    -- *scanDecls# in ~beta/betaast/v3.8/betasematt
  item <*> in ~beta/mps/v4.8/private/astBody
    -- *scan# in ~beta/mps/v4.8/private/astBody
  item *<scan#> in ~beta/betaast/v3.8/betasematt
    -- Attributes#list#expanded#Ast# in ~beta/betaast/v3.8/betasematt
  item *<scanDecls#> in ~beta/debugger/v1.2/private/betaobjectBody
    -- ObjectDescriptor#ObjectSpecification#cons#expanded#Ast# in ~beta/debugger/v1.2/private/betaobjectBody
  item <ShowND#> in ~beta/debugger/v1.2/private/betaobjectBody
    -- betaObject#betaGenericObject# in ~beta/debugger/v1.2/private/betaobjectBody
  item <thisAttribute#>thisAttribute# in ~beta/debugger/v1.2/private/betaobjectBody
    -- *scanDecls# in ~beta/debugger/v1.2/private/betaobjectBody
  item <*>scan# in ~beta/betaast/v3.8/betasematt
    -- *scan# in ~beta/betaast/v3.8/betasematt
  item <*> in ~beta/mps/v4.8/private/astBody
    -- *scan# in ~beta/mps/v4.8/private/astBody
  item *<scan#> in ~beta/betaast/v3.8/betasematt
    -- Names#list#expanded#Ast# in ~beta/betaast/v3.8/betasematt
  item <*>scan# in ~beta/betaast/v3.8/betasematt
    -- *scanDecls# in ~beta/betaast/v3.8/betasematt
  item <*> in ~beta/mps/v4.8/private/astBody
    -- *scan# in ~beta/mps/v4.8/private/astBody
  item *<scan#> in ~beta/betaast/v3.8/betasematt
    -- Attributes#list#expanded#Ast# in ~beta/betaast/v3.8/betasematt
  item *<scanDecls#> in ~beta/debugger/v1.2/private/betaobjectBody
    -- ObjectDescriptor#ObjectSpecification#cons#expanded#Ast# in ~beta/debugger/v1.2/private/betaobjectBody
  item <printAs#> in ~beta/debugger/v1.2/private/betaobjectBody
    -- * in ~beta/debugger/v1.2/private/betaobjectBody
  item <*> in ~beta/debugger/v1.2/private/betaobjectBody
    -- fullDump#fullDump# in ~beta/debugger/v1.2/private/betaobjectBody
  item <fullDump#>fullDump# in ~beta/debugger/v1.2/betaobject
    -- betaObject#betaGenericObject# in ~beta/debugger/v1.2/betaobject
  item <*> in ~beta/debugger/v1.2/private/XobjectViewerBody
    -- readFromObject# in ~beta/debugger/v1.2/private/XobjectViewerBody
  item <readFromObject#> in ~beta/debugger/v1.2/valhallaX
    -- itemList#mylist#list#container# in ~beta/debugger/v1.2/valhallaX
  item <initBeforeMenu#>initBeforeMenu# in ~beta/debugger/v1.2/valhallaX
    -- pane#pane#pane#pane#pane#Paned#Constraint#Composite#Core#RectObj#XtObject# in ~beta/debugger/v1.2/valhallaX
  item <*> in ~beta/debugger/v1.2/private/valhallaXBody
    -- init#init#init#init#init#init#init# in ~beta/debugger/v1.2/private/valhallaXBody
  item <init#>init#init#init#init#init#init# in ~beta/debugger/v1.2/valhallaX
    -- pane#pane#pane#pane#pane#Paned#Constraint#Composite#Core#RectObj#XtObject# in ~beta/debugger/v1.2/valhallaX
  item <*> in ~beta/debugger/v1.2/private/valhallaXBody
    -- init#init#init# in ~beta/debugger/v1.2/private/valhallaXBody
  item init#init#<init#> in ~beta/debugger/v1.2/valhallaX
    -- betaObjectViewer#betaGenericObjectViewer#ValhallaShellWithList#valhallaShellWithCloseButton#valhallaShell# in ~beta/debugger/v1.2/valhallaX
  item <*> in ~beta/debugger/v1.2/private/XobjectViewerBody
    -- openObjView# in ~beta/debugger/v1.2/private/XobjectViewerBody
  item <openObjView#> in ~beta/debugger/v1.2/valhallaX
    -- interface#AwEnv#XtEnv#Xtlib# in ~beta/debugger/v1.2/valhallaX
  item <*> in ~beta/debugger/v1.2/private/valhallaXBody
    -- bgoTObgow# in ~beta/debugger/v1.2/private/valhallaXBody
  item <bgoTObgow#> in ~beta/debugger/v1.2/valhallaX
    -- interface#AwEnv#XtEnv#Xtlib# in ~beta/debugger/v1.2/valhallaX
  item <*> in ~beta/debugger/v1.2/private/XcodeViewerBody
    -- ok#ok# in ~beta/debugger/v1.2/private/XcodeViewerBody
  item <ok#>ok# in ~beta/debugger/v1.2/valhallaX
    -- dynamicSearchPrompt#PromptForString#Prompt# in ~beta/debugger/v1.2/valhallaX
  item <accept#>RegisteredAction# in ~beta/Xt/v1.7/athena/private/promptsbody
    -- dialogShell#Transientshell#WMShell#Shell#Composite#Core#RectObj#XtObject# in ~beta/Xt/v1.7/athena/private/promptsbody
  item <callback#>callbackProc# in ~beta/Xt/v1.7/athena/private/promptsbody
    -- okBox#Command#bcommand#Command#Label#Simple#Core#RectObj#XtObject# in ~beta/Xt/v1.7/athena/private/promptsbody
  item <SelectCallback#>selectPref# in ~beta/Xt/v1.7/private/xtenvbody
    -- okBox#Command#bcommand#Command#Label#Simple#Core#RectObj#XtObject# in ~beta/Xt/v1.7/private/xtenvbody
  item <SelectCallback#>selectPref# in ~beta/Xt/v1.7/private/xtenvbody
    -- okBox#Command#bcommand#Command#Label#Simple#Core#RectObj#XtObject# in ~beta/Xt/v1.7/private/xtenvbody
  [ C ACTIVATION PART ]
  item XtAppContext#CStruct# in ~beta/Xt/v1.7/xtlib
    -- * in ~beta/Xt/v1.7/xtlib
  item interface#AwEnv#<XtEnv#>Xtlib# in ~beta/debugger/v1.2/valhallaX
    -- * in ~beta/debugger/v1.2/valhallaX
  comp *<valhallaXEnv#>valhallaEnv# in ~beta/debugger/v1.2/HPUX8Valhalla

  item <*> in ~beta/basiclib/v1.3/betaenv
  basic component in ~beta/basiclib/v1.3/betaenv


From malhotra@daimi.aau.dk Mon Apr  5 11:50:23 1993
Received: from amparo.daimi.aau.dk (linnea.daimi.aau.dk) by daimi.aau.dk with SMTP id AA10453
  (5.65c8/IDA-1.4.4); Mon, 5 Apr 1993 11:50:15 +0200
Received: by amparo.daimi.aau.dk (5.64/1.34)
	id AA11623; Mon, 5 Apr 93 11:50:12 +0200
Date: Mon, 5 Apr 93 11:50:12 +0200
From: jmalhotra@daimi.aau.dk
Message-Id: <9304050950.AA11623@amparo.daimi.aau.dk>
To: sbrandt@daimi.aau.dk
Subject: abstract presentation in valhalla
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO


A few weeks ago, valhalla started presenting code using '...'. After a
few weeks of use, I find this to be very cumbersome. It's quite
frustrating to have to open so many windows in order to set a
breakpoint. It also makes debugging harder as one has very little
context information available for the little windows. I prefer the old
system of presenting all the code for a pattern in ONE window. 

Another comment: It would be very nice if the forms in a group window
were presented in alphabetic order. This should at least be an option.

  --Jawahar



From jlk@daimi.aau.dk Mon Mar 29 12:42:22 1993
Received: from anne.daimi.aau.dk by daimi.aau.dk with SMTP id AA05939
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Mon, 29 Mar 1993 12:42:16 +0200
Received: by anne.daimi.aau.dk (5.64/1.34)
	id AA25567; Mon, 29 Mar 93 12:42:13 +0200
Date: Mon, 29 Mar 93 12:42:13 +0200
From: jlknudsen@daimi.aau.dk
Message-Id: <9303291042.AA25567@anne.daimi.aau.dk>
To: sbrandt@daimi.aau.dk
Cc: sbrandt@daimi.aau.dk
In-Reply-To: sbrandt@daimi.aau.dk's message of Mon, 29 Mar 93 12:29:26 METDST <9303291029.AA10254@amparo.daimi.aau.dk>
Subject: Re: valhalla+
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Spiser X ogsaa parametrene, hvis de er "quoted"?

Uafh{ngigt heraf, synes jeg, at X argumentet er mindre vigtigt. Mao. jeg synes,
at valhalla skal acceptere argumenter i kommandolinien til programmet.  At X s}
er underlig...

   Jorgen Lindskov Knudsen, Computer Science Department, Aarhus University
   Ny Munkegade 116, DK-8000 Aarhus C, DENMARK
   E-mail: jlknudsen@daimi.aau.dk, Phone: +45 86 12 71 88, Fax: +45 86 13 57 25

From jlk@daimi.aau.dk Mon Mar 29 10:57:55 1993
Received: from anne.daimi.aau.dk by daimi.aau.dk with SMTP id AA01293
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Mon, 29 Mar 1993 10:57:48 +0200
Received: by anne.daimi.aau.dk (5.64/1.34)
	id AA25316; Mon, 29 Mar 93 09:55:57 +0200
Date: Mon, 29 Mar 93 09:55:57 +0200
From: jlknudsen@daimi.aau.dk
Message-Id: <9303290755.AA25316@anne.daimi.aau.dk>
To: sbrandt@daimi.aau.dk
Subject: valhalla+
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Jeg glemte...som du kan se af det forrige eksempel jeg sendte dig, ville det
v{re rart, om man kunne sende argumenter med til "debuggeee" i valhalla+
commandline (resten af linien sendes blot "ur|rt" til "debuggee".

   Jorgen Lindskov Knudsen, Computer Science Department, Aarhus University
   Ny Munkegade 116, DK-8000 Aarhus C, DENMARK
   E-mail: jlknudsen@daimi.aau.dk, Phone: +45 86 12 71 88, Fax: +45 86 13 57 25

From jlk@daimi.aau.dk Mon Mar 29 10:57:58 1993
Received: from anne.daimi.aau.dk by daimi.aau.dk with SMTP id AA01303
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Mon, 29 Mar 1993 10:57:56 +0200
Received: by anne.daimi.aau.dk (5.64/1.34)
	id AA25313; Mon, 29 Mar 93 09:54:17 +0200
Date: Mon, 29 Mar 93 09:54:17 +0200
From: jlknudsen@daimi.aau.dk
Message-Id: <9303290754.AA25313@anne.daimi.aau.dk>
To: sbrandt@daimi.aau.dk
Subject: valhalla+
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Det kan v{re jeg har n{vnt det f|r, men valhalla+ laver ikke ~-expansion p}
"debuggee":
-------------------------------------------------------------------------------
beta tatra> valhalla+
BETA debugger for SUN-4 v1.2.PLUS
A more stable version is valhalla
BETA program to debug? ~beta/meta/v4.8/SUN4gen gdmo

~beta/meta/v4.8/SUN4gen not found.
-------------------------------------------------------------------------------
beta tatra> valhalla+ /users/beta/meta/v4.8/SUN4gen gdmo
BETA debugger for SUN-4 v1.2.PLUS
A more stable version is valhalla
BETA program to debug? /users/beta/meta/v4.8/SUN4gen

Opening executable "/users/beta/meta/v4.8/SUN4gen" ...
Initializing grammar ...
-------------------------------------------------------------------------------
   Jorgen Lindskov Knudsen, Computer Science Department, Aarhus University
   Ny Munkegade 116, DK-8000 Aarhus C, DENMARK
   E-mail: jlknudsen@daimi.aau.dk, Phone: +45 86 12 71 88, Fax: +45 86 13 57 25

From datpete@daimi.aau.dk Wed Mar 10 12:18:26 1993
Received: from sofie.daimi.aau.dk by daimi.aau.dk with SMTP id AA04069
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Wed, 10 Mar 1993 12:18:22 +0100
Received: by sofie.daimi.aau.dk (5.64/1.34)
	id AA16867; Wed, 10 Mar 93 12:18:18 +0100
From: datpete@daimi.aau.dk
Message-Id: <9303101118.AA16867@sofie.daimi.aau.dk>
Subject: Re: betarun/v2.5.2 labels
To: sbrandt@daimi.aau.dk
Date: Wed, 10 Mar 93 12:18:17 MET
In-Reply-To: <9303101055.AA00468@amparo.daimi.aau.dk>; from "sbrandt@daimi.aau.dk" at Mar 10, 93 11:55 am
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Ole har lovet at opgradere jobfilen, men jeg ved ikke om han har gjort det
endnu?

Peter

From datpete@daimi.aau.dk Wed Mar 10 11:53:16 1993
Received: from sofie.daimi.aau.dk by daimi.aau.dk with SMTP id AA03057
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Wed, 10 Mar 1993 11:53:12 +0100
Received: by sofie.daimi.aau.dk (5.64/1.34)
	id AA16767; Wed, 10 Mar 93 11:53:09 +0100
From: datpete@daimi.aau.dk
Message-Id: <9303101053.AA16767@sofie.daimi.aau.dk>
Subject: betarun/v2.5.2 labels
To: sbrandt@daimi.aau.dk (S|ren Brandt)
Date: Wed, 10 Mar 93 11:52:58 MET
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Nu skulle du dunne breake ved f|lgende labels p} alle maskiner, hvis
der er linket med betarun/v2.5.2:

   DoGC
   EndGC  (IOA)

   AOAGc
   EndAOA  (AOA)

   LVRACompaction
   EndLVRA  (LVRA)

Peter

From datpete Wed Mar 17 22:47:59 1993
Received: by daimi.aau.dk id AA01506
  (5.65c8/IDA-1.4.4 for sbrandt@daimi.aau.dk); Wed, 17 Mar 1993 22:47:55 +0100
From: Peter Andersen <datpete@daimi.aau.dk>
Message-Id: <199303172147.AA01506@daimi.aau.dk>
Subject: BetaErrorEnd
To: sbrandt@daimi.aau.dk (S|ren Brandt)
Date: Wed, 17 Mar 93 22:47:54 GMT
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Nu har jeg (igen kun i sun4/betarun.debug) lavet lidt om i BetaError().
Det med at stakken er veldefineret s|rger den kode, der s{tter StackEnd
for (BetaError() i exit.c). Det har jeg ikke lavet om p}.
Men jeg har lavet det s}dan at BetaError altid passerer en *ny* label,
der hedder BetaErrorEnd, og at dette altid sker *efter* at StackEnd og
BetaErrorString er veldefinerede.
Pr|v at breake ved denne istedet, og lad h|re om det virker.

Peter

From datpete@daimi.aau.dk Wed Mar 17 13:31:29 1993
Received: from anne.daimi.aau.dk by daimi.aau.dk with SMTP id AA08624
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Wed, 17 Mar 1993 13:31:27 +0100
Received: by anne.daimi.aau.dk (5.64/1.34)
	id AA17245; Wed, 17 Mar 93 13:31:25 +0100
From: datpete@daimi.aau.dk
Message-Id: <9303171231.AA17245@anne.daimi.aau.dk>
Subject: Re: BetaErrorString
To: sbrandt@daimi.aau.dk
Date: Wed, 17 Mar 93 13:31:23 MET
In-Reply-To: <9303171041.AA27361@amparo.daimi.aau.dk>; from "sbrandt@daimi.aau.dk" at Mar 17, 93 11:41 am
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Hvad mener du med
"BetaErrorString saettes inden der sker noget som helst andet"

Hvad andet mener du?

Peter

From sbrandt@daimi.aau.dk Wed Mar 17 11:41:40 1993
Received: from amparo.daimi.aau.dk (blanche.daimi.aau.dk) by daimi.aau.dk with SMTP id AA03548
  (5.65c8/IDA-1.4.4); Wed, 17 Mar 1993 11:41:38 +0100
Received: by amparo.daimi.aau.dk (5.64/1.34)
	id AA27361; Wed, 17 Mar 93 11:41:36 +0100
From: sbrandt@daimi.aau.dk
Message-Id: <9303171041.AA27361@amparo.daimi.aau.dk>
Subject: Re: BetaErrorString
To: datpete@daimi.aau.dk (Peter Andersen)
Date: Wed, 17 Mar 93 11:41:35 MET
Cc: sbrandt@daimi.aau.dk (S|ren Brandt)
In-Reply-To: <199303162125.AA09719@neptun.daimi.aau.dk>; from "Peter Andersen" at Mar 16, 93 10:25 pm
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

>
> Generelt vil BetaErrorString v[re opdateret n}r BetaError forlades, men
> hvis du kun vil breake n}r programmet faktisk vil stoppe, kan du breake 
> i BetaExit. Da er BetaErrorString ogs} opdateret.

Jeg vil ogsaa breake i tilfaelde af QuaErrors, da brugeren naturligvis skal
kunne finde ud af hvor disse optraeder.

Jeg har paa et tidspunkt forsoegt at breake i BetaExit, men problemet er
at paa det tidspunkt er runtime stakken forsvundet (?) saa brugeren ikke har
mulighed for at se kaldkaeden paa fejltidspunktet. Det optimale vil
vaere hvis BetaErrorString saettes inden der sker noget som helst andet,
og jeg saa faar mulighed for at breake umiddelbart herefter.
Er det muligt, og i givet fald hvordan?

-- Soren

From jlk@daimi.aau.dk Thu Apr 29 11:07:19 1993
Received: from anne.daimi.aau.dk by daimi.aau.dk with SMTP id AA03758
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Thu, 29 Apr 1993 11:06:48 +0200
Received: by anne.daimi.aau.dk (5.64/1.34)
	id AA06063; Thu, 29 Apr 93 11:06:42 +0200
Date: Thu, 29 Apr 93 11:06:42 +0200
From: jlknudsen@daimi.aau.dk
Message-Id: <9304290906.AA06063@anne.daimi.aau.dk>
To: sbrandt@daimi.aau.dk
Subject: valhalla
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Men du er ikke ene om det...  beta.dump er ogs} forskellig p} de to
platforme...

   Jorgen Lindskov Knudsen, Computer Science Department, Aarhus University
   Ny Munkegade 116, DK-8000 Aarhus C, DENMARK
   E-mail: jlknudsen@daimi.aau.dk, Phone: +45 86 12 71 88, Fax: +45 86 13 57 25

From jlk@daimi.aau.dk Thu Apr 29 10:58:04 1993
Received: from anne.daimi.aau.dk by daimi.aau.dk with SMTP id AA03245
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Thu, 29 Apr 1993 10:57:53 +0200
Received: by anne.daimi.aau.dk (5.64/1.34)
	id AA06042; Thu, 29 Apr 93 10:57:51 +0200
Date: Thu, 29 Apr 93 10:57:51 +0200
From: jlknudsen@daimi.aau.dk
Message-Id: <9304290857.AA06042@anne.daimi.aau.dk>
To: sbrandt@daimi.aau.dk
Subject: valhalla
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

valhalla p} SUN4 viste kun en partiel stack. Jeg fik hele stakken p} HP.

   Jorgen Lindskov Knudsen, Computer Science Department, Aarhus University
   Ny Munkegade 116, DK-8000 Aarhus C, DENMARK
   E-mail: jlknudsen@daimi.aau.dk, Phone: +45 86 12 71 88, Fax: +45 86 13 57 25

From sbrandt@daimi.aau.dk Wed Apr 14 11:43:55 1993
Received: from amparo.daimi.aau.dk (blanche.daimi.aau.dk) by daimi.aau.dk with SMTP id AA11666
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Wed, 14 Apr 1993 11:43:52 +0200
Received: by amparo.daimi.aau.dk (5.64/1.34)
	id AA19639; Wed, 14 Apr 93 11:43:49 +0200
From: sbrandt@daimi.aau.dk
Message-Id: <9304140943.AA19639@amparo.daimi.aau.dk>
Subject: Re: Macsysformat
To: pjs@mjolner.dk (Per Jessen Schmidt)
Date: Wed, 14 Apr 93 11:43:47 METDST
Cc: sbrandt@daimi.aau.dk (S|ren Brandt)
In-Reply-To: <9304140927.AA00715@mjolner.dk>; from "Per Jessen Schmidt" at Apr 14, 93 11:34 am
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO


> Naar jeg har lavet file med offset for de forskellige fragmenter, skal de
> samles i en fil, men i hvilken raekkefolgde? Skal de kommme paa samme maade
> som kompileren har genereret filerne? Hvis ikke hvordan finder jeg saa udaf
> at saette dem sammen?

Jeg mener at den samlede fil skal starte med en liste af gruppenavne og
et offset hvor denne gruppes descriptorer kan findes. Noget i stil med:


~beta/.../dyt L1 --------------------------|
~dum/baat     L2 --------------------------|----|
...                                        |    |
                                           |    |
L1: <<descriptorer for '~beta/.../dyt'>> <-|    |
L2: <<descriptorer for '~dum/baat'>> <----------|     
...


Hvis du forstaar hvad jeg mener...

-- Soren

From pjs@mjolner.dk Wed Apr 14 11:34:41 1993
Received: from mjolner.dk by daimi.aau.dk with SMTP id AA11282
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Wed, 14 Apr 1993 11:34:35 +0200
Received: by mjolner.dk (5.51.2/SMI-3.2)
	id AA00715; Wed, 14 Apr 93 10:27:27 +0100
Message-Id: <9304140927.AA00715@mjolner.dk>
Date: Wed, 14 Apr 1993 11:34:56 +0000
To: sbrandt@daimi.aau.dk
From: pjs@mjolner.dk (Per Jessen Schmidt)
Subject: Macsysformat
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Hej soren

Naar jeg har lavet file med offset for de forskellige fragmenter, skal de
samles i en fil, men i hvilken raekkefolgde? Skal de kommme paa samme maade
som kompileren har genereret filerne? Hvis ikke hvordan finder jeg saa udaf
at saette dem sammen?
Per Jessen Schmidt

(e-mail: pjs@mjolner.dk)

Tel:    Pri:            Mjolner Informatik APS:
        86 10 43 79     86 20 20 11 - 2751


From datpete@daimi.aau.dk Mon Aug 16 10:04:37 1993
Received: from angers.daimi.aau.dk by daimi.aau.dk with SMTP id AA22846
  (5.65c8/IDA-1.4.4); Mon, 16 Aug 1993 09:57:30 +0200
Received: by angers.daimi.aau.dk id AA24613
  (5.65c8/IDA-1.4.4); Mon, 16 Aug 1993 09:50:38 +0200
From: Peter Andersen <datpete@daimi.aau.dk>
Message-Id: <199308160750.AA24613@angers.daimi.aau.dk>
Subject: EllemtelEval
To: ess@daimi.aau.dk (Elmer Sandvad), olm@daimi.aau.dk (Ole Lehrmann Madsen),
        jlk@daimi.aau.dk (J|rgen Lindskov Knudsen),
        kjm@mjolner.dk (Kim Jensen M|ller), datpete@daimi.aau.dk,
        sbrandt@daimi.aau.dk (S|ren Brandt)
Date: Mon, 16 Aug 93 9:50:08 METDST
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Her er en opdateret EllemtelEval. Kommentarer?
==============================================

============================================================================
        Comments to Ellemtel Mjolner Beta Evaluation            version 1.1
============================================================================

Below find our comments to the 'disadvantages' of the Mjolner BETA
System raised in the Ellemtel evaluation of the system made by
Kristofer Kimbler and Bjorn Regnell.

In general we think that the evaluation is fair and we agree on most
of the advantages and disadvantages mentioned in the report. The
purpose of the comments below is to describe how we are going to deal
with the disadvantages. They are NOT meant as a defense.
We would like to thank Ellemtel for having performed this evaluation.
>From our point of view the evaluators have done a very good job, since 
the report provides useful input in order to improve the system.

Comments refer to page numbers in the Ellemtel report.
Citations from the Ellemtel report are enclosed in quotes (").

----------------------------------------------------------------------------
P20,59                  BETA language
----------------------------------------------------------------------------
1.      "Syntax is somewhat cryptic"
                in genereal there are very few complaints from people after 
                they have started using it. Since the language is small,
                there are few constructs to learn

2.      "The language is fresh and still evolving"
                For the last couple of years, the language has been
                relatively stable. We resist adding new features and making
                changes unless there is a strong pressure from users.

3.      "No international standard"

4.      "Not widely spread and not widely used"
                This will change:-)

5.      "Only one commercial implementation"

6.      "Sometimes difficult to find out how a pattern should be used"
        (from p. 59)
                True, it has been considered to allow syntactic keywords like
                class, proc, func, etc, to restrict the use of a pattern.
                But the pressure for this has not been high.

----------------------------------------------------------------------------
P22:                    Platforms
----------------------------------------------------------------------------

        	The system is now also available for
                Sparc/Solaris and HP 9000/700

----------------------------------------------------------------------------
P26:                    Fragment system
----------------------------------------------------------------------------

1.      "Only descriptor and attributes slots"

                dopart slots in next release
                mainPart slots being implemented

2.      "Not possible to prefix as in:"

                ---P:descriptor---
                  Q(# ...#)

        Is possible. The problem encountered by Ellemtel was due to a compiler
        error in the case where Q has no do-part.
        This error has been fixed.

3.      "A pattern defined by means of a descriptor slot cannot be used
        as a superpattern"

                True.
                May be allowed in a future version.

4.      "An attributes fragment may only contain pattern declarations."

                True. 
                We think, however, that this is rarely a problem in practice.

                A future release will allow reference declarations and virtual
                declarations and bindings. There are some implementation and
                logical problems in this. Solutions are being considered.

5.      "Navigation tool needed"
        
        	Yes: Sif and Freja may be used to handle some of the cases.

6.      "Problem with error messsages when writing illegal fragment statements."

        	Will be improved

7.      "INCLUDE syntax different from form syntax"

        	True, we think, that the syntax of include should be similar to the
        	syntax of body and not to that of fragment forms.


We think the most severe problem with the fragment system is the lack
of a tutorial. The descriptions in the BETA book and the compiler
reference manual are too terse. Most of the problems with using the fragment
system can be avoided, by providing better descriptions of how to handle
a number of common cases.
A fragment tutorial will be written.

----------------------------------------------------------------------------
P28:                    BETA compiler restrictions
----------------------------------------------------------------------------
        	Most of the restrictions mentioned will be removed in future versions

1,3,5:  	low priority

2:      	we have no plans on removing this restriction, but we always listen
        	to good arguments:-)

4       	circular prefix: this is not really a restriction, but is illegal BETA.

6:              efficient implementation solution is still being considered

7,9,10,11,12:   high priority

8:      	pattern real is fully implemented already

13:     	part of development of distributed beta, see below

14:     	part of development of persistence support, see below

-----------------------------------------------------------------------------
P29:                            Compiler
-----------------------------------------------------------------------------

1.      Annoying restrictions as listed on page 28

                see above

2.      compiler may crash if there are semantic errors

                most of these errors have been removed in the next release

                has top priority to eliminate all these errors

3.      some codegenerator errors have been discovered

                they have all been eliminated in next verion

-----------------------------------------------------------------------------
P32:                             Valhalla
-----------------------------------------------------------------------------
   We agree that the Valhalla UI needs major changes to become really
   easy to use. Until this point the major focus with regard to Valhalla
   has been stability and not the UI. A new user interface will be 
   designed for a near-future version.

   Among the Valhalla drawbacks listed on pages 32-33 not directly related 
   to the UI design, we would like to comment on the following:

   6:  We are not sure we understand this. At least we have never experienced
       the reported behaviour. 

   10: This is not correct. Depending on what is meant by "static father",
       there are different menu-entries making it possible to inspect the
       "father".

   12: Is solved in the next version.

   14: (Watchpoints.) This is in general not possible to implement efficiently,
       but as we agree that it is a useful feature, we will provide the
       possibility in a future release. However, it will slow down the 
       debugged process significantly.
       (Breakpoints at enter/exit) In general not possible due to the code
       generated. Limited support may be provided in a future version.

   16: It is not correct that the only way to return control to Valhalla is
       by setting a breakpoint in the debugged process. (The manual describes
       how to do it.) On the other hand it is correct that the Valhalla UI 
       freeses while the process is running. This will be solved in the next
       release.


   The rest of the drawbacks listed are directly related to the UI that is
   going to change significantly.

------------------------------------------------------------------------
P35:                             Sif
------------------------------------------------------------------------

1.      "Sif is in a experimental state, and, in our opinion, too
	unstable for professional usage. The idea of syntax-driven editing is,
	however, very interesting and can, with a good user interface, be a
	powerful tool in software development."

        	It would be helpful with a more detailed description of the 
        	unstability and bad user interface.

2.      "The user interface of Sif, we believe, needs more tuning in order
	to make the structure editor convenient to use. The user has to bother
	too much with window arranging, and it is difficult to navigate among
	the avalanche of windows in a large program. Sif would definitely
	benefit from a hierarchical window system, in order to present the
	relations between windows."
        
        	I think this is a matter of taste, the Windows menu makes it possible 
        	to find the windows in an easy way.

3.      "The automatic pretty-printing facility sometimes confuses the
	user, as the look of the program can change drastically after only
	small changes. There should be the possibility to set pretty-printing
	in a static mode, where all constructs always are unparsed in the same
	manner."
        
        	It might be a good idea with static mode but I think that the main 
        	confusion with respect to the prettyprinting comes from the fact that 
        	the window is scrolled too much after a re-prettyprinting. This makes 
        	the window very "uncalm". This and other inconveniences 
        	(e.g. problems with selecting certain constructs in the program) is 
        	due to the primitive asciiText widget of Athena widgets and will 
        	disappear when Sif is ported to Motif.

4.      "The contraction mechanism should also be possible to control.
	The granularity of the contraction should be possible to set,
	preventing contraction of very small objects. It should also be
	possible to expand everything with a simple command, preventing time
	consuming doubleclicking in many levels."
        
        	Yes, the granularity may be too fine, and it might be a good idea to
        	be able to control it. But there is a command for getting the fully 
        	detailed view: Detail Recursively.

5.      "Our overall impression is that Sif needs more testing and
	tuning to make it really useful."
        
        	Again it would be helpful with a more detailed evaluation.

--------------------------------------------------------------------------
P40:                    Basic libraries
--------------------------------------------------------------------------

1.      "Better introductory material is needed"

                a basiclib/containers tutorial is being written

2.      "Online documentation is needed"

                Sif may be used as a browser of the libraries

                work has been started to develop on-line documentation

--------------------------------------------------------------------------
P41:                            Persistence
--------------------------------------------------------------------------

1.      "It is not possib"le for an object to refer objects in another 
        persistent store

        	being implemented

2.      "It is not checked if a fragement used to create persistent objects
        has been changed"

        	being implemented

3.      "No concurrency control"

        	being implemented as part of OODB, for persistence library as is,
        	read/write permissions on files may be used.

4.      "It is necessary to initialize the persistent store for each fragment 
        used to instantiate persistent objects"

                eliminated in next version

In the Esprit project EuroCODE, a lot of work is going on to further
develop the implementation of the persistence library.  On top of the
persistence library, a distributed object-oriented database is being
developed to support beta.  This OODB has concurrency control,
transactions, and nofifications.

In addition a distributed implementation of beta is being implemented.
This means that in a future version of the MBS there will support for
easy development of distributed BETA implementations.

--------------------------------------------------------------------------
P42:                             Bifrost
--------------------------------------------------------------------------

1.      "Bifrost can only be used as a prefix"

        	will be fixed

--------------------------------------------------------------------------
P56:                   X Window System Libraries
--------------------------------------------------------------------------

1.      "Not all Xt features are implemented in BETA."

        	The Xlib and Xt interface currently remaining is only used 
                very seldom, and they are easily added by user.
        	Notice that the Motif BETA interface is complete.
		xlib.bet and xtlib.bet will be made complete. 

2.      "Lack of more advanced examples in the documentation."

        	The examples in the Xt manual will be extracted to form a tutorial.
        	More advanced examples (demo-program already present on-line) will 
                be described in this tutorial.

3.      "One bug discovered in Motif environment."

        	Fixed in next release. 

--------------------------------------------------------------------------
P64:                     MBS in general
--------------------------------------------------------------------------
Most of the items below have been commented on above

1.      "Language restrictions"

2.      "Fragment system restrictions"

3.      "MBS is not completed"

4.      "Documentation must be completed"
        
5.      "Pattern hierarchy and fragment hierarchy browser are needed"

        We agree that some browsing facilities are needed. Sif, however,
        is very useful for browsing and navigating in the libraries.
        It e.g. is easy to find declarations of names from places using
        the names and it is possible to navigate in the fragment structure.

        Freja may be used to show a graphical view of the fragment structure.
        Freja is , however, not yet a product and it also needs further
        improvements in order to be used as a browser.

6.      "The compiler cannot handle large fragment files"

                solved in next release as mentioned above

7.      "Sif is still in an experimental stage"

8.      "Valhalla is difficult to use" 

9.      "Some of the basic libraries are not completed"

10.     "Persistence library is still experimental"

11.     "X-libs lacks some low-level X functionality"

12.     "Bifrost can only be used as a prefix"

From ess@daimi.aau.dk Tue Nov 16 21:37:02 1993
Received: from angers.daimi.aau.dk by daimi.aau.dk with SMTP id AA11645
  (5.65c8/IDA-1.4.4 for <sbrandt@daimi.aau.dk>); Tue, 16 Nov 1993 21:37:00 +0100
Received: by angers.daimi.aau.dk id AA13388
  (5.65c8/IDA-1.4.4 for sbrandt); Tue, 16 Nov 1993 21:36:59 +0100
Date: Tue, 16 Nov 1993 21:36:59 +0100
From: Elmer Sandvad <essandvad@daimi.aau.dk>
Message-Id: <199311162036.AA13388@angers.daimi.aau.dk>
To: sbrandt@daimi.aau.dk
Subject: valhalla support, wilfried
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Soeren,
kan du give mig nogle svar paa det?

/Elmer

valhalla:
- The kind of run time error should be displayed anywhere.
- When using step-into into a piece of code currently not
  visible the code should be popped up automatically?
- It would be very (!) nice to reduce the number of windows and display
  more details in the same window if possible.
- I would find it useful to add menus of the global valhalla menu
  to local valhalla sub windows at the users choice to local
  windows or to add shortcuts to menu items.
- Is it possible to add a watch to a 'current object at current code'?
  E.g. having a reference ref at a specified piece of code and displaying
  always the object ref points to when the piece of code is entered.

From sbrandt@daimi.aau.dk Wed Jan  4 13:57:09 1995
Received: from blanche.daimi.aau.dk by daimi.aau.dk with SMTP id AA01554
  (5.67b8/IDA-1.5); Wed, 4 Jan 1995 13:57:05 +0100
Received: by blanche.daimi.aau.dk id AA05826
  (5.67b8/IDA-1.5); Wed, 4 Jan 1995 13:56:59 +0100
From: S|ren Brandt <sbrandt@daimi.aau.dk>
Message-Id: <199501041256.AA05826@blanche.daimi.aau.dk>
Subject: Sortering af ObjectDescriptor's og prototyper
To: kjm@daimi.aau.dk (Kim Jensen M|ller),
        ole.madsen@eng.sun.com (Ole Lehrmann Madsen),
        sbrandt@daimi.aau.dk (S|ren Brandt)
Date: Wed, 4 Jan 1995 13:56:58 +0100 (MET)
Cc: jlk@daimi.aau.dk (J|rgen Lindskov Knudsen),
        datpete@daimi.aau.dk (Peter Andersen)
X-Mailer: ELM [version 2.4 PL23]
Content-Type: text
Content-Length: 3792      
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO


Ole og Kim:

Jeg sidder i oejeblikket og forsoeger at lave en generisk objekt-browser,
dvs. en browser der kan vise objekterne i et persistent store (eller en oodb)
uden at skulle vaere linket med koden for disse objekter. Den direkte
aarsag til at jeg laver denne browser er at den skal bruges som del af
en foerste schema-evolution prototype. Browseren virker stort set, bortset 
fra foelgende ubehagelighed:

Som bekendt genererer compileren en prototype tabel i .obj filen. Raekkefoelgen
af disse prototyper er tilsyneladende lidt uforudsigelig paa basis af 
fragment gruppen alene.

Jeg har hele tiden taget for givet at raekkefoelgen af prototyper i
objektfilen svarede til den raekkefoelge som objectdescriptorerne
moedes ved at scanne samtlige forms i fragmentgruppen, og for hver
form lave en "suffixWalkForProd" efter objectDescriptors. DET ER
BARE IKKE RIGTIGT!!!

Foelgende to smaa eksempler RESULTERER I SAMME PROTOTYPE RAEKKEFOELGE:

 1.
    ORIGIN '~beta/basiclib/v1.4/betaenv';
    --- program:descriptor ---
    (# 
    #)
    --- lib: attributes ---
    foo: (##);

 2.
    ORIGIN '~beta/basiclib/v1.4/betaenv';
    --- lib: attributes ---
    foo: (##);
    --- program:descriptor ---
    (# 
    #)

Uvist af hvilken grund bytter compileren altsaa tilsyneladende rundt paa
raekkefoelgen.

ENTEN skal jeg have at vide hvad compileren helt praecist goer, ELLER
ogsaa skal den holde op med at bytte rundt paa tingene. I sidste tilfaelde
vil det dog have den uheldige konsekvens at browseren foerst kan bruges
fra og med naeste release, hvilket er meget uheldigt. 

Altsaa haaber jeg at nogen (Ole!) kan fortaelle mig hvordan jeg paa basis af 
en fragmentgruppe nummererer ObjectDescriptors som de forekommer i objektfilen.

Min nuvaerende kode til at goere dette foelger nedenfor, men den virker altsaa
ikke altid, grundet aarsagen beskrevet ovenfor. "new.append" giver den aktuelle
ObjectDescriptor det naeste frie nummer.

  -- Soren


          fg: ^AST.fragmentGroup; 
       do ...;
          fg.fragmentList.scan
          (# ff: ^AST.fragmentForm; exp: ^AST.expanded;
             firstInDescriptorForm: @Boolean;	
             generalKind:  (# exit 4 #);	
          do (if current.type //AST.FormType then
                 current.open->ff[];	
                 ff.root[]->exp[];	
                 (if exp.symbol//BETACFL.DescriptorForm then
                     TRUE->firstInDescriptorForm;
                 if);	
                 BETACFL.ObjectDescriptor->exp.suffixWalkForProd
                 (# scanCat:: BETACFL.ObjectDescriptor;
                 do (if (current.kind->tos'%getByte[0]') = generalKind 
                     //false then
                        (* Current is a constant, standard pattern 
                         * (int, real, ...) or an external declaration. 
                         * In all these cases no prototype is generated.
                         *)
                     else
                        current[]->new.append;
                        current[]->dumpOD;
                        (if firstInDescriptorForm then
                            (if (current.getPrefixOpt).kind<>AST.kinds.optional
                                then
                                (* In a descriptor form with a prefixed root 
                                 * descriptor, the prototype is put twice
                                 * into the data segment prototype table.
                                 * Probably some awful compiler hack. *)
                                current[]->new.append;
                                current[]->dumpOD;
                            if);
                        if);
                    if);
                    FALSE->firstInDescriptorForm;
                 #);
             if);
          #);

From kjm@mjolner.dk Mon Nov 28 17:09:12 1994
Received: from niflheim.mjolner.dk by daimi.aau.dk with SMTP id AA12189
  (5.67b8/IDA-1.5); Mon, 28 Nov 1994 17:09:09 +0100
Received: by niflheim.mjolner.dk id AA01118
  (5.65c8/IDA-1.5); Mon, 28 Nov 1994 17:09:03 GMT
From: Kim Jensen Moller <kjm@mjolner.dk>
Message-Id: <199411281709.AA01118@niflheim.mjolner.dk>
Subject: Ny beta+
To: olm@mjolner.dk, jlk@mjolner.dk, ess@mjolner.dk, datpete@mjolner.dk,
        sbrandt@mjolner.dk, jacobse@mjolner.dk, pryberg@mjolner.dk
Date: Mon, 28 Nov 94 17:09:01 GMT
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Jeg har installeret en ny beta+ paa sun4 og sun4s.

  - den er jacobse sikker (-nolist kan haandteres)
  - med options:
      12: generer kode for alt
      24: generer ikke kode men kun ..db filer
      41: generer ..db filer
    kan man lave ..db filer i frosne spor (be careful!).
    altsaa, man skriver: beta+ -s 12 24 41 0 xxx
  + diverse andre smaating som ikke har generel interesse.....



From Ole.Madsen@eng.sun.com Fri Jan 20 01:01:34 1995
Received: from Sun.COM (koriel.Sun.COM) by daimi.aau.dk with SMTP id AA16594
  (5.67b8/IDA-1.5 for <sbrandt@daimi.aau.dk>); Fri, 20 Jan 1995 01:00:16 +0100
Received: from Eng.Sun.COM (zigzag.Eng.Sun.COM) by Sun.COM (sun-barr.Sun.COM)
	id AA07006; Thu, 19 Jan 95 16:00:11 PST
Received: from det.Eng.Sun.COM by Eng.Sun.COM (4.1(1/24/94)/SMI-4.1)
	id AA12535; Thu, 19 Jan 95 10:44:11 PST
Received: by det.Eng.Sun.COM (5.0/SMI-SVR4)
	id AA02367; Thu, 19 Jan 1995 10:44:18 +0800
Date: Thu, 19 Jan 1995 10:44:18 +0800
From: Ole.Madsen@eng.sun.com (Ole Lehrmann Madsen)
Message-Id: <9501191844.AA02367@det.Eng.Sun.COM>
To: ole.madsen@eng.sun.com, kjm@daimi.aau.dk, sbrandt@daimi.aau.dk
Subject: Re: valhalla og callback funktioner
Cc: datpete@daimi.aau.dk
X-Sun-Charset: US-ASCII
Content-Length: 6310
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO



Jeg forstaar simplet hen ikke hvad det er du mener her???

Hwer er et eksempel med callBack

origin 'tstenv'
---program:descriptor---
(# foo: External
     (# a,b,c: @integer
     enter(a,b,c)
     do cExternalEntry;
        a+b->c; 
        a*c->c
     exit c
     #);
   v: @integer
do 
#)
>
Med kode (498:-)

.global G1PROGRAM
G1PROGRAM:!  foo: External
!  v: @integer  
	nop
!28
	retl
	nop
.global M1PROGRAM
M1PROGRAM:	mov	%i1,%o0
	save	%sp,-64,%sp
.L3:
!  8,8
.stabn 68,0,0,.L4
.L4:
	ret
	restore
.stabs "PROGRAM",38,0,134,T2PROGRAM
.global G2PROGRAM
G2PROGRAM:	mov	%i1,%o0
	save	%sp,-64,%sp
!  a,b,c: @integer  
	ret
	restore
.global M2PROGRAM<<<<<<<<<<<<<<<<<<<<< do-del af M-entrypoint for foo
			<<<<<<<<<<<<<<< Er dette ikke OK?
			<<<<<<<<<<<<<<< du skriver at det er forkert
M2PROGRAM:	mov	%i1,%o0
	save	%sp,-64,%sp
.L5:
!  8,8
.stabn 68,0,69,.L6
.L6:
!  cExternalEntry  
!  8,0
.stabn 68,0,95,.L7
.L7:
!  a+b->c  
	ld	[%i0+412],%l0
!12
	ld	[%i0+416],%l7
!16
	add	%l7,%l0,%l0
!20
	st	%l0,[%i0+420]
!24
!  24,16
.stabn 68,0,119,.L8
.L8:
!  a*c->c  
	ld	[%i0+420],%l0
!28
	ld	[%i0+412],%o0
!32
	mov	%l0,%o1
!36
	set	0,%i3
	set	0,%i4
	call	.mul
!48
	set	0,%i2
	mov	%o0,%l0
!56
	st	%l0,[%i0+420]
!60
!  60,36
.stabn 68,0,0,.L9
.L9:
	ret
	restore
.global foo<<<<<<<<<<<<<<<<<<<<<<<<<<< foo-entry point
            <<<<<<<<<<< Det gir klart INGEN mening!!, da talleren
			blot fortsetter som efter den forrige
			Jeg kan her let cleare taelleren
			saa de flg instruktioner blir relative
			til foo, men det er ikk det du ber om?
---olm

foo:	mov	%i1,%o0
	save	%sp,-64,%sp
	mov	%i0,%o0
	mov	%i1,%l0
!84
	mov	%i2,%l1
!88
	set	0,%i2
!92
	mov	%i3,%l2
!96
	set	0,%i3
!100
	mov	%i0,%i1
!  Get long
	mov	%l0,%l3
!108
	st	%l3,[%i1+412]
!112
!  Get long
	mov	%l1,%l0
!116
	st	%l0,[%i1+416]
!120
!  Get long
	mov	%l2,%l0
!124
	st	%l0,[%i1+420]
!128
	call	M2PROGRAM
!132
	nop
	ld	[%i1+420],%l0
!140
	mov	%l0,%i0
	ret
	restore
BETA_code2:	nop
.data
BETA_data2:.word 2
.global T1PROGRAM
.word T1PROGRAM
.global T2PROGRAM
.word T2PROGRAM
.asciz "/home/olm/beta/system/v5.1/TST/zcallback"
.align 4
.word Return
.word M1PROGRAM
T1PROGRAM:.half 20
.half 2
.word G1PROGRAM
.word T27ENV
.half 4
.half 0
.half 1
.half 163
.half 0
.half 10
.half 0
.asciz "PROGRAM-~"
.align 4
.word Return
.word M2PROGRAM
T2PROGRAM:.half 24
.half 2
.word G2PROGRAM
.word T27ENV
.half 106
.half 0
.half 1
.half 134
.word foo
.half 0
.half 10
.half 0
.asciz "foo#"
.align 4
BETA_data3:!    

> 
> Betragt foelgende kode segment fra ~beta/guienv/v1.2/private/X11/widgetbody:
> 
>     -- GUIENVcallbackSelectorAdd: descriptor --
>     (# callCallbackSelector: external
> 	 (# w,client_data,call_data: @integer;
> 	 enter (w,client_data,call_data)
> 	 do cExternalEntry;
> 	    call_data -> data.ptr;
> 	    (if XsystemEnvPresent//true then
> 		this(callbackSelector)[] -> XsystemEnvHandleCallback;
> 	     else
> 		this(callbackSelector);
> 	    if);
> 	 #);
>        t: @text;
>     do (widgetID,name,callCallbackSelector##,0) -> XtAddCallback;
>     #)
> 
> Genereret kode foelger i bunden af denne mail. 
> 
> cExternalEntry's resulterer i genereringen af et entry point som foerst 
> piller C parametre af stakken, og derefter kalder det tilsvarende BETA 
> entry point.
> 
> For doparten i "callCallbackSelector: external" genereres foelgende ..db info.
> (x,y) betyder her ("codeoffset fra start a Mentry",ast index). Det tilsvarende
> imperativ er derefter pretty-printet.
> 
>       dopart <AstIndex>: 156
>              (8,152)  cExternalEntry
>              (8,200)  call_data->data.ptr
>              (32,318)  (if XsystemEnvPresent // true then <<AssignmentEvaluation>>; else THIS(callbackSelector);if)
>              (56,230)  true
>              (68,282)  THIS(callbackSelector)[]->XsystemEnvHandleCallback
>              (168,284)  THIS(callbackSelector)[]->XsystemEnvHandleCallback;
>              (176,308)  THIS(callbackSelector)
>              (200,312)  THIS(callbackSelector);
>              (200,156)  cExternalEntry;call_data->data.ptr;(if XsystemEnvPresent // true then <<Imperatives>> else THIS(callbackSelector);if);
>              Endmarker: 65535
> 
> Dette er forkert, da codeOffset for "cExternalEntry" snarere burde vaere 
> noget i stil med "callCallbackSelector - M2GUIENVCALLBACKSELECTORADD", 
> eftersom koden genereret for cExternalEntry ligger *efter* resten af koden 
> for denne dopart.
> 
> Fejlen faar ny valhalla til at mappe adresser i cExternalEntry koden
> til et af de andre imperativer i ovenstaaende liste. Naermere betegnet det
> imperativ med stoerst kode offset.
> 
> Jeg kan godt se at dette problem ikke er helt let at loese, eftersom det
> kraever "fixups" af code-offsets for cExternalEntry imperativer naar disse
> bliver kendt. Men kan det goeres alligevel?
> 
>   -- Soren
> 
> 
> .global M2GUIENVCALLBACKSELECTORADD
> M2GUIENVCALLBACKSELECTORADD:	mov	%i1,%o0
> 	save	%sp,-64,%sp
> .L162:
> .stabn 68,0,76,.L163
> .L163:
> .stabn 68,0,100,.L164
> .L164:
> 	ld	[%i0+8],%i2
> 	ld	[%i2+8],%i2
> 	ld	[%i2+8],%i2
> 	ld	[%i2+12],%i2
> 	ld	[%i0+420],%l7
> 	st	%l7,[%i2+12]
> .stabn 68,0,159,.L165
> .L165:
> 	ld	[%i0+8],%i2
> 	ld	[%i2+8],%i2
> 	ld	[%i2+8],%i2
> 	ld	[%i2+8],%i2
> 	ld	[%i2+8],%i2
> 	ldub	[%i2+408],%l0
> 	cmp	%l0,1
> 	bne	.L167
> 	nop
> .stabn 68,0,141,.L168
> .L168:
> 	ld	[%i0+8],%i2
> 	ld	[%i2+8],%i2
> 	ld	[%i2+8],%i2
> 	ld	[%i0+8],%i3
> 	ld	[%i3+8],%i3
> 	ld	[%i3+8],%i3
> 	ld	[%i3+8],%i3
> 	ld	[%i3+8],%i3
> 	ld	[%i3+412],%i3
> 	tst	%i3
> 	tle	17
> 	add	%i3,0,%i1
> 	add	%i1,12,%g1
> 	add	%i2,0,%i3
> 	sub	%g1,%g6,%i5
> 	cmp	%i5,%g7
> 	bleu	.L169
> 	st	%i3,[%g1]
> 	call	ChkRA
> 	nop
> .L169:
> 	set	0,%i3
> 	set	0,%i4
> 	call	M315GUIENV
> 	set	0,%i2
> 	b	.L166
> 	nop
> .L167:
> .stabn 68,0,154,.L170
> .L170:
> 	ld	[%i0+8],%i2
> 	ld	[%i2+8],%i2
> 	ld	[%i2+8],%i2
> 	add	%i2,0,%i1
> 	call	M24WIDGET
> 	set	0,%i2
> .L166:
> .stabn 68,0,0,.L171
> .L171:
> 	ret
> 	restore
> .global callCallbackSelector
> callCallbackSelector:	mov	%i1,%o0
> 	save	%sp,-64,%sp
> 	mov	%i0,%o0
> 	mov	%i1,%l0
> 	mov	%i2,%l1
> 	set	0,%i2
> 	mov	%i3,%l2
> 	set	0,%i3
> 	mov	%i0,%i1
> !  Get long
> 	mov	%l0,%l3
> 	st	%l3,[%i1+412]
> !  Get long
> 	mov	%l1,%l0
> 	st	%l0,[%i1+416]
> !  Get long
> 	mov	%l2,%l0
> 	st	%l0,[%i1+420]
> 	call	M2GUIENVCALLBACKSELECTORADD
> 	nop
> 	ret
> 	restore
> 

From Ole.Madsen@eng.sun.com Wed Jan 18 18:48:57 1995
Received: from Sun.COM (koriel.Sun.COM) by daimi.aau.dk with SMTP id AA08948
  (5.67b8/IDA-1.5 for <sbrandt@daimi.aau.dk>); Wed, 18 Jan 1995 18:48:42 +0100
Received: from Eng.Sun.COM (zigzag.Eng.Sun.COM) by Sun.COM (sun-barr.Sun.COM)
	id AA26989; Wed, 18 Jan 95 09:48:33 PST
Received: from det.Eng.Sun.COM by Eng.Sun.COM (4.1(1/24/94)/SMI-4.1)
	id AA05093; Wed, 18 Jan 95 09:48:30 PST
Received: by det.Eng.Sun.COM (5.0/SMI-SVR4)
	id AA05833; Wed, 18 Jan 1995 09:48:37 +0800
Date: Wed, 18 Jan 1995 09:48:37 +0800
From: Ole.Madsen@eng.sun.com (Ole Lehrmann Madsen)
Message-Id: <9501181748.AA05833@det.Eng.Sun.COM>
To: kjm@daimi.aau.dk, sbrandt@daimi.aau.dk
Subject: Re: Prototype genererering
Cc: Ole.Madsen@eng.sun.com
X-Sun-Charset: US-ASCII
Content-Length: 2649
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO


>

Det er desvaerre lidt boevlet. Compileren tester om der er en
'meningsfuld' do-del for at afgoere om det er en cExternalEntry.
Koden for dette findes i

	sematt/semattbody.bet

	cProcDecoder

'Meningsfuld' betyder at det fx IKKE er

	foo: external(#do  'bar'->CallC #)

og lign., som blot er et external call.

Nu kunne jeg godt saette en bit i descriptoren for at markere
en externalEntryKind, men hjaelper dig nok ikke nu!?

---olm

PS. Og jeg glaeder mig til at kunne fjerne astref og formInx

>
> 
> Igen igen har jeg smaaproblemer med, givet en fragmentgruppe, at
> bestemme hvilke object-descriptors der bliver til hvilke prototyper
> i objekt-filen. Min kode for at scanne et enkelt fragment er:
>  
>      scanFragment:
>        (# exp: ^AST.expanded;
>           firstInDescriptorForm: @Boolean;
>           generalKind:  (# exit 4 #);
>        enter exp[]
>        do
>           (exp.symbol=BETA.DescriptorForm)->firstInDescriptorForm;
>           BETA.ObjectDescriptor->exp.suffixWalkForProd
>           (# scanCat:: BETACFL.ObjectDescriptor;
>           do (if (current.kind -> tos'%getByte[0]') = generalKind 
>               //false then
>                  (* Current is a constant, a standard pattern 
>                   * (int, real, ...) or an external declaration. 
>                   * In all these cases no prototype is generated.
>                   *)
>               else
>                  current[]->new.append;
>                  (if firstInDescriptorForm then
>                      (if (current.getPrefixOpt).kind<>AST.kinds.optional then
>                          (* In descriptor forms with prefixed 
>                           * descriptors, the prototype is put twice
>                           * into the data segment prototype table.
>                           * Probably some awful compiler hack. *)
>                          current[]->new.append;
>                      if);
>                  if);
>              if);
>              FALSE->firstInDescriptorForm;
>           #);
>        #);
> 
> Dette gaar meget godt det meste af tiden, men ikke for CExternalEntry's. 
> Som det fremgaar, antager jeg at der ikke genereres prototyper
> for externals. Det gaelder jo altsaa bare ikke for CExternalEntry's.
> 
> Checket (if (current.kind -> tos'%getByte[0]') = generalKind 
>               //false then
> 
> udelukker tilsyneladende ogsaa CExternalEntry's. Hvordan opdager jeg
> lettest at der er tale om en CexternalEntry?
> 
>   -- Soren
> 
> PS: Naar det her engang virker fejlfrit kan man smide AstRef og
>     formInx felterne ud af prototyperne. Derved spares en long per
>     prototype. 
> 

From kjm@mjolner.dk Fri Jan 27 13:43:13 1995
Received: from niflheim.mjolner.dk by daimi.aau.dk with SMTP id AA08164
  (5.67b8/IDA-1.5 for <sbrandt@daimi.aau.dk>); Fri, 27 Jan 1995 13:43:12 +0100
Received: by niflheim.mjolner.dk id AA01995
  (5.65c8/IDA-1.5 for sbrandt); Fri, 27 Jan 1995 13:43:23 GMT
From: Kim Jensen Moller <kjm@mjolner.dk>
Message-Id: <199501271343.AA01995@niflheim.mjolner.dk>
Subject: Starting parsing exception.
To: sbrandt@mjolner.dk (Soren Brandt)
Date: Fri, 27 Jan 95 13:43:20 GMT
X-Mailer: ELM [version 2.3 PL11]
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Soren,
 
for at komme rigtigt ud af en exception i top.open skal du rigtig nok
cleare en catcher:

NONE->myAstInterface.theCatcher[];

Saa skulle MPS vaere i en sikker tilstand.

Jeg er stadig ikke helt sikker paa hvad det er du vil have.
Er det noget i stil med:

mygroupname[]->top.open
(# 
   startingParsing::
     (# do true->UseOldAstFileIfThereIsOne #);
   ...
#)

og hvis der saa ikke er en gammel AST fil skal der saa parses alligevel?

		--kim.

-- 

From sbrandt@daimi.aau.dk Thu Mar  2 16:08:00 1995
Received: from mjolner.dk by daimi.aau.dk with SMTP id AA02751
  (5.67b8/IDA-1.5); Thu, 2 Mar 1995 16:07:25 +0100
Received: from quercus.daimi.aau.dk by mjolner.dk with SMTP id AA08424
  (5.65c8/IDA-1.5 for toby@daimi.aau.dk); Thu, 2 Mar 1995 16:07:40 GMT
Received: by quercus.daimi.aau.dk id AA13499
  (5.67b8/IDA-1.5 for betaexp@mjolner.dk); Thu, 2 Mar 1995 15:09:06 +0100
From: S|ren Brandt <sbrandt@daimi.aau.dk>
Message-Id: <199503021409.AA13499@quercus.daimi.aau.dk>
Subject: valhalla2.0 alfa test
To: betaexp@mjolner.dk
Date: Thu, 2 Mar 1995 15:08:20 +0100 (MET)
X-Mailer: ELM [version 2.4 PL23beta2]
Content-Type: text
Content-Length: 7097      
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

Hej betaexp'ere.

Som det laenge er blevet stillet i udsigt, er den nye valhalla nu klar
til *alfa* test. Nedenfor foelger en meget kort introduktion, saa I
har mulighed for at begynde at bruge den.

Foelgende forudsaetninger skal vaere opfyldt for at kunne bruge 
valhalla2.0:

   1. valhalla2.0 er indtil videre kun tilgaengelig paa solaris
      maskinerne.

   2. Programmer debugget med valhalla2.0 skal vaere oversat med
      "beta+ -g". "-g" skaber nye object-filer med extension
      ".go", samt debug info filer med extension "..db". Det behoever
      I normalt ikke bekymre Jer om. Endvidere linkes Jeres program
      med et runtime system med debug understoettelse.

   3. Brugere af distribution/v1.0 skal opgradere til distribution/v1.01,
      da I ellers vil faa "multiple defined symbols" paa link tid. Der er 
      ingen interface aendringer i distribution/v1.01. Dog er der af hensyn 
      til pakning af oodb/hypermedia blevet indfoert en ny environment
      variabel "BETA_DISTRIBUTIONDIR". Se basicshell.bet.
      Ensemblet startes nu med "startensemble1.01".

Intet af ovenstaaende forhindrer Jer i fortsat at bruge den gamle
valhalla.

Hvordan starter man saa valhalla2.0? Jo, man skriver

   valhalla2.0 -exec <executable name>

eller blot

   valhalla2.0 <executable name>

eller

   valhalla2.0

Start parametre til valhalla2.0 kan gives paa 2 maader:

   1. Paa kommandolinien.
   2. Ved at putte parametre ind i environment variablen "VALHALLAOPTS".

Hvis en modstridende parametre gives i baade VALHALLAOPTS og paa 
kommandolinien, er det kommandolinien der vinder.

Foelgende beskriver de oevrige kommandolinie parametre som I kan taenkes 
at have interesse i:

   -EXECNAME <Name> 

      Use <Name> as the name of executable to debug.
      Allowed abbreviation: -EXEC

   -ENVIRONMENT <Name> <Value>

      Used to set environment variables for the debugged process. Default
      is to hand over the Valhalla environment. However, by using the
      -ENVIRONMENT command-line parameter, the default values may be
      overridden.
      Allowed abbreviation: -ENV

  -BOOLEANOPTION <Name> <Value>

      Used to set the boolean option named <Name>. <Value> should be TRUE
      or FALSE. 
      Allowed abbreviation: -BOPT

  -COMMLINE <Command line parameter>
       
      Used to give command line parameters to the process being
      debugged. One -COMMLINE is needed for each command line
      parameter to be given to the debugged process.
      Allowed abbreviation: -CL

Bortset fra -COMMLINE kan alle disse valhalla2.0 kommandolinie parametre 
ogsaa saettes interaktivt.

Angaaende -BOOLEANOPTION er der foelgende muligheder for <Name>. Alt
er (naturligvis) case-insensitivt.

   ShortCodeNames: Whether to use truncated imperative names for code 
                   expressions shopw on the stack. Default: TRUE.

   ReadLabelsOnStartUp: Whether to read labels from executable at startup
                        instead of on demand. Default: FALSE.

   DebugValhalla: Print out valhalla debugging information. Default: FALSE.

   AlwaysCurCode: Show current code on each process stop, even if no view 
                  is currently open on that code. Default: TRUE.

   CharRepOnALine: Whether char repetitions should be shown on a single line.
                   Default: FALSE.

   InvisibleOrigins: Whether origins should initially be invisible in object
                     views. Default: TRUE.

   NumberObjects: Whether objects should be given a serial number.
                  Default: TRUE.

   ShortObjectTitles: Whether to use truncated pattern names (max 2 pattern 
                      names in path) for object descriptions.
	              Default: TRUE.

   DragOutlineOnOpen: Whether a nested window is dragged on open, or is simply
                      given a default size and position.
                      Default: TRUE.

Alle disse options kan naturligvis ogsaa saettes saavel interaktivt som
i VALHALLAOPTS.

Naar valhalla2.0 har startet den debuggede process, vil et naturligt
foerste skridt vaere at starte en "Source Browser". Derved bliver det
muligt at grave den kode frem hvor der evt. skal saettes breakpoints. 
Source browseren giver forhaabentlig sig selv. Ellers spoerg.

Lidt loesrevne oplysninger af forskellig art:

   I et code-view kan I klikke paa et imperativ saa det bliver valgt, 
   hvorefter klik-tryk-og-hold-venstre-musetast-nede popper en menu op 
   der giver mulighed for at saette diverse breakpoints osv.

   Alle nestede vinduer har en menu, lad os kalde den VM, paa knappen i 
   oeverste venstre hjoerne. Indtil en mere omfangsrig manual foelger, 
   bedes I selv udforske mulighederne i denne menu.

   Et nestet vindue kan hurtigt lukkes ved <Shift-Ctrl-Klik> i dets
   titel bar.

   Flere nestede vinduer kan vaelges ved <Shift-Klik> i deres titel bar,
   eller ved at traekke en outline daekker alle vinduerne. Herefter kan
   de alle lukkes vha. Ctrl-W eller ved at vaelge "Close" i "Edit" menuen.

   Environment Editor og Source Browser lukkes ved at vaelge "close" eller
   "delete" i window manager menuen.

   Object Views har, foruden menuen paa knappen i oeverste venstre hjoerne,
   en popup menu som kommer frem ved at klikke og holde venstre musetast
   nede i selve vinduet. Indholdet af denne menu relaterer sig til den
   oejeblikkeligt valgte objekt attribut, hvorimod VM menuen relaterer
   sig til det nestede vindue som helhed.

   I et stak view kan man klikke og holde musen nede paa en indgang. Dette
   vil poppe en menu op hvor man saa kan vaelge at se det objekt der svarer
   til den valgte stak position (stakken viser kun kode adresser).

Kendte bugs:

   1. Keyboard shortcuts virker ikke altid. Dette er et kendt guienv
      problem.

   2. Hvis valhalla gaar ned (og det goer den jo, da det er en alfa
      version), vil den debuggede process blive haengende. Det er 
      noedvendigt at slaa denne ihjel selv (kill -9 ...). Endvidere
      vil der i den situation ligge nogle filer ved navn
         /tmp/betadebugFrom<PID> og /tmp/betadebugTo<PID>
      hvor PID vil vaere process id paa den valhalla der lige doede.
      Disse boer principielt slettes, men undlad af hensyn til jeres
      med-betaexp'ere at slette nogen hvor PID ikke svarer til jeres
      egen debugger. Er I i tvivl, saa undlad at slette dem. Det er
      ikke saerlig vigtigt. 

   3. "Set Breakpoint After" og lignende "after" ting virker ikke.

   4. I stakviews og objectviews er det noedvendigt at klikke, og derefter
      klikke-og-holde-musen-nede for at den menu der popper op faktisk
      er relateret til det valgte item. Ellers vil menuen vaere relateret
      til det sidst valgte item.

   5. Man skal ikke forsoege at browse objekter hvis den debuggede
      process koerer. Det giver ikke andet end boevl...

Det var dem I ihvertfald skal kende. Saa satser jeg paa at I selv finder
ud af resten :-) Der er naturligvis stadig manglende funktionalitet, men
den kommer til efterhaanden. Har i nogen oensker hoerer jeg naturligvis
gerne om dem.

  -- Soren

From sbrandt@daimi.aau.dk Fri Mar 17 20:45:10 1995
Received: from xdaimi.daimi.aau.dk by daimi.aau.dk with SMTP id AA03316
  (5.67b8/IDA-1.5); Fri, 17 Mar 1995 20:45:07 +0100
Received: by xdaimi.daimi.aau.dk id AA23378
  (5.67b8/IDA-1.5); Fri, 17 Mar 1995 20:43:45 +0100
From: S|ren Brandt <sbrandt@daimi.aau.dk>
Message-Id: <199503171943.AA23378@xdaimi.daimi.aau.dk>
Subject: Re: ELF og valhalla
To: Ole.Madsen@eng.sun.com (Ole Lehrmann Madsen)
Date: Fri, 17 Mar 1995 20:43:43 +0100 (MET)
Cc: Ole.Madsen@eng.sun.com, sbrandt@daimi.aau.dk, datpete@mjolner.dk,
        kjm@mjolner.dk, ess@daimi.aau.dk, jlk@daimi.aau.dk
In-Reply-To: <9503171746.AA18703@det.Eng.Sun.COM> from "Ole Lehrmann Madsen" at Mar 17, 95 09:46:35 am
X-Mailer: ELM [version 2.4 PL24]
Content-Type: text
Content-Length: 6924      
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO

> 
> > 
> > Det er korrekt at Self kan, men hvad angaar Lisp og Smalltalk, er
> > det en ret loest funderet paastand at saadanne systemer kan debugge
> > hoejt optimeret kode. Det er jo ikke nogen kunst at debugge i et 
> > uoptimeret bytecode fortolket system. Saa snart der er tale om 
> > "rigtige" optimerende compilere tror jeg stadig at Self er *helt* alene.
> > Sig mig imod hvis du konkret ved noget andet...
> > 
> 
> Smalltalk generer ogsaa maskin kode.

Ja, det goer moderne Lisp systemer ogsaa. Men jeg pastaar stadig at de
ikke kan debugge super optimeret kode. Og ja, option 499 handler om en enkelt
specifik optimering som sikkert godt kunne haandteres. Problemet er bare at
der er masser af andre ting i valhalla der ogsaa skal goeres faerdige, og saa
hjaelper det ikke at der kommer flere ting til. Saa hvad angaar 499 er det
et kortsigtet ressource problem (som saedvanlig :-(). Hvad angaar kraftigere
optimeringer, handler det om at visse typer af optimeringer kan goere det
helt umuligt at mappe fra maskinkode linier og tilbage til den tilsvarende
source-linie. Det er mest sidstnaevnte type af optimeringer jeg er nervoes
for i fremtiden, og det er saadanne optimeringer samt inlining der forhindrer 
det du kalder primitive systemer i at debugge optimeret kode. Ioevrigt er der
givetvis langt flere ressourcer paa Microsofts "primitive" Visual C++ end der
er paa vores avancerede Mjolner BETA system. Saa hvis de ikke kan, hvorfor
skulle vi saa kunne? (Jeg skal skynde mig at sige at jeg faktisk ikke kender 
til Visual C++ evner paa dette omraade.)

> 
> Fint!
> 
> > Men lige nu og her hjaelper idealisme os altsaa ikke til at faa lavet en
> > debugger der er en kommerciel realitet paa mange forskellige platforme
> > naar compileren samtidig begynder at lave vilkaarligt avancerede optimeringer.
> 
> De er sandelig ikke vilkaarlige men velovervejede:-)
>

"Vilkaarligt" gik paa gradboejningen af avanceret :-)
 
> > Debuggeren er jo en temmelig vigtig del af produktet, hvis vi skal 
> > have det solgt til "rigtige projekter".
> > 
> Enig!
> 
> > Bemaerk at Self jo ikke ligefrem kan siges at vaere kommercielt interessant, 
> > og ioevrigt kun koerer paa en enkelt platform. Hvor mange mandeaar har de 
> > brugt paa at komme dertil?
> 
> Jeg ved ikke hvor mange aar de har brug paa debuggeren men ikke ret meget
> 
> > 
> > Og hvis du taeller efter, kommer du frem til at der i oejeblikket er 0 (nul)
> > mand ansat paa valhalla projektet. Hvem af dem synes du vi skal saette til
> > at holde valhalla up-to-date med et moving target? 
> > 
> Det drejer sig pt om en enkelt optimalisering nemlig 499!
> Saa jeg synes det er for hurtigt at give op uden en ordenlig diskussion
> af hvad der kan goeres. Vi er vel enige om at der lobende
> skal laves optimaliseringer.
> med hensyn til resourcer saa diskuteres der jo loebende hvordan disse
> skal allokeres for at daekke behovet bedts.

Saa kan vi jo definere at afskaffelsen af to saet .o filer er en optimering,
som der lige nu ikke er ressourcer til :-`

> 
> Og jeg har vel sagt flere gange at 499 ikke saettes i sving foer vi har en 
> loesning!

Og det synes jeg ville vaere synd! Igen af kommercielle aarsager er det godt
at kunne reklamere med effektive kode, hvorimod ingen vil spoerge om
vi kan debugge optimerede programmer.

> 
> 
> > Saa det korte af det lange er at man nu og her kan vaelge mellem foelgende
> > muligheder:
> > 
> >   1. En ikke-optimerende compiler og en debugger der virker.
> >   2. En optimerende compiler og ingen debugger.
> >   3. En optimerende compiler der genererer uoptimerede objekt filer til brug
> >      ved debugging. Det er jo ioevrigt kun de objekt filer der skal debugges
> >      der behoever at vaere de-optimerede. Hvordan programmoeren saa skal pege
> >      dem ud for compileren kan man goere sig nogle overvejelser over.
> > 
> > Jeg har vist sagt hvilken af de 3 jeg foretraekker :-)
> 
> Jeg foretrakker 1 frem for 3. Det er i praksis efter min mening IKKE
> acceptabelt at skulle genoversaette for at kunne debugge.
> Og jeg mener at vi hurtigst mulig skal af med .gs og .go
> filerne. Jeg opfattede dem som et hack for at kunne debugge i basclib/v1.4?
> 

Det gjorde jeg ogsaa, men saa kom der en mand forbi med en forbedret 
compiler...

> De boer fjernes saa snart folk gaar over til basiclib/v1.5

Diskussionen er aaben :-)

  -- Soren

> 
> ---olm
> 
> > 
> >   -- Soren
> > 
> > > 
> > > 
> > > 
> > > Det er je ikke:-)
> > > 
> > > Ang. ..db-filer, saa er det ok med mig at de er i en separat fil,
> > > men det kan vel ikke vere andet en et enkelt slot der i givet fald
> > > skal til for at laese dem fra .o-filen? Men skidt med det.
> > > 
> > > Ang. 2 saet .o-, .go-filer, saa er jeg helt uening i dette!
> > > Vi skal IKKE ha 2 saet .o-filer og en oversettelses switch.
> > > Man skal umiddelbart kunne debugge et program UDEN at skulle genoversaette
> > > igen.
> > > 
> > > Selv om primitive sprog som C++ har det saadan saa skal vi vere bedre paa
> > > det punkt. Self, Lisp, og Smalltalk har det ikke sadant!
> > > 
> > > Self er i stand til at decode sine optimeringer saa kode og objekter
> > > vises i det uoptimerede format - og naar jeg nu sidder her i Self lejren,
> > > saa kan jeg selvfolgelig ikke staa model til noget der er ringere:-)
> > > 
> > > Jeg saetter selvfolgelig ikke 499 i vaerk foer vi har en fornuftig
> > > loesning, men det er jeg siker paa at vi finder:-)
> > > 
> > > ---olm
> > > 
> > > > Tak Peter. Jeg er selvfoelgelig 100% enig.
> > > > 
> > > 
> > > I skal vel ikke giftes:-)
> > > 
> > > >   -- Soren
> > > > 
> > > > > 
> > > > > Jeg snakkede kort med S|ren i g}r om muligheden for at l{gge ..db informationen 
> > > > > ned i et separat segment i ELF filer.
> > > > > Det var han ikke begejstret for: Dette vil g|re l{sning af debug info maskin
> > > > > afh{ngigt for debuggeren, og een af de store fremskridt i v2.0 har netop
> > > > > v{ret at man er kommet af med maskinafh{ngigheden i debug info formatet.
> > > > > S} det er nok ikke en god ide...
> > > > > 
> > > > > En anden ting er optimeringer: S|ren vil *meget* gerne have, at de optimeringer,
> > > > > som switch 499 i |jeblikket giver (dem der {ndrer inner kald, prototype layout
> > > > > etc) IKKE genereres n}r man overs{tter med -g.
> > > > > Dvs at vi er n|dt til at forts{tte med to s{t objektfiler: .o og .go.
> > > > > Men det g|r stort set alle andre compilere ogs} (i hvert fald genereres der 
> > > > > forskellige ting til .o filerne, selvom de ofte hedder det samme), s} det
> > > > > synes jeg m}ske ogs} er en god ide.
> > > > > 
> > > > > Optimeringer som opl|sning af multiplikation med topotenser til shiftleft
> > > > > etc skal selvf|lgelig altid laves. Det er nok n|dvendigt at s{tte sig ned og
> > > > > definere hvilke optimeringer, der er kompatible med debuggeren.
> > > > > 
> > > > > /Peter
> > > > > 
> > > > 
> > > > 
> > > 
> > 
> > 
> 


From sbrandt@daimi.aau.dk Fri Mar 17 18:38:05 1995
Received: from quercus.daimi.aau.dk by daimi.aau.dk with SMTP id AA01382
  (5.67b8/IDA-1.5); Fri, 17 Mar 1995 18:38:03 +0100
Received: by quercus.daimi.aau.dk id AA00755
  (5.67b8/IDA-1.5); Fri, 17 Mar 1995 18:37:05 +0100
From: S|ren Brandt <sbrandt@daimi.aau.dk>
Message-Id: <199503171737.AA00755@quercus.daimi.aau.dk>
Subject: Re: ELF og valhalla
To: Ole.Madsen@eng.sun.com (Ole Lehrmann Madsen)
Date: Fri, 17 Mar 1995 18:37:04 +0100 (MET)
Cc: datpete@mjolner.dk, kjm@mjolner.dk, ess@daimi.aau.dk, jlk@daimi.aau.dk,
        ole.madsen@eng.sun.com (Ole Lehrmann Madsen), sbrandt@daimi.aau.dk
In-Reply-To: <9503171707.AA18593@det.Eng.Sun.COM> from "Ole Lehrmann Madsen" at Mar 17, 95 09:07:30 am
X-Mailer: ELM [version 2.4 PL23beta2]
Content-Type: text
Content-Length: 4191      
X-Charset: LATIN1
X-Char-Esc: 29
Status: RO


Det er korrekt at Self kan, men hvad angaar Lisp og Smalltalk, er
det en ret loest funderet paastand at saadanne systemer kan debugge
hoejt optimeret kode. Det er jo ikke nogen kunst at debugge i et 
uoptimeret bytecode fortolket system. Saa snart der er tale om 
"rigtige" optimerende compilere tror jeg stadig at Self er *helt* alene.
Sig mig imod hvis du konkret ved noget andet...

Det er helt fint at vaere idealistisk, og et projekt gaaende ud paa at
debugge optimeret BETA kode ville da vaere spaendende. Det passer ovenikoebet
fint ind i Rene's og mine planer om forskning i BETA's runtime system, omend
paa temmelig (meget) lang sigt.

Men lige nu og her hjaelper idealisme os altsaa ikke til at faa lavet en
debugger der er en kommerciel realitet paa mange forskellige platforme
naar compileren samtidig begynder at lave vilkaarligt avancerede optimeringer.
Debuggeren er jo en temmelig vigtig del af produktet, hvis vi skal 
have det solgt til "rigtige projekter".

Bemaerk at Self jo ikke ligefrem kan siges at vaere kommercielt interessant, 
og ioevrigt kun koerer paa en enkelt platform. Hvor mange mandeaar har de 
brugt paa at komme dertil?

Og hvis du taeller efter, kommer du frem til at der i oejeblikket er 0 (nul)
mand ansat paa valhalla projektet. Hvem af dem synes du vi skal saette til
at holde valhalla up-to-date med et moving target? 

Saa det korte af det lange er at man nu og her kan vaelge mellem foelgende
muligheder:

  1. En ikke-optimerende compiler og en debugger der virker.
  2. En optimerende compiler og ingen debugger.
  3. En optimerende compiler der genererer uoptimerede objekt filer til brug
     ved debugging. Det er jo ioevrigt kun de objekt filer der skal debugges
     der behoever at vaere de-optimerede. Hvordan programmoeren saa skal pege
     dem ud for compileren kan man goere sig nogle overvejelser over.

Jeg har vist sagt hvilken af de 3 jeg foretraekker :-)

  -- Soren

> 
> 
> 
> Det er je ikke:-)
> 
> Ang. ..db-filer, saa er det ok med mig at de er i en separat fil,
> men det kan vel ikke vere andet en et enkelt slot der i givet fald
> skal til for at laese dem fra .o-filen? Men skidt med det.
> 
> Ang. 2 saet .o-, .go-filer, saa er jeg helt uening i dette!
> Vi skal IKKE ha 2 saet .o-filer og en oversettelses switch.
> Man skal umiddelbart kunne debugge et program UDEN at skulle genoversaette
> igen.
> 
> Selv om primitive sprog som C++ har det saadan saa skal vi vere bedre paa
> det punkt. Self, Lisp, og Smalltalk har det ikke sadant!
> 
> Self er i stand til at decode sine optimeringer saa kode og objekter
> vises i det uoptimerede format - og naar jeg nu sidder her i Self lejren,
> saa kan jeg selvfolgelig ikke staa model til noget der er ringere:-)
> 
> Jeg saetter selvfolgelig ikke 499 i vaerk foer vi har en fornuftig
> loesning, men det er jeg siker paa at vi finder:-)
> 
> ---olm
> 
> > Tak Peter. Jeg er selvfoelgelig 100% enig.
> > 
> 
> I skal vel ikke giftes:-)
> 
> >   -- Soren
> > 
> > > 
> > > Jeg snakkede kort med S|ren i g}r om muligheden for at l{gge ..db informationen 
> > > ned i et separat segment i ELF filer.
> > > Det var han ikke begejstret for: Dette vil g|re l{sning af debug info maskin
> > > afh{ngigt for debuggeren, og een af de store fremskridt i v2.0 har netop
> > > v{ret at man er kommet af med maskinafh{ngigheden i debug info formatet.
> > > S} det er nok ikke en god ide...
> > > 
> > > En anden ting er optimeringer: S|ren vil *meget* gerne have, at de optimeringer,
> > > som switch 499 i |jeblikket giver (dem der {ndrer inner kald, prototype layout
> > > etc) IKKE genereres n}r man overs{tter med -g.
> > > Dvs at vi er n|dt til at forts{tte med to s{t objektfiler: .o og .go.
> > > Men det g|r stort set alle andre compilere ogs} (i hvert fald genereres der 
> > > forskellige ting til .o filerne, selvom de ofte hedder det samme), s} det
> > > synes jeg m}ske ogs} er en god ide.
> > > 
> > > Optimeringer som opl|sning af multiplikation med topotenser til shiftleft
> > > etc skal selvf|lgelig altid laves. Det er nok n|dvendigt at s{tte sig ned og
> > > definere hvilke optimeringer, der er kompatible med debuggeren.
> > > 
> > > /Peter
> > > 
> > 
> > 
> 


