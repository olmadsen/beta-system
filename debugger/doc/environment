
Management of environment variables.
====================================

Involved source files:

  environment.bet
  private/environmentbody.bet
  valhallaparams.bet
  UI/enveditor.bet

Valhalla keeps a database (environDB, see environment.bet) of
environment variables used to setup the environment of the 
debugged process. Like a number of other valhalla-global
containers, the singular environment database is put into
the objectpool, and fetched using "getEnvironDB" pattern from 
environment.bet.
 
If no environment database has been created, getEnvironDB creates 
one, initializes it, and puts it into objectPool. The initial
contents of the singular environDB instance is the environment of 
valhalla itself.

Since command-line parameters may change the contents of the environDB, 
it must be initialized to its default contents before reading valhalla 
command-line parameters. Thus, the first call to getEnvironDB is made in
the implementation of parseValhallaParams (valhallaparams.bet), before 
reading valhalla command-line parameters. 

parseValhallaParams is in turn called from the dopart of the valhalla
main program (valhalla.bet).

Apart from valhalla command-line parameters, the user may open an
environment editor (UI/enveditor.bet), allowing him to interactively
edit the contents of the environment of the debugged process. Of course 
the changes will not become effective until the process is re-started.

The contents of the environDB is used to setup the environment 
parameters to the "exec" system call when debugged process. On
UNIX, this is done in "private/processcommbody_unix.bet".

