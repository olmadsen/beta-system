
GC callbacks. Attach callbacks. CBFA callbacks.

getReturnAddress boer fejle hvis retur-addressen ligger i Attach
runtime rutinen. Dette tilfaelde fanges i stedet af Attach callbacks.

valhallaFindComp.c har stadig problemer efter sletningen. Proev at
aabne stakken med veu.bet...

Der er ikke noget der forhindrer browsing i object views selvom processen koerer.
Dette skal indfoeres paa passende vis.

Kan man eksplicit saette target til en editor??

Hvorfor bipper editoren hver gang en tast trykkes ned? Kan det laves om? (Det har
formentlig at goere med at editering ikke tillades, men jeg benytter selv
taste-trykkene, og er ikke interesseret i at der bippes.

Problematisk markering af stop sted naar der er tale om enden af en Imperatives
list. Hvordan selekteres noget fornuftigt for at vise dette?

Aabning af object-view kan give "valhallaOnProcessStop reentered.". Formentlig
en allerede rettet fejl der er returneret pga. sletningen af det nye
runtime system. (stadig?)

Overvej at gemme codeviews mens de updates. Det ser dumt ud med den sorte
selektion...

codeviewere har en reference til debuggee. Af den grund skal man huske at
lukke codeviewere hvis der skiftes til en ny debuggee. Det kan ske enten
ved at man eksplicit aabner en ny debuggee, eller der laves rerun. I sidste
tilfaelde skulle codeviewere gerne gen-aabnes, men med nye AST'er.
Hvad med breakpoints i den situation.

Det skal sikres at den debuggede process doer naar valhalla doer. Kan det lade
sig goere at checke om en fifo er "i live"??

Gives en ikke-eksekverbar som parameter, haenger valhalla. Aner ikke hvorfor,
men problemet maa jo noedvendigvis ligge omkring vfork/exec. Dette goeres
af executeProcess i external/processComm.c. Alternativt kan det vaere
at den ikke opdager at fork mislykkedes, og giver sig til at vente paa
fifo'en???

Memory leak? valhalla vokser voldsomt hvis der aabnes en masse code views...
Aarsag: Callback operationer deinstalleres ikke i guienv.

Mangler debug information paa <ForImp>.<Index>

Haandtering af objekt attributter allokeret til for-loekker og labelled
imps... Findes ved at scanne doparten.

dopart objekter. Ok, men object-viewere har indtil videre ikke styr paa dem!!

textField.defaultStyle er ikke implementeret (returnerer NONE)

guienv.window: Hvordan 

  -- afgoeres naar et vindue lukkes af window manageren
  -- afgoeres om et vindue er ikoniseret
  -- aabnes et ikoniseret vindue
  -- aendres ikonet anvendt af window manageren

Er det muligt at faa et callback naar en menu poppes ned?

Det er efterhaanden MEGET VIGTIGT at faa rettet et antal fejl i guienv,
hvis debuggeren skal vaere nogenlunde klar 1. februar.
PRIORITERING PLEASE!!!

Jeg mangler:

  1. Keyboard acceleratorer er meget ustabile. I mange tilfaelde hjaelper 
     det hvis man lige popper den relaterede menu op, og derefter popper 
     den ned igen.
      
  2. Popup menuer:
         a. For menuItems i popup menuer kaldes eventhandler.onStatus
            ikke. Som en konsekvens kan saadanne menuItems ikke disables.
         b. menu.eventhandler.onSelect kaldes ikke i en menu der poppes op som
            submenu.
         c. Ved popup er det defaulte menuitem ikke valgt. Musen staar ganske
            vist over default item, men det er ikke selekteret.

  3. En BringBack paa window items.

  4. Naar textScrollList.mouseDown kaldes, er selection.first endnu ikke sat.
     Det er altsaa ikke muligt at udfoere noget selektions-specifikt paa
     andet end dobbelt-click eller mouseUp.

  6. henryml: I graphicaleditorbody bruger du nogle "stripes" til at
     lave en "loebende outline". Kan du ikke goere det tilgaengeligt
     saa jeg kan komme til at bruge disse "stripes".

  7. system.wait duer ikke for tider mindre end 60 ticks. tv_usec feltet
     i en timeval er *micro* sekunder, og ikke 1/60 sekund. En wait der
     duer er:

          wait: 
            (# timeVal: data
                 (# tv_sec: @integer;
                    tv_usec: @integer;
                 #);
               select: external
                 (# nfds, readfds, writefds, exceptfds: @integer;
                    timeout: ^timeVal;
                    result: @integer;
                 enter (nfds, readfds, writefds, exceptfds, timeout[])
                 exit result
                 #);
               tv: @timeVal;
               ticks: @Integer;
            enter ticks
            do ticks div 60->tv.tv_sec;
               (ticks mod 60)*(1000000 div 60)->tv.tv_usec;
               (0, 0, 0, 0, tv[]) -> select;
            #);

Noget doer med "reference is NONE" hvis betaObjectObjectDescriptor returnerer
NONE. Der skal i stedet rejses en exception om at man ikke kender typen
af et givet objekt.

  1. betaObject.description skriver nu "UNKNOWN" hvis 
     betaObjectObjectDescriptor fejler.

  2. Et ObjectView skal aendres saa det viser noget low-level
     information hvis et objekts type ikke er kendt. Dette kan fx.
     goeres ved at bede objektet beskrive sig selv via et "scanLowLevelDesc"
     interface. Evt. kan hver low-level linie forbindes med en "onSelect"
     action, saa det kan tillades at dobbelt-clicke ogsaa paa saadanne
     linier og faa mere info. Dette low-level view kan ogsaa bruges som
     "alternativt view" paa et objekt, der angiver addresse, hvor objektet
     "bor" (AOA eller IOA), prototype addresse i low-level termer, navnet
     paa gruppen som prototypen stammer fra, prototype nummer i denne 
     gruppe, T label for prototypen, objektets stoerrelse i bytes, ...

Dialog til indstilling af preferencer (i stedet for nuvaerende menu).

Keyboard aekvivalenter paa "Go Back", "Close", ... i objekt viewere.

   shift-control-leftmouse paa header eller icon lukker nu en moveable
   
   dobbelt-click paa "iconify-button" iconiserer.
   enkelt-click/hold nede paa "iconify-button" eller icon popper moveable 
   menuen op.
 
   shift-move traekker den udpegede moveable eller icon rundt.

   click paa moveable header eller icon  selekterer den udpegede moveable.

   shift-click paa moveable header eller icon tilfoejer den udpegede
   moveable til liste af selekterede movebles.

   enkelt-click/hold paa objectviews popper itemmenu'en op.

   

   Maalet er at afskaffe brug af andet end venstre musetast.

   Hvis "DragOnOpen" option'en er TRUE, vises initielt en outline af
   en moveable. ctrl-leftmouse giver mulighed for at placere vieweren.
   leftmouse flytter naermeste hjoerne af vieweren til musen (derved aendres
   stoerrelsen), og yderligere drag vil resize. Naar musen slippes vil
   vieweren aabnes.

"Close Multiple" skal aendres saa viewere selekteret for lukning er fremhaevet.

DisplayBetaStack i outpattern.c skal kalde valhalla funktion der skal afgoere
hvad der skal ske:

  1. Hvis processen allerede debugges skal der kommunikeres med valhalla.
  2. Hvis processen ikke debugges skal brugeren spoerges om valhalla skal
     startes og/eller kontaktes.

Da det ser ud til at vi kan klare os fint med ptrace droppes "/proc" 
fil systemet paa solaris indtil videre.

Check at valhalla kan finde ud af at vise det fejlende imperativ i tilfaelde
af runtime fejl.


   >
   >
   > Er det helt umuligt for Valhalla, at kunne udpege denne reference ?
   > Det ville v{re en utrolig rar facilitet.
   >
   > --- jlk
   >

   Skal spoergsmaalet forstaas saadan at du i generel forstand vil have
   valhalla til at udpege hvilken reference attribut der var NONE?

   I saa fald er svaret nok noget i stil med *naesten*.

   Naar der opstaar en "Reference is NONE" fejl er PC og current object
   de eneste oplysninger valhalla har at arbejde med. Man kunne saa godt
   forestille sig at den scannede det fejlende imperativ for at lokalisere
   "remote"'s paa dynamiske referencer, og derefter checkede vaerdien af
   disse referencer. Hvis een af dem var NONE (der kan jo vaere nogen stykker)
   kunne den jo foreslaas som synderen.

   Men der er jo lige en del tilfaelde at tage hoejde for... De fleste kan
   klares med en fortolkning af expressions, men generelt computed remote er
   nok ikke lige inden for raekkevidde.

   OLE: Kan der siges noget om implementationen af Computed Remote der goer
   at det maaske alligevel er muligt?

   Saa vi kommer nok ikke naermere end en 90% loesning. Det er jo som regel
   ogsaa godt nok.


guienv.questions (fra ~debugger/v2.0/test):


Advarsel: Under motif skal man i visse situationer huske at appende et
          menuitem til sin menu inden man forsoeger at saette navnet
          paa dette menuitem. Vist nok isaer hvis menuen har vaeret clearet,
          og man derefter appender nye menuitems til den.

Mangel: system.wait er ikke implementeret. Jeg skal bruge den til noget
        visuelt feedback!!! Indtil videre bruger jeg sleep fra unixinterface,
        men det holder jo ikke i laengden.

Fejl:  Naar textscrolllist.singleSelection har vaeret sat til FALSE, og
       derefter saettes tilbage til TRUE, vil hvert andet click paa en
       indgang vaelge og hvert andet click afvaelge denne indgang.
       Dette er ikke tilfaeldet foer singleSelection har vaeret
       aendret. Det giver anledning at der til tider ikke er nogen selection
       under haandtering af dobbelt-click.
