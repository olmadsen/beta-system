ORIGIN '~beta/basiclib/v1.6/betaenv';
(*
 * COPYRIGHT
 *   Copyright Mjolner Informatics, 1995-96
 *   All rights reserved.
 *)
BODY 'private/binarystreambody';

---LIB:attributes---

BinaryStream:
  (# put: @
       (# ch: @char 
       enter ch 
       <<SLOT BinaryStreamPut:dopart>> 
       #);
     putShort: @
       (# V: @integer 
       enter V 
       <<SLOT BinaryStreamPutShort:dopart>> 
       #);
     putLong: @
       (# V: @integer 
       enter V 
       <<SLOT BinaryStreamPutLong:dopart>> 
       #);
     putText: @
       (# T: ^text
       enter T[] 
       <<SLOT BinaryStreamPutText:dopart>> 
       #);
     get: @ 
       (# ch: @char 
       <<SLOT BinaryStreamGet:dopart>> 
       exit ch 
       #);
     getShort:  @
       (# V: @integer 
       <<SLOT BinaryStreamGetShort:dopart>> 
       exit V 
       #);
     getLong: @
       (# V: @integer 
       <<SLOT BinaryStreamGetLong:dopart>> 
       exit V 
       #);
     getText: @
       (# T: ^text
       <<SLOt BinaryStreamGetText:dopart>> 
       exit T[] 
       #);
     save:
       (# openFailed:< Exception;
          FN: ^text
       enter FN[] 
       do <<SLOT BinaryStreamSave:descriptor>>
       #);
     restore:
       (# notFound:< Exception;
          FN: ^text 
       enter FN[]
       do <<SLOT BinaryStreamRestore:descriptor>>
       #);
     fragRestore:
       (# notFound:< Exception;
          FN: ^text 
       enter FN[]
       do <<SLOT BinaryStreamFragRestore:descriptor>>
       #);
     rep: @ <<SLOT BinaryStreamRep:descriptor>>             
  #)
