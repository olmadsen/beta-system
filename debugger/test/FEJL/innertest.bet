ORIGIN '~beta/basiclib/betaenv';
-- PROGRAM: Descriptor --
(#
   a,b,c,d,e: @integer;
   p: (#  do 34->d; INNER #);
   p2: (#  do 32->a; 1430->c; INNER ; 34->a;  #);
   pp: p (#  do 21->a;  #);
   qq: p (#  do 32->a; INNER #);
   s: (# v:< (#  do INNER #) do 3->a; v; 2->a #);
   ss: s (# v::  (#  do 32->c #) #);
   f: @ (# vv: p (#  do 111->d #);  #);
   fg: (# v:< p do 3->a; v; 2->a #);
   fgc: (# v:< f.vv do 3->a; v; 2->a #);
   ff: fg (# v::< f.vv #);
   g: (# v:< p do 32->a; v; 32->b;  #);
   h: <<SLOT h:Descriptor>>;
   h3: <<SLOT h3:Descriptor>>;
   h2: p2
     (#  <<SLOT h2:DoPart>> #);
   
do
(* test onelevel inner *)
   32->a;
   pp;
   1->a;
   (* anonymous *)
   qq
     (#  do 32->b;  #);
   2->a;
   (* test simple virtual *)
   ss;
   3->a;
   (* test anonymous *)
   s
     (# v::  (#  do 32->c;  #) #);
   (* test virt. qual. by attributedenotation *)
   231->a;
   g;
   32->d;
   (* test virt qual by remote attribute *)
   ff;
   32->d;
   fgc;
   23->a;
   (* test inner to desc slot *)
   h;
   243->a;
   h3;
   243->a;
   (* test inner to dp slot *)
   h2;
   243->a;
   
#)  

-- h: Descriptor --
p2 (#  do 23->a;  #)  

-- h2: DoPart --
do 32->a; 32->a;   

-- h3: Descriptor --
(#  do 23->a; 43->a;  #)  

