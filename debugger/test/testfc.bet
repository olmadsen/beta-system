ORIGIN '~beta/basiclib/v1.6/betaenv';
OBJFILE default '../private/external/testfc.o';

(*BETARUN default '~beta/debugger/v2.2/betarun/$/betarun.debug';*)
(*
 * COPYRIGHT
 *   Copyright Mjolner Informatics, 1995-96
 *   All rights reserved.
 *)

--- lib:attributes ---
printStackObj: external
  (# comp: @Integer;
  enter comp
  #);
callback: external
  (# cb: ##external;
  enter cb##
  #)

--- program:descriptor ---
(# c1: @|
     (# 
     do @@theProgram->TOS'%adrGetLong'->printStackObj; (* CS_PROCESSORSTACK *)
        c2;
        @@c2->printStackObj; (* CS_STACKOBJ *)
     #);
   c2: @|
     (# 
     do @@c1->printStackObj; (* CS_PROCESSORSTACK *)
        suspend;
     #);
   obj:
     (# 
     do c1;
     #);
   cb: external
     (# 
     do @@theProgram->TOS'%adrGetLong'->printStackObj; (* CS_PROCESSORSTACK *)
     #);
   
do @@c1->printStackObj;      (* CS_NOSTACK *)
   @@theProgram->TOS'%adrGetLong'->printStackObj; (* CS_PROCESSORSTACK *)
   obj;
   cb##->callback;
#)


(* NOSTACK  (c1)
 * PROCESSORSTACK (program)
 * PROCESSORSTACK (program)
 * PROCESSORSTACK (c1)
 * STACKOBJ (c2) *)
