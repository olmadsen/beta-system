ORIGIN '~beta/basiclib/v1.6/betaenv';
(*
 * COPYRIGHT
 *   Copyright Mjolner Informatics, 1995-96
 *   All rights reserved.
 *)

--- lib:attributes ---

connected_to_valhalla: external
  (# value: @Integer; (* TRUE <=> value<>0 *)
  exit value
  #);

startValhalla:
  (# debug_valhalla: @Integer;
     valhallaInit: external 
       (# debug_valhalla: @Integer; enter debug_valhalla #);
  enter debug_valhalla
  do (if connected_to_valhalla=0 then
         debug_valhalla->valhallaInit 
     if);
  #);

breakpoint:
  (* Simulates a runtime error in order to call valhalla. *)
  (# rep: [1]@Integer; i: @Integer;
  do rep[2]->i;
  #);
