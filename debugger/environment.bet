ORIGIN '~beta/basiclib/v1.4/betaenv';
INCLUDE 'namevaluedb';

BODY 'private/environmentbody';

(* ENVIRONDB
 * =========
 * 
 * The global environDB keeps track of the environment variables given
 * to the debugged process.
 * 
 * init initializes the db to contain the environment of the current
 *      process, i.e. the environment of valhalla itself. Init is called
 *      automatically by "getEnvironDB" when the db is first creatd.
 *      Init may also be used to reset the db at a later point in time.
 *)

--- lib:attributes ---

getEnvironDB: objectPool.get
  (# type::< environDB; init:: (# do obj.init #)#);

environDB: NameValueDB
  (# init::< (# do <<SLOT environDBinit:descriptor>> #)#);
