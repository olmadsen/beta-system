CC        = gcc -g 
BASEDIR   = $(BETALIB)/debugger/v2.0/private
EXTERNALDIR = $(BASEDIR)/external
OBJECTDIR = $(BASEDIR)/$(MACHINETYPE)

make: $(OBJECTDIR)/valhallaComm.o $(OBJECTDIR)/processComm.o $(OBJECTDIR)/valhallaFIFOS.o
      
$(OBJECTDIR)/valhallaComm.o: $(EXTERNALDIR)/valhallaComm.c $(EXTERNALDIR)/valhallaComm.h $(EXTERNALDIR)/valhallaFIFOS.h
	$(CC) -D$(MACHINETYPE) -c $(EXTERNALDIR)/valhallaComm.c -o $(OBJECTDIR)/valhallaComm.o -I$(BETALIB)/betarun/v2.6/$(MACHINETYPE)/C

$(OBJECTDIR)/valhallaFIFOS.o: $(EXTERNALDIR)/valhallaFIFOS.h $(EXTERNALDIR)/valhallaFIFOS.c
	$(CC) -D$(MACHINETYPE) -c $(EXTERNALDIR)/valhallaFIFOS.c -o $(OBJECTDIR)/valhallaFIFOS.o -I$(BETALIB)/betarun/v2.6/$(MACHINETYPE)/C

$(OBJECTDIR)/processComm.o: $(EXTERNALDIR)/processComm.c  
	$(CC) -D$(MACHINETYPE) -c $(EXTERNALDIR)/processComm.c -o $(OBJECTDIR)/processComm.o 

$(OBJECTDIR): 
	mkdir $(OBJECTDIR)
