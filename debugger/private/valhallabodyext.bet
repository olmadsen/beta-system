ORIGIN '../valhalla';
INCLUDE '../breakpointOperations';
-- valhallatrybreakonfirst:descriptor ---
(# p:@gui.breakpointcontroller
     (# getFocus::
          (# i: @integer
          do lasteditor.sifviewer.cs->(node[],i,i,i)
          #);
     #);
   node:^astinterface.ast;
   e:^astinterface.expanded;
   i:@integer;
   t:@text;
do
   p.init;
   ('Trying to set breakPoint in first statement!','Warning Debuggee not started!')->gui.alertinfo;
 
   lasteditor.sifviewer.cs->(node[],i,i,i);
   (*   
    * 'Kind: '->puttext;node.kind->putint;newline;
    * 'Symbol '->puttext;node.symbol->putint;newline;
    *)
   l:(if node[]<>none then 
         (if node.hascomment then (* find descriptor *)
             node[]->e[];
             e.getson1->node[];
             (if node[]=none then leave l; if);
         if);
         (if (node[],FALSE,debuggee[])->p.setOneShotBreakpoint then
             gui.debuggeeContinue;
             true->breaksetSucceded;
             True->continue;
         if);
     if);
#)
       
