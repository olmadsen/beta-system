ORIGIN 'valhallaGUI';
BODY 'private/codemoveablebody';

INCLUDE 'GUIprocess';
INCLUDE '~beta/objectbrowser/v2.0/UI/moveable';
INCLUDE '~beta/objectbrowser/v2.0/options';
INCLUDE '~beta/editor/v5.0/codeviewer';


--- valhallaMainlib:attributes ---

codemoveable: moveable
  (# debuggee: ^GUIprocess;
     cast: ^debuggee.AST.ast;
     
     contentsType::<
       (# editor: @sifTextEditor 
            (# open:: (# do <<SLOT codemoveableEditorOpen:descriptor>> #);
            #);
          open::<
            (# 
            do <<SLOT codemoveableContentsOpen:descriptor>>
            #);
          dobindings::<
            (# 
            do TRUE->editor.bindRight->editor.bindBottom;
            #);
       #);
     open::<
       (# 
       enter (debuggee[],cast[])
       do <<SLOT codemoveableopen:descriptor>>
       #);
     close::<
       (# 
       do <<SLOT codemoveableclose:descriptor>>
       #);
     icon::
       (#
       do 'CodeView_Icon'->(getIconDB).getIcon->theIcon[];
       #);
  #);
