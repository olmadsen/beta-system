ORIGIN '~beta/guienv/guienv';
INCLUDE 'seqdiagRenderer';
-- program: Descriptor --
(#
   gui: @guienv
     (#
        aWindow: @window
          (#
             n: @integer;
             open:: 
               (# 
               do
                  (100,100)->position;
                  (800,500)->size;
                  'Sequence diagram test'->title;
                  (0xffff,0xffff,0xffff)->backgroundColor;
                  sequenceDiagram.open;
                  (50,50,20)->sequenceDiagram.init
               #);
             eventhandler:: 
               (#
                  onAboutToClose::  (#  do terminate #);
                  onMouseDown:: 
                    (# obj1,obj2,obj3: ^objectColumnRenderer
                    do
                       ('object 1',none )->sequenceDiagram.addObject->obj1[];
                       ('object 2',none )->sequenceDiagram.addObject->obj2[];
                       ('object 3',none )->sequenceDiagram.addObject->obj3[];
                       (obj1[],obj2[],'foo','right')->sequenceDiagram.addMsg;
                       (obj1[],obj2[],'bar','right')->sequenceDiagram.addMsg;
                       (obj2[],obj1[],'baz','left')->sequenceDiagram.addMsg
                    #)
               #);
             sequenceDiagram: @seqdiagRenderer (# open::<  (#  #) #)
          #)
     do aWindow.open; 
     #);
   
do 'asdasd'->putline; gui; 
#)  

