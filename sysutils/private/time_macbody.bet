ORIGIN '../time';
INCLUDE '~beta/maclib/v3.0/mactypes'
        '~beta/maclib/v3.0/osutils';
        
BUILD default ':$$/timeInt.obj' ':external/timeInt.c' 'mrc -proto strict -o $0 $1';

-- systemTimeDoPart: DoPart --
do
   (# tt: @longInt;  do tt[]->GetDateTime; tt->t; INNER systemTime;  #);   

-- preciseTimeBody: Descriptor --
(# tt: @LongInt; 
do tt[]->GetDateTime; tt->time; 0->millitm; INNER preciseTime; 
#)  

-- cpuTimeDoPart: DoPart --
do 0->t; INNER ;   

-- formatTimeDoPart: DoPart --
do
   &text[]->readable[];
     (# 
        getdatestring: External
          (# dateTime: @Integer; result: ^pascalString; 
          enter (dateTime,result[])
          #);
        time: @PascalString;
        
     do (t,time[])->getdatestring; time->readable[]; 
     #)  

