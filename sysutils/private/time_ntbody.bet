ORIGIN '../time';
INCLUDE '~beta/win32lib/v1.6/ntinterface';

-- systemTimeDoPart: dopart --
do 0 -> time -> t; INNER;
   
-- preciseTimeBody: descriptor --
(# timeStruc: @timeb; stat: @integer;
do 10->malloc->timeStruc.ptr;
   timeStruc.ptr->ftime->stat;
   timeStruc.time -> time; timeStruc.millitm -> millitm;
   INNER preciseTime;
#)
   
-- cpuTimeDoPart: dopart --
do clock -> t; INNER;

-- formatTimeDoPart: dopart--
do &text[] -> readable[]; 
   @@t -> ctime -> readable;
   (* delete newline *)
   (readable.length,readable.length) -> readable.delete;
   INNER;
