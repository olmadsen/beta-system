ORIGIN '~beta/basiclib/v1.5/betaenv';
BODY 'private/timebody';

(*
 * COPYRIGHT
 *       Copyright Mjolner Informatics, 1992-96
 *       All rights reserved.
 *)

-- LIB: attributes --

systemTime:
  (* Exits the current time in a system-dependent format *)
  (# t: @integer;
  <<SLOT SystemTimeDoPart: dopart>>
  exit t
  #);

preciseTime:
  (* Same as SystemTime, except that it also returns the millisecond resolution
   * of time - note that the accuracy of the millisecond resolution is
   * system-dependent
   *) 
  (# time, millitm: @integer;
     gettime: @<<SLOT preciseTimeBody: descriptor>>
  do gettime;
  exit (time, millitm)
  #);

cpuTime:
  (* Exits the the amount of CPU time (in microseconds) used since the first
   * call to cpuTime (in the same program).  May not be supported on all
   * platforms.
   *)
  (# t: @integer;
  <<SLOT cpuTimeDoPart: dopart>>
  exit t
  #);

formatTime:
  (* Translates the entered system time into a text readable by humans *)
  (# t: @integer;
     readable: ^text;
  enter t
  <<SLOT FormatTimeDoPart: dopart>>
  exit readable[]
  #);
