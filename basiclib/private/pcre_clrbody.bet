ORIGIN 'pcrebody';
INCLUDE 'PcreClrHelper';
(*
 * COPYRIGHT
 *       Copyright (C) Mjolner Informatics, 2000-2003
 *       All rights reserved.
 *)

-- PcreCompile:dopart--
do (exp[], options, 0) -> PcreClrWrapper.compile -> private.compiled_regexp;
   
-- PcreLocaleCompile:dopart--
do (exp[], options) -> PcreClrWrapper.locale_compile -> private.compiled_regexp;
   
-- PcreStudy:dopart--
do (private.compiled_regexp, options) 
     -> PcreClrWrapper.study 
     -> private.extra;
   (if PcreClrWrapper.last_error <> NONE then
       1 -> private.errtext;
   if);
   
-- PcreFullInfo:dopart--
do (# results: [0]@int32;
   do (private.compiled_regexp, private.extra, pcre_INFO_CAPTURECOUNT) 
        -> PcreClrWrapper.full_info
        -> results[];
      results[1] -> subpatterns;
   #);   

-- PcreExec: dopart--
do (private.compiled_regexp, 
   private.extra, 
   subject[], 
   subject.lgth,
   position, 
   options,
   private.oVector[], 
   private.oVector.range) -> PcreClrWrapper.pcre_exec -> status;
   
--PcreError: dopart--
do (regexp[],PcreClrWrapper.last_error) -> compilation_error;
