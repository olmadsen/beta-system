ORIGIN 'filebody';
MDBODY ppcmac  'file_macbody'
       nti     'file_ntbody'
       default 'file_unixbody';
BUILD  nti    '$$/fileio.obj' 'external/fileio.c' 'betacc $0 $1'
       ppcmac ':$$:fileio.obj' ':external:fileio.c' 'mrc -proto strict -proto auto -shared_lib_export on -o $0 $1'
       default '$$/fileio.o' 'external/fileio.c' '$CC -D$$ -c -o $0 $1';

--LIB:attributes--

(* Externals from fileio.c *)

EOFvalue: External (* returns the EOF value *)
  (# N: @integer
  do CallC
  exit N
  #);

EOFfunction: External
  (# stream: @integer; 
     yes: @boolean; 
  enter stream
  do CallC
  exit yes
  #);

EofInGetStringFromFile: External
  (# yes: @boolean 
  do CallC
  exit yes 
  #);

GetStringFromFile: External
  (# stream: @integer;
     toEOL: @boolean;
     T: [1]@char;
  enter(stream,toEOL)
  do CallC
  exit T
  #);
