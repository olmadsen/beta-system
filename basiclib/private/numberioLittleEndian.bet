ORIGIN 'numberioBody'
(*
 * COPYRIGHT
 *       Copyright (C) Mjolner Informatics, 1992-96
 *       All rights reserved.
 *)   

--- numberioPutHex: descriptor ---
(# d, j: @integer;
   putC: @put
do (for i: 4 repeat
        (4-i)->j; j->x.%getByte->d;   
(* (i-1)->j; j->x.%getByte->d er af hensyn til en kodegen. fejl: a2AdrReg neg
 * Skal {ndres til (i-1)->x.%getByte->d n}r denne fejl er rettet.
 * Samme rettelse skal foretages 4 andre steder i dette fragment 
 *)
        d div 16->j; (if j<=9 then '0'+j->putC else 'A'+j-10->putC if);
        d mod 16->j; (if j<=9 then '0'+j->putC else 'A'+j-10->putC if)
   for)
#)

--- numberioPutByteHex: descriptor ---
(# d, j: @integer;
   putC: @put
do (4-byte)->j; j->x.%getByte->d;   
   d div 16->j; (if j<=9 then '0'+j->putC else 'A'+j-10->putC if);
   d mod 16->j; (if j<=9 then '0'+j->putC else 'A'+j-10->put if)
#)

--- numberioPutByteBinary: descriptor ---
(# j: @integer;
   putC: @put
do (4-(byte-1))*8->j;
   (for i:8 repeat
        '0'+(((j+i-1),1)->x.%getBits)->putC
   for)
#)

