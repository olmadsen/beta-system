ORIGIN '../filerep';
INCLUDE '../binfile'
---- FileRepSave: descriptor ----
(# f: @binfile;
   FP: @f.PutBytes
do (if filename[]=NONE then &text[]->filename[] if);
   filename[] -> f.name;
   f.OpenWrite; 
   (@@R[1],top*4) -> FP; 
   f.close
#)

---- FileRepRestore: descriptor ----
(# f: @binfile;
   FG: @F.GetBytes
do (if filename[]=NONE then &text[]->filename[] if);
   filename[] -> f.name;
   F.OpenRead; ((F.length-1) div 4)+1-> r.new;
   (@@R[1],R.range*4) -> FG; 
   F.close;
   R.range ->Top;
#)
