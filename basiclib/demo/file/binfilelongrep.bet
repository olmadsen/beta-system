ORIGIN '~beta/basiclib/binfile';
--PROGRAM: descriptor--
(# F: ^binfile;
   R1: [10]@integer;
   R2: [0]@integer;
do &binfile[] -> f[];
   'longrep' -> f.name;
   f.openwrite;
   'Hello World' -> f.putline;
   (for i:10 repeat i->R1[i] for);
   (R1[],10) -> f.putLongRep;
   'Goodbye, World' -> f.putline;
   f.close;
   
   &binfile[] -> f[];
   'longrep' -> f.name;
   f.openRead;
   f.getline -> putline;
   (10,0) -> f.getLongRep -> R2[];
   (for i:R2.range repeat
        R2[i] -> putint; newline;
   for);
   f.getline -> putline;
   f.close;
#)
