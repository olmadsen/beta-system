ORIGIN '~beta/basiclib/file';
INCLUDE '~beta/basiclib/streamPosition';
--PROGRAM: descriptor--
(# f: @file(# pc: @positionConverter #);
   line, col: @integer;
   lookup:
     (# pos: @integer;
     enter pos
     do pos -> f.pc.posToLineCol -> (line, col);
        'Position ' -> screen.puttext;
        pos -> screen.putint;
        ' in ' -> screen.puttext;
        f.name -> screen.puttext;
        ' is in line number '
          -> screen.puttext;
        line -> screen.putint;
        ' column ' -> screen.puttext;
        col -> screen.putint;
        screen.newline;
     #);
do 'positions.bet' -> f.name;
   f.openRead;
   f.position -> lookup;
   -10 -> lookup;
   1 -> lookup;
   100 -> lookup;
   500 -> lookup;
   1000000 -> lookup;
   'Number of lines are: ' -> screen.puttext;
   f.pc.numLines -> screen.putint;
   screen.newline;
   f.close;
#)
