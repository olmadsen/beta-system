ORIGIN '~beta/basiclib/binfile';
INCLUDE '~beta/basiclib/numberio';
--PROGRAM: descriptor--
(# f: ^binfile;
do &binfile[] -> f[];
   'binstore' -> f.name;
   f.openwrite;
   'Hello World' -> f.putline;
   3.14 -> f.putDouble;
   1000000 -> f.putLong;
   128 -> f.putShort;
   32 -> f.putByte;
   'Goodbye, World' -> f.putline;
   f.close;
   
   &binfile[] -> f[];
   'binstore' -> f.name;
   f.openRead;
   f.getline -> putline;
   f.getDouble -> putreal; newline;
   f.getLong -> putint; newline;
   f.getShort -> putint; newline;
   f.getByte -> putint; newline;
   f.getline -> putline;
   f.close;
#)
