ORIGIN 'betaenv'
(* Utilities for matching texts. Consider
 * 
 *    T: @text
 * 
 *    'foo' -> T.startsWith 
 *    is true if T starts with 'foo'
 * 
 *    'foo' -> T.endsWith 
 *    
 *    is true if T ends with 'foo'
 *)
---textlib:attributes---
startsWith: booleanValue
  (# S: ^text
  enter S[]
  do matchHead:
       (if S.length <= length then
           (for i: S.length repeat
                (if S.T[i] <> T[i] then
                    leave matchHead
           if)for);
           true -> value
        if)
  #);
endsWith: booleanValue
  (# S: ^text; tailStart: @integer
  enter S[]
  do matchTail:
       (if S.length <= length then
           length - S.length -> tailStart;
           (for i: S.length repeat
                (if S.T[i] <> T[tailStart+i] then
                    leave matchTail
           if)for);
           true -> value
       if)
  #);

