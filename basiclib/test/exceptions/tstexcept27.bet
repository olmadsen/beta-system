ORIGIN '~beta/basiclib/betaenv'; 
INCLUDE '~beta/basiclib/private/systemExceptionHandler';
INCLUDE 'tstexceptbetaenvlibc';

--PROGRAM:descriptor--
(# t: @text;
   a: @|(# p: (# do inner #);
           pp: @p
             (# r: [1]@char
             do r[2:3]-> ident -> r; (* RepHighRangeErr: Repetition subrange out of range (high) *)
             #);
        do pp
        #);
   b: @|(# q: (# do inner #);
           qq: @q(# do a; #);
        do qq
        #);
do runtimeExceptionHandler##->InstallSystemExceptionHandler;
   try
   (#
      name:: (# do 'repTry'->n[] #);
      handler::
        (# 
        do when (# type:: repHighRangeException
                do 'repTry handler...aborting'->putline;
                   abort;
                #);
        #);
   do b
   #);
#)


