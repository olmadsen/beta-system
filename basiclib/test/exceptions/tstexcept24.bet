ORIGIN '~beta/basiclib/betaenv';
INCLUDE '~beta/basiclib/private/systemExceptionHandler';
INCLUDE 'tstexceptlib';

-- PROGRAM: descriptor --
(# 
<<SLOT ProgramDo: dopart>>
#)
   
--ProgramDo:dopart--
do runtimeExceptionHandler##->InstallSystemExceptionHandler;
   try
   (#
      name:: (# do 'refNoneTry'->n[] #);
      handler::
        (# 
        do when (# type:: refNoneException
                do 'refNoneTry handler...aborting'->putline;
                   abort;
                #);
        #);
   do (for i:1 repeat
           (* Causes dopart object *)
           (# x:^object 
           do x; (* RefNoneErr: Reference is none *)
              (* The origin of this anonymous object is a DoPart object.
               * This used to give a "Surrounding Object Damaged" in dump.
               *)
           #);
      for);
   #);
   
