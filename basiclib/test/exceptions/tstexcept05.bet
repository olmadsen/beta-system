ORIGIN '~beta/basiclib/betaenv';
INCLUDE '~beta/basiclib/private/systemExceptionHandler';

-- program: descriptor --
(# 
   a: (# p: (# x:^object 
            do x; inner 
            #); (* RefNoneErr: Reference is none *)
         pp: @p(# do inner #);
      do pp; inner;
      #);
   aa: @|a(# do inner #);
do runtimeExceptionHandler##->InstallSystemExceptionHandler;
   
   try
   (#
      name:: (# do 'refNoneTry'->n[] #);
      handler::
        (# 
        do
           when (# type:: refNoneException
                do 'refNoneTry handler... aborting'->putline;
                   abort;
                #);
        #);
   do aa 
   #);
#)
