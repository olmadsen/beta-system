ORIGIN '~beta/bifrost/v1.8/bifrost';
[[
--INCLUDE '~beta/bifrost/v1.8/ColorNames'
--PROGRAM:descriptor--

bifrost
(# application::<
      (# myCanvas: @Canvas
      	    (# aGO: @GraphicalObject;
	       aSolidColor: @SolidColor;
	       
	       myShape: @Shape
	   	  (#
	   	  do (100,100) -> open;
	      	     (100,150) -> lineto;
	      	     (125,200) -> splineto;
	      	     (200,170) -> splineto;
	      	     (195,100) -> splineto;
	      	     close;
	   	  #);
	       onOpen::<
	   	  (#
	   	  do aSolidColor.init;
	      	     pink -> aSolidColor.name;
	      	     aGO.init;
	      	     myShape -> aGO.setShape;
	      	     aSolidColor[]-> aGO.setpaint;
	      	     aGO[] -> draw;
	      	     aGO[] -> hilite;
	   	  #);
	       onButtonPress::<
                 (# exactPos: ^point;
                 do mousePos -> DeviceToCanvas -> mousePos;
                    (aGO[], mousePos)-> HitControl -> exactpos[];
                    (if exactpos[] <> NONE // true then
                        aGO[] -> unhilite;
                        (aGO[], exactPos, NoModifier)
                          -> interactiveReshape;
                        aGO[] -> hilite;
                    if);
                 #);
	       onKeyPress::< (# do stop #);
      	    #);
      do (* application *)
         myCanvas.init;
      	 (300,300) -> myCanvas.Size;
      	 myCanvas.open;
      #);
#)
--]]

