origin '../betaenv';
betarun default '~beta/betarun/v2.6/$/betarun.debug'
---program:descriptor--
(# A: ^text; ch: @char;
   val: @integer; T: ^stream; S: ^text;
do 'start'->putline;
   'a'->ascii.isWhiteSpace->val;
   'slut'->putline;
   
   &text[]->s[];
   'hello'->s; 0->s.setpos; S[]->T[]; 
   T.scan
   (# while::<
        (#
        do 'aa\n'->screen.puttext;
           ch->Ascii.isWhiteSpace->value;
           'bb\n'->screen.puttext
        #)
   do 'ccc\n'->screen.puttext
   #);
   'ddd'->putline;
   
   keyboard.scan
   (# while::<
        (#
        do 'aa\n'->screen.puttext;
           ch->Ascii.isWhiteSpace->value;
           'bb\n'->screen.puttext
        #)
   do 'ccc\n'->screen.puttext
   #);
   'ddd'->putline;
   
   keyboard.scanwhitespace;
   
   (if keyBoard.EOS//true then 'eos'->putline
    else 'no eos'->putline;
   if);
   keyboard.peek->ch;
   ch->put;
   
   '\nscan 1:'->puttext;
   L:   keyboard.scan(# while::(#do true->value#) do ch->screen.put; leave L #); 
   (if keyBoard.EOS//true then '\neos'->putline
    else '\nno eos'->putline;
   if);
   
   '\nscan 2:'->puttext;
   L:   keyboard.scan
     (# while::(#do true->value#);
        n: @integer
     do ch->screen.put; 
        (if n+1->n//3 then leave L if)
     #); 
   '\ngetatom:'->putline;
   
   
   keyboard.getAtom->A[];
   A[]->putline
#)
