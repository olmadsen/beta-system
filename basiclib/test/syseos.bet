ORIGIN '~beta/basiclib/systemenv';
--PROGRAM: descriptor--
systemenv
(# T: @Text; c:@char; done: @Boolean;
   ping: system
     (# 
     do L: (# do 1->sleep; 'ping'->screen.putLine; 
              (if not done then  restart L if) #)
     #);
   
do &|ping[]->fork;
   
   L:(if not keyboard.eos then
         keyboard.get -> c-> t.put;
         c->screen.put;
         restart L
     if);
   'Got:"'->screen.putText;t[]->screen.putText;'"'->screen.putLine;
   true->done;
#)
