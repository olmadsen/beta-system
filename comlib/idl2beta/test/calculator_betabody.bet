ORIGIN 'calculator';
INCLUDE '~beta/basiclib/v1.6/numberio';

--CalculatorAdd: descriptor--
(# do (op1 + op2) -> op1 #)
--CalculatorSub: descriptor--
(# do (op1 - op2) -> op1; #)
--CalculatorDiv: descriptor--
(# 
do (if op2 = 0 then 
       0 -> op1 
    else
       (op1 div op2) -> op1;
   if);
#)
--CalculatorMul: descriptor--
(# do (op1 * op2) -> op1; #)


--CalculatorHex2Dec:dopart--
do (if '0' -> hex.equal then
       '0' -> dec[];
    else
       '' -> dec[];
       hex.reset;
       hex.getHex -> dec.putInt;
   if)

--CalculatorDec2Hex:dopart--
do '' -> hex[];
   dec.reset;
   (* PutHex uses zeropadding. We do not want that.
    * dec.getInt -> hex.putHex;
    *)
   (16,dec.getInt)->hex.putRadix(# do true->uppercase #);
   
  
--CalculatorPrivate: descriptor--
(# 
#)

--ProgramStart: dopart--
do
   
--ProgramQuit: dopart--
do
   
