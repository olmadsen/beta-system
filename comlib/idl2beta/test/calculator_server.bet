ORIGIN 'Deep_Thought';
(*INCLUDE '~beta/win32lib/winerror';*)
--PROGRAM: descriptor--
(# ICalc_Impl: ICalc
     (# QueryInterface::
          (# 
          #);
        AddRef::
          (# 
          #);
        Release::
          (# 
          #);
        Add::
          (# do (v1 + v2) -> res #);
        Subtract::
          (# do (v1 - v2) -> res #);
        Multiply::
          (# do (v1 * v2) -> res #);
        Divide::
          (# 
          do (if op2 = 0 then 
                 0 -> res;
                 (*E_FAIL -> result;*)
              else
                 (v1 div v2) -> res;
             if);
          #);
        Modulus::
          (# 
          do (if op2 = 0 then 
                 0 -> res;
                 (*E_FAIL -> result;*)
              else
                 (v1 div v2) -> res;
             if);
          #);
     #);
   IConv_Impl: IConv
     (# QueryInterface::
          (# 
          #);
        AddRef::
          (# 
          #);
        Release::
          (# 
          #);
        Hex2Dec::
          (# 
          do (* (if '0' -> hex.equal then
              *     '0' -> dec[];
              *  else
              *     '' -> dec[];
              *     hex.reset;
              *     hex.getHex -> dec.putInt;
              * if);
              *)
         #);
       Dec2Hex::
          (# 
          do (* '' -> hex[];
              * dec.reset;
              * {* PutHex uses zeropadding. We do not want that.
              *  * dec.getInt -> hex.putHex;
              *  *}
              * (16,dec.getInt)->hex.putRadix(# do true->uppercase #);
              *)
          #);
     #);
do 
#)

