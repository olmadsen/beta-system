ORIGIN '~beta/basiclib/v1.6/file';
BODY 'private/betaoutfilebody' (* For now, it's a .bet text file *);
-- Lib:Attributes --

OutputFile: file
  (#
     Prolog:
       (# IdlFileName: ^text 
       enter IdlFileName[]  
       <<SLOT OutfileProlog:dopart>> 
       #);
     
     Epilog:
       (# 
       <<SLOT OutfileEpilog:dopart>>
       #);
     
     Indent: @
       (# textindent: @text;
          inc: 
            (# i: @integer;
            enter i
            do (for i repeat ' ' -> textindent.put for);
            #);
          dec:
            (# i: @integer
            enter i
            do (1,i) -> textindent.delete;
            #);
       do textindent[] -> puttext;
       #);
     
     PatternBegin:
       (# <<SLOT OutFilePatternBegin: dopart>> #);
     
     PatternEnd:
       (# <<SLOT OutFilePatternEnd: dopart>> #);
     
     CommentBegin:
       (# <<SLOT OutFileCommentBegin: dopart>> #);
     
     CommentEnd:
       (# <<SLOT OutFileCommentEnd: dopart>> #);
     
     CommentLine: 
       (# c: ^text;
       enter c[]
       <<SLOT OutFileCommentLine: dopart>>
       #);
                     
  #)
