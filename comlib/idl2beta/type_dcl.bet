ORIGIN 'translate';

--type_dcl_lib: attributes--
do_typedef:
  (# t: ^idl.typedef;
     x: ^idl.attributeX;
     a: ^idl.attributes;
  enter t[]
  do outfile.indent;
     (if t.getattribute_opt -> optionalPresent then
         t.getattribute_opt -> x[];
         x.getattributes -> a[];
         a.newscan
         (# 
         do 'do_attributeY NYI' -> outfile.comment;
         #);
     if);
     t.gettype_declarator -> do_type_declarator;
  #);
do_type_declarator:
  (# t: ^idl.type_declarator
  enter t[]
  do t.getdeclarators -> do_declarators;
     t.gettype_spec -> do_type_spec;
  #);
do_type_spec:
  (# t: ^idl.type_spec;
  enter t[]
  do 'do_type_spec NYI' -> outfile.commentline;
  #);
do_declarators:
  (# d: ^idl.declarators;
  enter d[]
  do 'typedef: do_declarators NYI' -> outfile.comment;
  #);
do_struct_type:
  (# t: ^idl.struct_type;
  enter t[]
  do outfile.indent;
     'do_struct_type NYI' -> outfile.commentline;
  #);
do_enum_type:
  (# t: ^idl.enum_type;
  enter t[]
  do outfile.indent;
     'do_enum_type NYI' -> outfile.commentline;
  #);
do_type_dcl_error:
  (# t: ^idl.type_dcl_error;
  enter t[]
  do outfile.indent;
     'do_type_dcl_error NYI' -> outfile.commentline;
  #);

--type_dcl_body: dopart--
do (if d.symbol
    // idl.typedef then
       d[] -> do_typedef;
    // idl.struct_type then
       d[] -> do_struct_type;
    // idl.enum_type then
       d[] -> do_enum_type;
    // idl.type_dcl_error then
       d[] -> do_type_dcl_error;
   if);
   
