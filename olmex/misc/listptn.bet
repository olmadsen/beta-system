ORIGIN '~beta/basiclib/betaenv'
---lib:attributes---
listPtn:
  (# E:< Object;
     list:<
       (# element: ^E;
          next: ^list;
          insertAfter:<
            (# L: ^list
            enter L[]
            do next[] -> L.next[];
               L[] -> next[];
               INNER
            #);
       #);
  #);
DblListPtn: ListPtn
  (# list::<
       (# prev: ^list;
          insertAfter::<
            (#
            do this(list)[] -> next.prev[]
            #)
       #)
  #)
---program:descriptor---
(# point: (# x,y: @integer #);
   
   PointListPtn: @ listPtn(# E::point#);
   PointList: @PointListPtn.list;
   
   DblPointListPtn: @ DblListPtn(# E::point #);
   DblPointList: ^DblPointListPtn.list
     
do &PointListPtn.list[] -> PointList.insertAfter;
   &DblPointListPtn.list[] -> DblPointList[];
   &DblPointListPtn.list[] -> DblPointList.insertAfter
#)
