ORIGIN '~beta/guienv/guienv';
INCLUDE '~beta/guienv/controls'
        '~beta/guienv/fields'
        '~beta/basiclib/textUtils';
-- guienvlib: Attributes --
sendWindow: window
  (#
     cToLabel: @staticText
       (#
          open:: 
            (#  do (10,10)->position; (95,25)->size; 'To: '->label #)
       #);
     cTo: @editText
       (#
          open::  (#  do (115,10)->position; (150,25)->size #);
          toName: @text;
          
       #);
     cSubjectLabel: @staticText
       (#
          open:: 
            (#  do (10,45)->position; (95,25)->size; 'Subject: '->label #)
       #);
     cSubject: @editText
       (# open::  (#  do (115,45)->position; (150,25)->size #);
          subject: @text;
       #);
     cCancel: @pushButton
       (#
          open:: 
            (#  do (115,90)->position; (80,25)->size; 'Cancel'->label #);
          eventhandler:: 
            (# onMouseUp::  (#  do THIS(sendWindow).close #) #)
       #);
     cSend: @pushButton
       (#
          open:: 
            (# 
            do (115+150-50,90)->position; (50,25)->size; 'Send'->label
            #);
          eventhandler:: 
            (#
               onMouseUp:: 
                 (# 
                 do
                    cTo.contents -> cTo.toName.setText;
                    cSubject.contents -> cSubject.subject.setText;
                    THIS(sendWindow).close
                 #)
            #)
       #);
     open:: 
       (# 
       do
          (40,40)->position;
          (275,125)->size;
          'New message'->title;
          cToLabel.open;
          cTo.open;
          cSubjectLabel.open;
          cSubject.open;
          cSend.open;
          cCancel.open;
          cSend[]->defaultButton
       #)
  #)  


