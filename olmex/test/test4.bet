ORIGIN '~beta/basiclib/betaenv';
BODY 'test4body'
---program:descriptor---
(* must be first - lib must be last *)
(#
do 'P'->put
#)
---lib:attributes---
min:
  (# a,b,c: @integer
  enter(a,b)
  do (if a < b then
         a -> c
      else
         b -> c
     if)
  exit c
  #);
getIt:
  (# V: @integer
  do 'W'-> V
  exit V
  #);
BOBS:
  (#
  do 'Q'-> put
  #);
LMRtest:
  (# LMRa,LMRb,LMRc,LMRd,LMRe,LMRf: @integer
  do LMRa;
     LMRb -> LMRc;
     LMRd -> LMRe -> LMRf
  #);
fisk:
  (# <<SLOT fiskLib:attributes>>;
     zzzz: @integer;
     bar: (#  <<SLOT bar:doPart>> #);
     snorf: <<SLOT snorf:descriptor>>;
     hest: @ <<SLOT hest:descriptor>>;
     Elvis:
       (# Vx:< (# fisk_x: @integer do inner #);
          Vy:< (##);
          Vz:< (##);
       #);
     Presley: Elvis
       (# Vx:: (# do 3 -> fisk_x #);
          Vy:: (# ch: @char do '@'-> ch #);
          Vz:: (# S: ^Text do 'Hello' -> S[] #)
       #);
     Record:
       (# xxx,yyy: @integer; 
          adr: @ (# street, city: @Text #)
       #);
     kulmule,dummy: @integer;
     Student: Record(# zzz: @integer #);
     Shool:
       (# GradStudent: Student(# www: @integer #);
          VVV: @integer;
          school_set:
            (#
            do 119 -> VVV;
               VVV + 1 -> VVV;
               BOBS;
               (12,19) -> min -> VVV;
               inner school_set;
               (#
               do inner school_set
               #)
            #)
       #);
     selector:
       (# a,b: @integer
       do (if a
           // 1 then 1011 -> b
           // 2 then 1012 -> b
           // 3 then 1013 -> b
           else
              1024 -> b
          if)
       #);
     RRR: @Record;
     SSS: RRR.adr(# #);
     TTT: @Record(##);
     kuk: RRR.adr.street(# do (*'Hello'>putline *) #);
     fsk: ^Fisk
  do this(fisk);
     this(fisk)[];
     &this(fisk)[] -> fsk[]; (* gir det mening? *)
     &Fisk[] -> fsk[];
     
     0 -> kulmule;
     (for dummy: 3 repeat
          dummy + 118 -> kulmule
     for);
     RRR.adr.street -> putline;
     (111,112) -> min -> dummy
  #)
