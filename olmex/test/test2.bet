ORIGIN '~beta/basiclib/betaenv';
INCLUDE 'test3';
---program:descriptor---
(#
do
#)
---lib:attributes---
foo:
  (# bar: @
       (# snorf: @ 
            (# X: @integer;
               R:  ^foo;
               run: (# do 'A'->put #)
            #)
       #)
  #);
remoteEx:
  (# RRR: @foo; S:  ^foo;
  do 17 -> RRR.bar.snorf.X;
     RRR.bar.snorf.run;
     none -> RRR.bar.snorf.R[];
     RRR.bar.snorf.R[] -> S[]
  #);
forImpEx:
  (# fx,fy: @integer
  do 97 -> fx;
     fx -> put;
     (for ixxx: 5 repeat
          fx + ixxx -> fy;
          fy -> put;
     for);
     ':'->put;
     fy+1 -> put
  #);
StrucRefEx:
  (# P: ##foo; B: @Boolean
  do foo## -> P##
     foo## = p## -> B;
  #);

