ORIGIN '~beta/basiclib/v1.5/betaenv';
(* 
 * $RCSfile: runAlloc.bet,v $ $Revision: 1.9 $ $Date: 1996-08-14 08:36:54 $
 *
 * COPYRIGHT
 *       Copyright Mjolner Informatics, 1992-94
 *       All rights reserved.
 *)
MDBODY linux   'private/runAlloc_runBody'
       mac     'private/runAlloc_runBody'
       nti     'private/runAlloc_runBody'
       hpux9mc 'private/runAlloc_runBody'
       ppc     'private/runAlloc_b2cBody'
       ppcmac  'private/runAlloc_newrunBody'
       sgi     'private/runAlloc_newrunBody'
       sun4    'private/runAlloc_sparcBody'
       sun4s   'private/runAlloc_sparcBody'
       default 'private/runAlloc_$Body';

--- lib: attributes ---
RuntimeAllocator:
  (# allocValRep: @ 
       (# ori: ^Object;
          offset: @Integer; (* byte offset into ori *)
          low, high: @Integer; (* range *)
       enter (ori[], offset, low, high)
       <<SLOT allocValRepBody:dopart>>
       #);
     
     allocByteRep: @ 
       (# ori: ^Object;
          offset: @Integer; (* byte offset into ori *)
          low, high: @Integer; (* range *)
       enter (ori[], offset, low, high)
       <<SLOT allocByteRepBody:dopart>>
       #); 
     
     allocWordRep: @ 
       (# ori: ^Object;
          offset: @Integer; (* byte offset into ori *)
          low, high: @Integer; (* range *)
       enter (ori[], offset, low, high)
       <<SLOT allocWordRepBody:dopart>>
       #); 
     
     allocDoubleRep: @  
       (# ori: ^Object;
          offset: @Integer; (* byte offset into ori *)
          low, high: @Integer; (* range *)
       enter (ori[], offset, low, high)
       <<SLOT allocDoubleRepBody:dopart>>
       #);
     
     allocRefRep:  @  
       (# ori: ^Object;
          offset: @Integer; (* byte offset into ori *)
          low, high: @Integer; (* range *)
       enter (ori[], offset, low, high)
       <<SLOT allocRefRepBody:dopart>>
       #);
     
     allocStructure: @
       (# iProto: @Integer;
          iOrigin: ^Object;
          obj: ^Object;     (* Object into which the reference is to be put *)
          offset: @Integer; (* Byte offset into obj *)
          fieldAdr,structAdr: @Integer; (* private *)
       enter (iProto, iOrigin[], obj[], offset)
       <<SLOT allocStructureBody:dopart>>
       #);
     
     allocHeap: @
       (# proto: @Integer;
          o: ^Object;
          objAdr: @Integer; (* private *)
       enter proto
       <<SLOT allocHeapBody:dopart>>
       exit o[]
       #);
  #)
