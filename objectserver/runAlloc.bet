ORIGIN '~beta/basiclib/v1.4/betaenv';

MDBODY sun3  'private/runAlloc_sun3Body'
       sun4  'private/runAlloc_sun4Body'
       sun4s 'private/runAlloc_sun4Body'
       hpux8 'private/runAlloc_hpBody'
       linux 'private/runAlloc_hpBody'
       snake 'private/runAlloc_snakeBody'
       mac   'private/runAlloc_macBody';

--- lib: attributes ---
RuntimeAllocator:
  (# allocValRep: @ 
       (# ori: ^Object;
          offset: @Integer; (* byte offset into ori *)
          low, high: @Integer; (* range *)
       enter (ori[], offset, low, high)
       <<SLOT allocValRepBody:dopart>>
       #);
     
     allocByteRep: @ 
       (# ori: ^Object;
          offset: @Integer; (* byte offset into ori *)
          low, high: @Integer; (* range *)
       enter (ori[], offset, low, high)
       <<SLOT allocByteRepBody:dopart>>
       #); 
     
     allocWordRep: @ 
       (# ori: ^Object;
          offset: @Integer; (* byte offset into ori *)
          low, high: @Integer; (* range *)
       enter (ori[], offset, low, high)
       <<SLOT allocWordRepBody:dopart>>
       #); 
     
     allocDoubleRep: @  
       (# ori: ^Object;
          offset: @Integer; (* byte offset into ori *)
          low, high: @Integer; (* range *)
       enter (ori[], offset, low, high)
       <<SLOT allocDoubleRepBody:dopart>>
       #);
     
     allocRefRep:  @  
       (# ori: ^Object;
          offset: @Integer; (* byte offset into ori *)
          low, high: @Integer; (* range *)
       enter (ori[], offset, low, high)
       <<SLOT allocRefRepBody:dopart>>
       #);
     
     allocStructure: @
       (# iProto: @Integer;
          iOrigin: ^Object;
          obj: ^Object;     (* Object into which the reference is to be put *)
          offset: @Integer; (* Byte offset into obj *)
          fieldAdr,structAdr: @Integer; (* private *)
       enter (iProto, iOrigin[], obj[], offset)
       <<SLOT allocStructureBody:dopart>>
       #);
     
     allocHeap: @
       (# proto: @Integer;
          o: ^Object;
          objAdr: @Integer; (* private *)
       enter proto
       <<SLOT allocHeapBody:dopart>>
       exit o[]
       #);
  #)
