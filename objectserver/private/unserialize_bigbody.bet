ORIGIN 'unserializeBody';
(* This body handles reading of serialized objects 
 * on big-endian machines.
 *)

-- unserializeReadSimpleBody:doPart --
do (for inx: poff.simpleCount repeat
        (poff.simpleVals[inx], rep.get) -> putInxLong;
   for)

   
-- unserializeHandleVRep:dopart --
do (if nbytes //0 then else
       (* Write substance into value repetitions: *)
       ((@@o -> tos'%adrGetLong')+byteinx->tos'%adrGetLong') + 16
         -> adrTarget;
       @@rep.r[rep.pos] -> adrSource;
       (adrTarget,adrSource,nbytes) -> memcpy;
       rep.pos + ((nbytes + 3) div 4) -> rep.pos;
   if);


-- unserializeHandleValRep:dopart --
do high*4 -> nbytes;
   (o[], byteinx, low, high) -> ra.allocValRep;


-- unserializeHandleByteRep:dopart --
do high -> nbytes;
   (o[], byteinx, low, high) -> ra.allocByteRep;

-- unserializeHandleWordRep:dopart --
do high*2 -> nbytes;
   (o[], byteinx, low, high) -> ra.allocWordRep;

-- unserializeHandleDoubleRep:dopart --
do high*8 -> nbytes;
   (o[], byteinx, low, high) -> ra.allocDoubleRep;
