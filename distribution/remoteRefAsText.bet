ORIGIN 'basicshell';
(* 
 * $RCSfile: remoteRefAsText.bet,v $ $Revision: 1.1.1.1 $ $Date: 1994-08-22 08:37:04 $
 *
 * COPYRIGHT
 *       Copyright Mjolner Informatics, 1992-94
 *       All rights reserved.
 *)
BODY 'private/remoteRefAsTextBody';

--- shellEnvLib:attributes ---

(* REFASTEXT
 * =========
 * 
 * Converts a remoteable reference into a text.
 * The text may later be converted into a reference
 * using refFromText.
 * 
 * If the remoteble given as parameter does not already 
 * have a globally unique OID, one is assigned. *)

refAsText:
  (# r: ^remoteable; t: ^Text;
  enter r[]
  do <<SLOT shellEnvRefAsText:descriptor>>
  exit t[]
  #);


(* REFFROMTEXT
 * ===========
 * 
 * Converts a text earlier created by refAsText back into the original
 * object reference. Doing so involves communication with the Shell
 * containing the object in order to obtain type information. *)

refFromText:
  (# t: ^Text; r: ^remoteable;
  enter t[]
  do <<SLOT shellEnvRefFromText:descriptor>>
  exit r[]
  #);
