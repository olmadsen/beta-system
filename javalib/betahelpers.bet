ORIGIN '~beta/basiclib/betaenv';

BUILD jvm 'jvm/$(objdir)/$(DYNPREFIX)BetaHelpers.$(DYNEXTENSION)' 'BetaHelpers.c' 'jvm/beta_BetaHelpers.h' 'betacc -G -I . -I jvm -I "$(JAVAHOME)/include" -I "$(JAVAHOME)/include/$(JNIDIR)" $0 $1';

BUILD jvm 'jvm/beta_BetaHelpers.h' 'jvm/beta/BetaHelpers.class' 'javah -jni -d jvm -classpath jvm beta.BetaHelpers';

BUILD jvm 'jvm/beta/BetaHelpers.class' 'BetaHelpers.java' 'javac -classpath jvm -d jvm $1';

INCLUDE 'java/lang/String';
INCLUDE 'java/io/InputStream';
INCLUDE 'java/io/PrintStream';

--LIB: attributes--

BetaHelpers: ExternalClass
  (# 
     (* static methods *)
      
     int2long: static_proc
       (# I: @int32;
          J: @int64;
       enter I
       exit J
       #);
     
     long2int: static_proc
       (# J: @int64;
          I: @int32;
       enter J
       exit I
       #);
     
     int2longMul1000: static_proc
       (# I: @int32;
          J: @int64;
       enter I
       exit J
       #);

     long2intDiv1000: static_proc
       (# J: @int64;
          I: @int32;
       enter J
       exit I
       #);
     
     long2Ints: static_proc
       (# J: @int64;
          I: [2]@int32;
       enter J
       exit I[]
       #);
     
     ints2Long: static_proc
       (# J: @int64;
          I1, I2: @int32;
       enter (I1, I2)
       exit J
       #);
     
     get_System_in: static_proc
       (# in: ^InputStream
       exit in[]
       #);
     
     get_System_out: static_proc
       (# out: ^PrintStream
       exit out[]
       #);
     
     get_System_err: static_proc
       (# err: ^PrintStream
       exit err[]
       #);
     
     loadJNILibraries: static_proc
       (# 
       #);
     
     (* Native methods *)
     
     getenv: static_proc
       (# key, value: ^String
       enter key[]
       exit value[]
       #);
     
     setFileExePermission: static_proc
       (# path: ^String
       enter path[]
       #);
     
  do 'beta/BetaHelpers' -> classname;
  #);

String2Text:
  (# S: ^String;
     T: ^Text;
  enter S[]
  exit S[]->T[]
  #);
