ORIGIN 'mactypes';
-- Lib: Attributes --
(* Toolbox event *)
everyEvent: (# exit - 1 #);
NullEvent: (# exit 0 #);
mousedown: (# exit 1 #);
mouseUp: (# exit 2 #);
keydown: (# exit 3 #);
keyUp: (# exit 4 #);
autoKey: (# exit 5 #);
updateEvt: (# exit 6 #);
diskEvt: (# exit 7 #);
activateEvt: (# exit 8 #);
networkEvt: (# exit 10 #);
driverEvt: (# exit 11 #);
app1Evt: (# exit 12 #);
app2Evt: (# exit 13 #);
app3Evt: (# exit 14 #);
app4Evt: (# exit 15 #);
EventRecord: CStruct
  (# ByteSize::< (# do 16->Value;  #);
     what: Short (# Pos::< (# do 0->Value;  #);  #);
     message: Long (# Pos::< (# do 2->Value;  #);  #);
     keyCode: Byte (# Pos::< (# do 4->Value;  #);  #);
     charCode: Byte (# Pos::< (# do 5->Value;  #);  #);
     when: Long (# Pos::< (# do 6->Value;  #);  #);
     where: Long (# Pos::< (# do 10->Value;  #);  #);
     modifiers: Short (# Pos::< (# do 14->Value;  #);  #);
     app4Selector: Byte (# Pos::< (# do 2->Value;  #);  #);
     childDiedStatus: Byte (# Pos::< (# do 3->Value;  #);  #);
     resume: (# b: @Boolean exit message->tos'%GetBits[31,1]'->b #);
     scrapDataHasChanged: (# b: @Boolean exit message->tos'%GetBits[30,1]'->b #);
     activeFlag: (# b: @Boolean exit modifiers->tos'%GetBits[31,1]'->b #);
     btnState: (# b: @Boolean exit modifiers->tos'%GetBits[24,1]'->b #);
     cmdKey: (# b: @Boolean exit modifiers->tos'%GetBits[23,1]'->b #);
     shiftKey: (# b: @Boolean exit modifiers->tos'%GetBits[22,1]'->b #);
     alphaLock: (# b: @Boolean exit modifiers->tos'%GetBits[21,1]'->b #);
     optionKey: (# b: @Boolean exit modifiers->tos'%GetBits[20,1]'->b #);
     controlKey: (# b: @Boolean exit modifiers->tos'%GetBits[19,1]'->b #);
     
  #);
KeyMap: CStruct (# byteSize::< (# do 16->Value;  #);  #);
GetNextEvent: External
  (# eventMask: @ShortInt; theEvent: ^EventRecord; result: @Boolean; 
  enter (eventMask,theEvent[])
  do '$A970'->PascalTrap; 
  exit result
  #);
WaitNextEvent: External
  (# eventMask: @ShortInt; theEvent: ^EventRecord; sleep,mouseRgn: @Integer; result: @Boolean; 
  enter (eventMask,theEvent[],sleep,mouseRgn)
  do '$A860'->PascalTrap; 
  exit result
  #);
EventAvail: External
  (# eventMask: @ShortInt; theEvent: ^EventRecord; result: @Boolean; 
  enter (eventMask,theEvent[])
  do '$A971'->PascalTrap; 
  #);
GetMouse: External (# mouseLoc: ^MacPoint enter mouseLoc[] do '$A972'->PascalTrap;  #);
Button: External (# res: @Boolean;  do '$A974'->PascalTrap;  exit res #);
StillDown: External (# res: @Boolean;  do '$A973'->PascalTrap;  exit res #);
WaitMouseUp: External (# res: @Boolean;  do '$A977'->PascalTrap;  exit res #);
GetKeys: External (# theKeys: ^KeyMap enter theKeys do '$A976'->PascalTrap;  #);
TickCount: External (# value: @Integer do '$A975'->PascalTrap;  exit value #);
GetDblTime: External (# value: @Integer do '{$2EB8,$02F0}'->PascalTrap;  exit value #);
GetCaretTime: External (# value: @Integer do '{$2EB8,$02F4}'->PascalTrap;  exit value #);
(* OS event *)
FlushEvents: External
  (# whichMask,stopMask: @ShortInt; 
  enter (whichMask,stopMask)
  do '{$201F,$A032}'->PascalTrap; 
  #);
GetEvQHdr: External (# QHdrPtr: @Integer;  do CallPascal;  exit QHdrPtr #);
GetOSEvent: External
  (# mask: @ShortInt; theEvent: ^EventRecord; result: @Boolean; 
  enter (mask,theEvent[])
  do CallPascal; 
  exit result
  #);
OSEventAvail: External
  (# mask: @ShortInt; theEvent: ^EventRecord; result: @Boolean; 
  enter (mask,theEvent[])
  do CallPascal; 
  exit result
  #);
PostEvent: External
  (# eventNum: @ShortInt; eventMsg: @Integer; OSErr: @ShortInt; 
  enter (eventNum,eventMsg)
  do CallPascal; 
  exit OSErr
  #);
PPostEvent: External
  (# eventNum: @ShortInt; eventMsg,ptr: @Integer; OSErr: @ShortInt
  enter (eventNum,eventMsg,ptr)
  do CallPascal; 
  exit OSErr
  #);
SetEventMask: External
  (# theMask: @ShortInt;  enter theMask do '{$31DF,$0144}'->PascalTrap;  #);
  

